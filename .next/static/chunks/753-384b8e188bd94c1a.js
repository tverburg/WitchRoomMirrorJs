(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[753],{9742:function(t,e){"use strict";e.byteLength=function(t){var e=l(t),r=e[0],n=e[1];return(r+n)*3/4-n},e.toByteArray=function(t){var e,r,o=l(t),s=o[0],a=o[1],u=new i((s+a)*3/4-a),h=0,c=a>0?s-4:s;for(r=0;r<c;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],u[h++]=e>>16&255,u[h++]=e>>8&255,u[h++]=255&e;return 2===a&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,u[h++]=255&e),1===a&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,u[h++]=e>>8&255,u[h++]=255&e),u},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(function(t,e,n){for(var i,o=[],s=e;s<n;s+=3)o.push(r[(i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}(t,s,s+16383>a?a:s+16383));return 1===i?o.push(r[(e=t[n-1])>>2]+r[e<<4&63]+"=="):2===i&&o.push(r[(e=(t[n-2]<<8)+t[n-1])>>10]+r[e>>4&63]+r[e<<2&63]+"="),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");-1===r&&(r=e);var n=r===e?0:4-r%4;return[r,n]}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},9668:function(t,e,r){"use strict";let{Buffer:n}=r(8764),i=Symbol.for("BufferList");function o(t){if(!(this instanceof o))return new o(t);o._init.call(this,t)}o._init=function(t){Object.defineProperty(this,i,{value:!0}),this._bufs=[],this.length=0,t&&this.append(t)},o.prototype._new=function(t){return new o(t)},o.prototype._offset=function(t){if(0===t)return[0,0];let e=0;for(let r=0;r<this._bufs.length;r++){let n=e+this._bufs[r].length;if(t<n||r===this._bufs.length-1)return[r,t-e];e=n}},o.prototype._reverseOffset=function(t){let e=t[0],r=t[1];for(let t=0;t<e;t++)r+=this._bufs[t].length;return r},o.prototype.get=function(t){if(t>this.length||t<0)return;let e=this._offset(t);return this._bufs[e[0]][e[1]]},o.prototype.slice=function(t,e){return"number"==typeof t&&t<0&&(t+=this.length),"number"==typeof e&&e<0&&(e+=this.length),this.copy(null,0,t,e)},o.prototype.copy=function(t,e,r,i){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof i||i>this.length)&&(i=this.length),r>=this.length||i<=0)return t||n.alloc(0);let o=!!t,s=this._offset(r),a=i-r,l=a,u=o&&e||0,h=s[1];if(0===r&&i===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:n.concat(this._bufs,this.length);for(let e=0;e<this._bufs.length;e++)this._bufs[e].copy(t,u),u+=this._bufs[e].length;return t}if(l<=this._bufs[s[0]].length-h)return o?this._bufs[s[0]].copy(t,e,h,h+l):this._bufs[s[0]].slice(h,h+l);o||(t=n.allocUnsafe(a));for(let e=s[0];e<this._bufs.length;e++){let r=this._bufs[e].length-h;if(l>r)this._bufs[e].copy(t,u,h),u+=r;else{this._bufs[e].copy(t,u,h,h+l),u+=r;break}l-=r,h&&(h=0)}return t.length>u?t.slice(0,u):t},o.prototype.shallowSlice=function(t,e){if(t=t||0,e="number"!=typeof e?this.length:e,t<0&&(t+=this.length),e<0&&(e+=this.length),t===e)return this._new();let r=this._offset(t),n=this._offset(e),i=this._bufs.slice(r[0],n[0]+1);return 0===n[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,n[1]),0!==r[1]&&(i[0]=i[0].slice(r[1])),this._new(i)},o.prototype.toString=function(t,e,r){return this.slice(e,r).toString(t)},o.prototype.consume=function(t){if(Number.isNaN(t=Math.trunc(t))||t<=0)return this;for(;this._bufs.length;)if(t>=this._bufs[0].length)t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}return this},o.prototype.duplicate=function(){let t=this._new();for(let e=0;e<this._bufs.length;e++)t.append(this._bufs[e]);return t},o.prototype.append=function(t){if(null==t)return this;if(t.buffer)this._appendBuffer(n.from(t.buffer,t.byteOffset,t.byteLength));else if(Array.isArray(t))for(let e=0;e<t.length;e++)this.append(t[e]);else if(this._isBufferList(t))for(let e=0;e<t._bufs.length;e++)this.append(t._bufs[e]);else"number"==typeof t&&(t=t.toString()),this._appendBuffer(n.from(t));return this},o.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length},o.prototype.indexOf=function(t,e,r){if(void 0===r&&"string"==typeof e&&(r=e,e=void 0),"function"==typeof t||Array.isArray(t))throw TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof t?t=n.from([t]):"string"==typeof t?t=n.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=n.from(t.buffer,t.byteOffset,t.byteLength):n.isBuffer(t)||(t=n.from(t)),isNaN(e=Number(e||0))&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),0===t.length)return e>this.length?this.length:e;let i=this._offset(e),o=i[0],s=i[1];for(;o<this._bufs.length;o++){let e=this._bufs[o];for(;s<e.length;){let r=e.length-s;if(r>=t.length){let r=e.indexOf(t,s);if(-1!==r)return this._reverseOffset([o,r]);s=e.length-t.length+1}else{let e=this._reverseOffset([o,s]);if(this._match(e,t))return e;s++}}s=0}return -1},o.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(let r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return!1;return!0},function(){let t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in t)!function(e){null===t[e]?o.prototype[e]=function(t,r){return this.slice(t,t+r)[e](0,r)}:o.prototype[e]=function(r=0){return this.slice(r,r+t[e])[e](0)}}(e)}(),o.prototype._isBufferList=function(t){return t instanceof o||o.isBufferList(t)},o.isBufferList=function(t){return null!=t&&t[i]},t.exports=o},22:function(t,e,r){"use strict";let n=r(8473).Duplex,i=r(5717),o=r(9668);function s(t){if(!(this instanceof s))return new s(t);if("function"==typeof t){this._callback=t;let e=(function(t){this._callback&&(this._callback(t),this._callback=null)}).bind(this);this.on("pipe",function(t){t.on("error",e)}),this.on("unpipe",function(t){t.removeListener("error",e)}),t=null}o._init.call(this,t),n.call(this)}i(s,n),Object.assign(s.prototype,o.prototype),s.prototype._new=function(t){return new s(t)},s.prototype._write=function(t,e,r){this._appendBuffer(t),"function"==typeof r&&r()},s.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)},s.prototype.end=function(t){n.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(t,e){this._bufs.length=0,this.length=0,e(t)},s.prototype._isBufferList=function(t){return t instanceof s||t instanceof o||s.isBufferList(t)},s.isBufferList=o.isBufferList,t.exports=s,t.exports.BufferListStream=s,t.exports.BufferList=o},8764:function(t,e,r){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var n=r(9742),i=r(645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function s(t){if(t>2147483647)throw RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,a.prototype),e}function a(t,e,r){if("number"==typeof t){if("string"==typeof e)throw TypeError('The "string" argument must be of type string. Received type number');return h(t)}return l(t,e,r)}function l(t,e,r){if("string"==typeof t)return function(t,e){if(("string"!=typeof e||""===e)&&(e="utf8"),!a.isEncoding(e))throw TypeError("Unknown encoding: "+e);var r=0|d(t,e),n=s(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(C(t,Uint8Array)){var e=new Uint8Array(t);return p(e.buffer,e.byteOffset,e.byteLength)}return c(t)}(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(C(t,ArrayBuffer)||t&&C(t.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(C(t,SharedArrayBuffer)||t&&C(t.buffer,SharedArrayBuffer)))return p(t,e,r);if("number"==typeof t)throw TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return a.from(n,e,r);var i=function(t){if(a.isBuffer(t)){var e,r=0|f(t.length),n=s(r);return 0===n.length||t.copy(n,0,0,r),n}return void 0!==t.length?"number"!=typeof t.length||(e=t.length)!=e?s(0):c(t):"Buffer"===t.type&&Array.isArray(t.data)?c(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return a.from(t[Symbol.toPrimitive]("string"),e,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw TypeError('"size" argument must be of type number');if(t<0)throw RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return u(t),s(t<0?0:0|f(t))}function c(t){for(var e=t.length<0?0:0|f(t.length),r=s(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function p(t,e,r){var n;if(e<0||t.byteLength<e)throw RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),a.prototype),n}function f(t){if(t>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|t}function d(t,e){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||C(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return A(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return P(t).length;default:if(i)return n?-1:A(t).length;e=(""+e).toLowerCase(),i=!0}}function m(t,e,r){var i,o,s=!1;if((void 0===e||e<0)&&(e=0),e>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(e>>>=0)))return"";for(t||(t="utf8");;)switch(t){case"hex":return function(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=I[t[o]];return i}(this,e,r);case"utf8":case"utf-8":return b(this,e,r);case"ascii":return function(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}(this,e,r);case"latin1":case"binary":return function(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}(this,e,r);case"base64":return i=e,o=r,0===i&&o===this.length?n.fromByteArray(this):n.fromByteArray(this.slice(i,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}(this,e,r);default:if(s)throw TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),s=!0}}function g(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,i){var o;if(0===t.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),(o=r=+r)!=o&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return -1;r=t.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof e&&(e=a.from(e,n)),a.isBuffer(e))return 0===e.length?-1:v(t,e,r,n,i);if("number"==typeof e)return(e&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):v(t,[e],r,n,i);throw TypeError("val must be string, number or Buffer")}function v(t,e,r,n,i){var o,s=1,a=t.length,l=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return -1;s=2,a/=2,l/=2,r/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var h=-1;for(o=r;o<a;o++)if(u(t,o)===u(e,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===l)return h*s}else -1!==h&&(o-=o-h),h=-1}else for(r+l>a&&(r=a-l),o=r;o>=0;o--){for(var c=!0,p=0;p<l;p++)if(u(t,o+p)!==u(e,p)){c=!1;break}if(c)return o}return -1}function b(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,a,l,u=t[i],h=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c<=r)switch(c){case 1:u<128&&(h=u);break;case 2:(192&(o=t[i+1]))==128&&(l=(31&u)<<6|63&o)>127&&(h=l);break;case 3:o=t[i+1],s=t[i+2],(192&o)==128&&(192&s)==128&&(l=(15&u)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(h=l);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(l=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(h=l)}null===h?(h=65533,c=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),i+=c}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return r}(n)}function w(t,e,r){if(t%1!=0||t<0)throw RangeError("offset is not uint");if(t+e>r)throw RangeError("Trying to access beyond buffer length")}function _(t,e,r,n,i,o){if(!a.isBuffer(t))throw TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw RangeError('"value" argument is out of bounds');if(r+n>t.length)throw RangeError("Index out of range")}function S(t,e,r,n,i,o){if(r+n>t.length||r<0)throw RangeError("Index out of range")}function E(t,e,r,n,o){return e=+e,r>>>=0,o||S(t,e,r,4,34028234663852886e22,-34028234663852886e22),i.write(t,e,r,n,23,4),r+4}function x(t,e,r,n,o){return e=+e,r>>>=0,o||S(t,e,r,8,17976931348623157e292,-17976931348623157e292),i.write(t,e,r,n,52,8),r+8}e.Buffer=a,e.SlowBuffer=function(t){return+t!=t&&(t=0),a.alloc(+t)},e.INSPECT_MAX_BYTES=50,e.kMaxLength=2147483647,a.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(t,e,r){return l(t,e,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(t,e,r){return(u(t),t<=0)?s(t):void 0!==e?"string"==typeof r?s(t).fill(e,r):s(t).fill(e):s(t)},a.allocUnsafe=function(t){return h(t)},a.allocUnsafeSlow=function(t){return h(t)},a.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==a.prototype},a.compare=function(t,e){if(C(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),C(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(t)||!a.isBuffer(e))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!Array.isArray(t))throw TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);if(void 0===e)for(r=0,e=0;r<t.length;++r)e+=t[r].length;var r,n=a.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(C(o,Uint8Array))i+o.length>n.length?a.from(o).copy(n,i):Uint8Array.prototype.set.call(n,o,i);else if(a.isBuffer(o))o.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=o.length}return n},a.byteLength=d,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},a.prototype.toString=function(){var t=this.length;return 0===t?"":0==arguments.length?b(this,0,t):m.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(t){if(!a.isBuffer(t))throw TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(a.prototype[o]=a.prototype.inspect),a.prototype.compare=function(t,e,r,n,i){if(C(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(t))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return -1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var o=i-n,s=r-e,l=Math.min(o,s),u=this.slice(n,i),h=t.slice(e,r),c=0;c<l;++c)if(u[c]!==h[c]){o=u[c],s=h[c];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(t,e,r){return -1!==this.indexOf(t,e,r)},a.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},a.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},a.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else if(isFinite(e))e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,o,s,a,l,u,h,c,p=this.length-e;if((void 0===r||r>p)&&(r=p),t.length>0&&(r<0||e<0)||e>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var f=!1;;)switch(n){case"hex":return function(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(a!=a)break;t[r+s]=a}return s}(this,t,e,r);case"utf8":case"utf-8":return i=e,o=r,T(A(t,this.length-i),this,i,o);case"ascii":case"latin1":case"binary":return s=e,a=r,T(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(t),this,s,a);case"base64":return l=e,u=r,T(P(t),this,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h=e,c=r,T(function(t,e){for(var r,n,i=[],o=0;o<t.length&&!((e-=2)<0);++o)n=(r=t.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(t,this.length-h),this,h,c);default:if(f)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),f=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUintLE=a.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||w(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},a.prototype.readUintBE=a.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||w(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},a.prototype.readUint8=a.prototype.readUInt8=function(t,e){return t>>>=0,e||w(t,1,this.length),this[t]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(t,e){return t>>>=0,e||w(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(t,e){return t>>>=0,e||w(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(t,e){return t>>>=0,e||w(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(t,e){return t>>>=0,e||w(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||w(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},a.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||w(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},a.prototype.readInt8=function(t,e){return(t>>>=0,e||w(t,1,this.length),128&this[t])?-((255-this[t]+1)*1):this[t]},a.prototype.readInt16LE=function(t,e){t>>>=0,e||w(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(t,e){t>>>=0,e||w(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(t,e){return t>>>=0,e||w(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return t>>>=0,e||w(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return t>>>=0,e||w(t,4,this.length),i.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return t>>>=0,e||w(t,4,this.length),i.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return t>>>=0,e||w(t,8,this.length),i.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return t>>>=0,e||w(t,8,this.length),i.read(this,t,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;_(this,t,e,r,i,0)}var o=1,s=0;for(this[e]=255&t;++s<r&&(o*=256);)this[e+s]=t/o&255;return e+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;_(this,t,e,r,i,0)}var o=r-1,s=1;for(this[e+o]=255&t;--o>=0&&(s*=256);)this[e+o]=t/s&255;return e+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||_(this,t,e,1,255,0),this[e]=255&t,e+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||_(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||_(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||_(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||_(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);_(this,t,e,r,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},a.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);_(this,t,e,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},a.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||_(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||_(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||_(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||_(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},a.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||_(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeFloatLE=function(t,e,r){return E(this,t,e,!0,r)},a.prototype.writeFloatBE=function(t,e,r){return E(this,t,e,!1,r)},a.prototype.writeDoubleLE=function(t,e,r){return x(this,t,e,!0,r)},a.prototype.writeDoubleBE=function(t,e,r){return x(this,t,e,!1,r)},a.prototype.copy=function(t,e,r,n){if(!a.isBuffer(t))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r||0===t.length||0===this.length)return 0;if(e<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},a.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===t.length){var i,o=t.charCodeAt(0);("utf8"===n&&o<128||"latin1"===n)&&(t=o)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw RangeError("Out of range index");if(r<=e)return this;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var s=a.isBuffer(t)?t:a.from(t,n),l=s.length;if(0===l)throw TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=s[i%l]}return this};var k=/[^+/0-9A-Za-z-_]/g;function A(t,e){e=e||1/0;for(var r,n=t.length,i=null,o=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319||s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function P(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(k,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function T(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length)&&!(i>=t.length);++i)e[i+r]=t[i];return i}function C(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}var I=function(){for(var t="0123456789abcdef",e=Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)e[n+i]=t[r]+t[i];return e}()},1227:function(t,e,r){let n;var i=r(3454);e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let r="color: "+this.color;e.splice(1,0,r,"color: inherit");let n=0,i=0;e[0].replace(/%[a-zA-Z%]/g,t=>{"%%"!==t&&(n++,"%c"===t&&(i=n))}),e.splice(i,0,r)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}return!t&&void 0!==i&&"env"in i&&(t=i.env.DEBUG),t},e.useColors=function(){return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=function(){try{return localStorage}catch(t){}}(),e.destroy=(n=!1,()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=r(2447)(e);let{formatters:o}=t.exports;o.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},2447:function(t,e,r){t.exports=function(t){function e(t){let r,i,o;let s=null;function a(...t){if(!a.enabled)return;let n=a,i=Number(new Date),o=i-(r||i);n.diff=o,n.prev=r,n.curr=i,r=i,t[0]=e.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let s=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(r,i)=>{if("%%"===r)return"%";s++;let o=e.formatters[i];if("function"==typeof o){let e=t[s];r=o.call(n,e),t.splice(s,1),s--}return r}),e.formatArgs.call(n,t);let l=n.log||e.log;l.apply(n,t)}return a.namespace=t,a.useColors=e.useColors(),a.color=e.selectColor(t),a.extend=n,a.destroy=e.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==e.namespaces&&(i=e.namespaces,o=e.enabled(t)),o),set:t=>{s=t}}),"function"==typeof e.init&&e.init(a),a}function n(t,r){let n=e(this.namespace+(void 0===r?":":r)+t);return n.log=this.log,n}function i(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){let t=[...e.names.map(i),...e.skips.map(i).map(t=>"-"+t)].join(",");return e.enable(""),t},e.enable=function(t){let r;e.save(t),e.namespaces=t,e.names=[],e.skips=[];let n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(RegExp("^"+t.slice(1)+"$")):e.names.push(RegExp("^"+t+"$")))},e.enabled=function(t){let r,n;if("*"===t[t.length-1])return!0;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(7824),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(r=>{e[r]=t[r]}),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(t){let r=0;for(let e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e)|0;return e.colors[Math.abs(r)%e.colors.length]},e.enable(e.load()),e}},5981:function(t,e,r){var n=r(8764).Buffer,i=r(3454),o=r(8473),s=r(2840),a=r(5717),l=r(1852),u=n.from&&n.from!==Uint8Array.from?n.from([0]):new n([0]),h=function(t,e){t._corked?t.once("uncork",e):e()},c=function(t,e){t._autoDestroy&&t.destroy(e)},p=function(t,e){return function(r){r?c(t,"premature close"===r.message?null:r):e&&!t._ended&&t.end()}},f=function(){},d=function(t,e,r){if(!(this instanceof d))return new d(t,e,r);o.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||!1!==r.autoDestroy,this._forwardDestroy=!r||!1!==r.destroy,this._forwardEnd=!r||!1!==r.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,t&&this.setWritable(t),e&&this.setReadable(e)};a(d,o.Duplex),d.obj=function(t,e,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new d(t,e,r)},d.prototype.cork=function(){1==++this._corked&&this.emit("cork")},d.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},d.prototype.setWritable=function(t){if(this._unwrite&&this._unwrite(),this.destroyed){t&&t.destroy&&t.destroy();return}if(null===t||!1===t){this.end();return}var e=this,r=s(t,{writable:!0,readable:!1},p(this,this._forwardEnd)),n=function(){var t=e._ondrain;e._ondrain=null,t&&t()};this._unwrite&&i.nextTick(n),this._writable=t,this._writable.on("drain",n),this._unwrite=function(){e._writable.removeListener("drain",n),r()},this.uncork()},d.prototype.setReadable=function(t){if(this._unread&&this._unread(),this.destroyed){t&&t.destroy&&t.destroy();return}if(null===t||!1===t){this.push(null),this.resume();return}var e=this,r=s(t,{writable:!1,readable:!0},p(this)),n=function(){e._forward()},i=function(){e.push(null)};this._drained=!0,this._readable=t,this._readable2=t._readableState?t:new o.Readable({objectMode:!0,highWaterMark:16}).wrap(t),this._readable2.on("readable",n),this._readable2.on("end",i),this._unread=function(){e._readable2.removeListener("readable",n),e._readable2.removeListener("end",i),r()},this._forward()},d.prototype._read=function(){this._drained=!0,this._forward()},d.prototype._forward=function(){var t;if(!this._forwarding&&this._readable2&&this._drained){for(this._forwarding=!0;this._drained&&null!==(t=l(this._readable2));)this.destroyed||(this._drained=this.push(t));this._forwarding=!1}},d.prototype.destroy=function(t,e){if(e||(e=f),this.destroyed)return e(null);this.destroyed=!0;var r=this;i.nextTick(function(){r._destroy(t),e(null)})},d.prototype._destroy=function(t){if(t){var e=this._ondrain;this._ondrain=null,e?e(t):this.emit("error",t)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},d.prototype._write=function(t,e,r){if(!this.destroyed){if(this._corked)return h(this,this._write.bind(this,t,e,r));if(t===u)return this._finish(r);if(!this._writable)return r();!1===this._writable.write(t)?this._ondrain=r:this.destroyed||r()}},d.prototype._finish=function(t){var e=this;this.emit("preend"),h(this,function(){var r,n;r=e._forwardEnd&&e._writable,n=function(){!1===e._writableState.prefinished&&(e._writableState.prefinished=!0),e.emit("prefinish"),h(e,t)},!r||r._writableState&&r._writableState.finished?n():r._writableState?r.end(n):(r.end(),n())})},d.prototype.end=function(t,e,r){return"function"==typeof t?this.end(null,null,t):"function"==typeof e?this.end(t,null,e):(this._ended=!0,t&&this.write(t),this._writableState.ending||this._writableState.destroyed||this.write(u),o.Writable.prototype.end.call(this,r))},t.exports=d},2840:function(t,e,r){var n=r(3454),i=r(778),o=function(){},s=function(t,e,r){if("function"==typeof e)return s(t,null,e);e||(e={}),r=i(r||o);var a=t._writableState,l=t._readableState,u=e.readable||!1!==e.readable&&t.readable,h=e.writable||!1!==e.writable&&t.writable,c=!1,p=function(){t.writable||f()},f=function(){h=!1,u||r.call(t)},d=function(){u=!1,h||r.call(t)},m=function(e){r.call(t,e?Error("exited with error code: "+e):null)},g=function(e){r.call(t,e)},y=function(){n.nextTick(v)},v=function(){if(!c&&(u&&!(l&&l.ended&&!l.destroyed)||h&&!(a&&a.ended&&!a.destroyed)))return r.call(t,Error("premature close"))},b=function(){t.req.on("finish",f)};return t.setHeader&&"function"==typeof t.abort?(t.on("complete",f),t.on("abort",y),t.req?b():t.on("request",b)):h&&!a&&(t.on("end",p),t.on("close",p)),t.stdio&&Array.isArray(t.stdio)&&3===t.stdio.length&&t.on("exit",m),t.on("end",d),t.on("finish",f),!1!==e.error&&t.on("error",g),t.on("close",y),function(){c=!0,t.removeListener("complete",f),t.removeListener("abort",y),t.removeListener("request",b),t.req&&t.req.removeListener("finish",f),t.removeListener("end",p),t.removeListener("close",p),t.removeListener("finish",f),t.removeListener("exit",m),t.removeListener("end",d),t.removeListener("error",g),t.removeListener("close",y)}};t.exports=s},7187:function(t){"use strict";var e,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise(function(r,n){function i(r){t.removeListener(e,o),n(r)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}m(t,e,o,{once:!0}),"error"!==e&&"function"==typeof t.on&&m(t,"error",i,{once:!0})})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(t){if("function"!=typeof t)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function u(t,e,r,n){if(a(r),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),void 0===s)s=o[e]=r,++t._eventsCount;else if("function"==typeof s?s=o[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=l(t))>0&&s.length>i&&!s.warned){s.warned=!0;var i,o,s,u=Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=s.length,console&&console.warn&&console.warn(u)}return t}function h(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=h.bind(n);return i.listener=r,n.wrapFn=i,i}function p(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):d(i,i.length)}function f(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function d(t,e){for(var r=Array(e),n=0;n<e;++n)r[n]=t[n];return r}function m(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else if("function"==typeof t.addEventListener)t.addEventListener(e,function i(o){n.once&&t.removeEventListener(e,i),r(o)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||i(t))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),o.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i="error"===t,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var s,a=Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=o[t];if(void 0===l)return!1;if("function"==typeof l)n(l,this,e);else for(var u=l.length,h=d(l,u),r=0;r<u;++r)n(h[r],this,e);return!0},o.prototype.addListener=function(t,e){return u(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return u(this,t,e,!0)},o.prototype.once=function(t,e){return a(e),this.on(t,c(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,c(this,t,e)),this},o.prototype.removeListener=function(t,e){var r,n,i,o,s;if(a(e),void 0===(n=this._events)||void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,s||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0==arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},o.prototype.listeners=function(t){return p(this,t,!0)},o.prototype.rawListeners=function(t){return p(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):f.call(t,e)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},645:function(t,e){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */e.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,l=(1<<a)-1,u=l>>1,h=-7,c=r?i-1:0,p=r?-1:1,f=t[e+c];for(c+=p,o=f&(1<<-h)-1,f>>=-h,h+=a;h>0;o=256*o+t[e+c],c+=p,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=n;h>0;s=256*s+t[e+c],c+=p,h-=8);if(0===o)o=1-u;else{if(o===l)return s?NaN:(f?-1:1)*(1/0);s+=Math.pow(2,n),o-=u}return(f?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,a,l,u=8*o-i-1,h=(1<<u)-1,c=h>>1,p=23===i?5960464477539062e-23:0,f=n?0:o-1,d=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(isNaN(e=Math.abs(e))||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+c>=1?e+=p/l:e+=p*Math.pow(2,1-c),e*l>=2&&(s++,l/=2),s+c>=h?(a=0,s=h):s+c>=1?(a=(e*l-1)*Math.pow(2,i),s+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;t[r+f]=255&a,f+=d,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[r+f]=255&s,f+=d,s/=256,u-=8);t[r+f-d]|=128*m}},5717:function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},9593:function(t,e,r){"use strict";let n=r(4411),i=Symbol("max"),o=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),l=Symbol("maxAge"),u=Symbol("dispose"),h=Symbol("noDisposeOnSet"),c=Symbol("lruList"),p=Symbol("cache"),f=Symbol("updateAgeOnGet"),d=()=>1,m=(t,e,r)=>{let n=t[p].get(e);if(n){let e=n.value;if(g(t,e)){if(v(t,n),!t[a])return}else r&&(t[f]&&(n.value.now=Date.now()),t[c].unshiftNode(n));return e.value}},g=(t,e)=>{if(!e||!e.maxAge&&!t[l])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[l]&&r>t[l]},y=t=>{if(t[o]>t[i])for(let e=t[c].tail;t[o]>t[i]&&null!==e;){let r=e.prev;v(t,e),e=r}},v=(t,e)=>{if(e){let r=e.value;t[u]&&t[u](r.key,r.value),t[o]-=r.length,t[p].delete(r.key),t[c].removeNode(e)}};class b{constructor(t,e,r,n,i){this.key=t,this.value=e,this.length=r,this.now=n,this.maxAge=i||0}}let w=(t,e,r,n)=>{let i=r.value;g(t,i)&&(v(t,r),t[a]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};t.exports=class{constructor(t){if("number"==typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!=typeof t.max||t.max<0))throw TypeError("max must be a non-negative number");this[i]=t.max||1/0;let e=t.length||d;if(this[s]="function"!=typeof e?d:e,this[a]=t.stale||!1,t.maxAge&&"number"!=typeof t.maxAge)throw TypeError("maxAge must be a number");this[l]=t.maxAge||0,this[u]=t.dispose,this[h]=t.noDisposeOnSet||!1,this[f]=t.updateAgeOnGet||!1,this.reset()}set max(t){if("number"!=typeof t||t<0)throw TypeError("max must be a non-negative number");this[i]=t||1/0,y(this)}get max(){return this[i]}set allowStale(t){this[a]=!!t}get allowStale(){return this[a]}set maxAge(t){if("number"!=typeof t)throw TypeError("maxAge must be a non-negative number");this[l]=t,y(this)}get maxAge(){return this[l]}set lengthCalculator(t){"function"!=typeof t&&(t=d),t!==this[s]&&(this[s]=t,this[o]=0,this[c].forEach(t=>{t.length=this[s](t.value,t.key),this[o]+=t.length})),y(this)}get lengthCalculator(){return this[s]}get length(){return this[o]}get itemCount(){return this[c].length}rforEach(t,e){e=e||this;for(let r=this[c].tail;null!==r;){let n=r.prev;w(this,t,r,e),r=n}}forEach(t,e){e=e||this;for(let r=this[c].head;null!==r;){let n=r.next;w(this,t,r,e),r=n}}keys(){return this[c].toArray().map(t=>t.key)}values(){return this[c].toArray().map(t=>t.value)}reset(){this[u]&&this[c]&&this[c].length&&this[c].forEach(t=>this[u](t.key,t.value)),this[p]=new Map,this[c]=new n,this[o]=0}dump(){return this[c].map(t=>!g(this,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[c]}set(t,e,r){if((r=r||this[l])&&"number"!=typeof r)throw TypeError("maxAge must be a number");let n=r?Date.now():0,a=this[s](e,t);if(this[p].has(t)){if(a>this[i])return v(this,this[p].get(t)),!1;let s=this[p].get(t),l=s.value;return this[u]&&!this[h]&&this[u](t,l.value),l.now=n,l.maxAge=r,l.value=e,this[o]+=a-l.length,l.length=a,this.get(t),y(this),!0}let f=new b(t,e,a,n,r);return f.length>this[i]?(this[u]&&this[u](t,e),!1):(this[o]+=f.length,this[c].unshift(f),this[p].set(t,this[c].head),y(this),!0)}has(t){if(!this[p].has(t))return!1;let e=this[p].get(t).value;return!g(this,e)}get(t){return m(this,t,!0)}peek(t){return m(this,t,!1)}pop(){let t=this[c].tail;return t?(v(this,t),t.value):null}del(t){v(this,this[p].get(t))}load(t){this.reset();let e=Date.now();for(let r=t.length-1;r>=0;r--){let n=t[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{let t=i-e;t>0&&this.set(n.k,n.v,t)}}}prune(){this[p].forEach((t,e)=>m(this,e,!1))}}},9990:function(t,e,r){var n=r(8764).Buffer;let i=t.exports;for(let t in i.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},i.codes={},i.types){let e=i.types[t];i.codes[e]=t}for(let t in i.CMD_SHIFT=4,i.CMD_MASK=240,i.DUP_MASK=8,i.QOS_MASK=3,i.QOS_SHIFT=1,i.RETAIN_MASK=1,i.VARBYTEINT_MASK=127,i.VARBYTEINT_FIN_MASK=128,i.VARBYTEINT_MAX=268435455,i.SESSIONPRESENT_MASK=1,i.SESSIONPRESENT_HEADER=n.from([i.SESSIONPRESENT_MASK]),i.CONNACK_HEADER=n.from([i.codes.connack<<i.CMD_SHIFT]),i.USERNAME_MASK=128,i.PASSWORD_MASK=64,i.WILL_RETAIN_MASK=32,i.WILL_QOS_MASK=24,i.WILL_QOS_SHIFT=3,i.WILL_FLAG_MASK=4,i.CLEAN_SESSION_MASK=2,i.CONNECT_HEADER=n.from([i.codes.connect<<i.CMD_SHIFT]),i.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},i.propertiesCodes={},i.properties){let e=i.properties[t];i.propertiesCodes[e]=t}function o(t){return[0,1,2].map(e=>[0,1].map(r=>[0,1].map(o=>{let s=n.alloc(1);return s.writeUInt8(i.codes[t]<<i.CMD_SHIFT|(r?i.DUP_MASK:0)|e<<i.QOS_SHIFT|o,0,!0),s})))}i.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"},i.PUBLISH_HEADER=o("publish"),i.SUBSCRIBE_HEADER=o("subscribe"),i.SUBSCRIBE_OPTIONS_QOS_MASK=3,i.SUBSCRIBE_OPTIONS_NL_MASK=1,i.SUBSCRIBE_OPTIONS_NL_SHIFT=2,i.SUBSCRIBE_OPTIONS_RAP_MASK=1,i.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,i.SUBSCRIBE_OPTIONS_RH_MASK=3,i.SUBSCRIBE_OPTIONS_RH_SHIFT=4,i.SUBSCRIBE_OPTIONS_RH=[0,16,32],i.SUBSCRIBE_OPTIONS_NL=4,i.SUBSCRIBE_OPTIONS_RAP=8,i.SUBSCRIBE_OPTIONS_QOS=[0,1,2],i.UNSUBSCRIBE_HEADER=o("unsubscribe"),i.ACKS={unsuback:o("unsuback"),puback:o("puback"),pubcomp:o("pubcomp"),pubrel:o("pubrel"),pubrec:o("pubrec")},i.SUBACK_HEADER=n.from([i.codes.suback<<i.CMD_SHIFT]),i.VERSION3=n.from([3]),i.VERSION4=n.from([4]),i.VERSION5=n.from([5]),i.VERSION131=n.from([131]),i.VERSION132=n.from([132]),i.QOS=[0,1,2].map(t=>n.from([t])),i.EMPTY={pingreq:n.from([i.codes.pingreq<<4,0]),pingresp:n.from([i.codes.pingresp<<4,0]),disconnect:n.from([i.codes.disconnect<<4,0])}},7721:function(t,e,r){var n=r(8764).Buffer;let i=r(9371),o=r(7187);class s extends o{constructor(){super(),this._array=Array(20),this._i=0}write(t){return this._array[this._i++]=t,!0}concat(){let t,e=0,r=Array(this._array.length),i=this._array,o=0;for(t=0;t<i.length&&void 0!==i[t];t++)"string"!=typeof i[t]?r[t]=i[t].length:r[t]=n.byteLength(i[t]),e+=r[t];let s=n.allocUnsafe(e);for(t=0;t<i.length&&void 0!==i[t];t++)"string"!=typeof i[t]?(i[t].copy(s,o),o+=r[t]):(s.write(i[t],o),o+=r[t]);return s}}t.exports=function(t,e){let r=new s;return i(t,r,e),r.concat()}},1772:function(t,e,r){e.parser=r(5322).parser,e.generate=r(7721),e.writeToStream=r(9371)},3903:function(t,e,r){var n=r(8764).Buffer;let i={},o=n.isBuffer(n.from([1,2]).subarray(0,1));function s(t){let e=n.allocUnsafe(2);return e.writeUInt8(t>>8,0),e.writeUInt8(255&t,1),e}t.exports={cache:i,generateCache:function(){for(let t=0;t<65536;t++)i[t]=s(t)},generateNumber:s,genBufVariableByteInt:function(t){let e=0,r=0,i=n.allocUnsafe(4);do e=t%128|0,(t=t/128|0)>0&&(e|=128),i.writeUInt8(e,r++);while(t>0&&r<4);return t>0&&(r=0),o?i.subarray(0,r):i.slice(0,r)},generate4ByteBuffer:function(t){let e=n.allocUnsafe(4);return e.writeUInt32BE(t,0),e}}},9695:function(t){t.exports=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}},5322:function(t,e,r){let n=r(22),i=r(7187),o=r(9695),s=r(9990),a=r(1227)("mqtt-packet:parser");class l extends i{constructor(){super(),this.parser=this.constructor.parser}static parser(t){return this instanceof l?(this.settings=t||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new l().parser(t)}_resetState(){a("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new o,this.error=null,this._list=n(),this._stateCounter=0}parse(t){for(this.error&&this._resetState(),this._list.append(t),a("parse: current state: %s",this._states[this._stateCounter]);(-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,a("parse: state complete. _stateCounter is now: %d",this._stateCounter),a("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return a("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let t=this._list.readUInt8(0);return this.packet.cmd=s.types[t>>s.CMD_SHIFT],this.packet.retain=(t&s.RETAIN_MASK)!=0,this.packet.qos=t>>s.QOS_SHIFT&s.QOS_MASK,this.packet.dup=(t&s.DUP_MASK)!=0,a("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0}_parseLength(){let t=this._parseVarByteNum(!0);return t&&(this.packet.length=t.value,this._list.consume(t.bytes)),a("_parseLength %d",t.value),!!t}_parsePayload(){a("_parsePayload: payload %O",this._list);let t=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(Error("Not supported"))}t=!0}return a("_parsePayload complete result: %s",t),t}_parseConnect(){let t,e,r,n;a("_parseConnect");let i={},o=this.packet,l=this._parseString();if(null===l)return this._emitError(Error("Cannot parse protocolId"));if("MQTT"!==l&&"MQIsdp"!==l)return this._emitError(Error("Invalid protocolId"));if(o.protocolId=l,this._pos>=this._list.length)return this._emitError(Error("Packet too short"));if(o.protocolVersion=this._list.readUInt8(this._pos),o.protocolVersion>=128&&(o.bridgeMode=!0,o.protocolVersion=o.protocolVersion-128),3!==o.protocolVersion&&4!==o.protocolVersion&&5!==o.protocolVersion)return this._emitError(Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length||(i.username=this._list.readUInt8(this._pos)&s.USERNAME_MASK,i.password=this._list.readUInt8(this._pos)&s.PASSWORD_MASK,i.will=this._list.readUInt8(this._pos)&s.WILL_FLAG_MASK,i.will&&(o.will={},o.will.retain=(this._list.readUInt8(this._pos)&s.WILL_RETAIN_MASK)!=0,o.will.qos=(this._list.readUInt8(this._pos)&s.WILL_QOS_MASK)>>s.WILL_QOS_SHIFT),o.clean=(this._list.readUInt8(this._pos)&s.CLEAN_SESSION_MASK)!=0,this._pos++,o.keepalive=this._parseNum(),-1===o.keepalive))return this._emitError(Error("Packet too short"));if(5===o.protocolVersion){let t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(o.properties=t)}let u=this._parseString();if(null===u)return this._emitError(Error("Packet too short"));if(o.clientId=u,a("_parseConnect: packet.clientId: %s",o.clientId),i.will){if(5===o.protocolVersion){let t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(o.will.properties=t)}if(null===(t=this._parseString()))return this._emitError(Error("Cannot parse will topic"));if(o.will.topic=t,a("_parseConnect: packet.will.topic: %s",o.will.topic),null===(e=this._parseBuffer()))return this._emitError(Error("Cannot parse will payload"));o.will.payload=e,a("_parseConnect: packet.will.paylaod: %s",o.will.payload)}if(i.username){if(null===(n=this._parseString()))return this._emitError(Error("Cannot parse username"));o.username=n,a("_parseConnect: packet.username: %s",o.username)}if(i.password){if(null===(r=this._parseBuffer()))return this._emitError(Error("Cannot parse password"));o.password=r}return this.settings=o,a("_parseConnect: complete"),o}_parseConnack(){a("_parseConnack");let t=this.packet;if(this._list.length<1)return null;if(t.sessionPresent=!!(this._list.readUInt8(this._pos++)&s.SESSIONPRESENT_MASK),5===this.settings.protocolVersion)this._list.length>=2?t.reasonCode=this._list.readUInt8(this._pos++):t.reasonCode=0;else{if(this._list.length<2)return null;t.returnCode=this._list.readUInt8(this._pos++)}if(-1===t.returnCode||-1===t.reasonCode)return this._emitError(Error("Cannot parse return code"));if(5===this.settings.protocolVersion){let e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}a("_parseConnack: complete")}_parsePublish(){a("_parsePublish");let t=this.packet;if(t.topic=this._parseString(),null===t.topic)return this._emitError(Error("Cannot parse topic"));if(!(t.qos>0)||this._parseMessageId()){if(5===this.settings.protocolVersion){let e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}t.payload=this._list.slice(this._pos,t.length),a("_parsePublish: payload from buffer list: %o",t.payload)}}_parseSubscribe(){let t,e,r,n,i,o,l;a("_parseSubscribe");let u=this.packet;if(1!==u.qos)return this._emitError(Error("Wrong subscribe header"));if(u.subscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){let t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(u.properties=t)}for(;this._pos<u.length;){if(null===(t=this._parseString()))return this._emitError(Error("Cannot parse topic"));if(this._pos>=u.length)return this._emitError(Error("Malformed Subscribe Payload"));r=(e=this._parseByte())&s.SUBSCRIBE_OPTIONS_QOS_MASK,o=(e>>s.SUBSCRIBE_OPTIONS_NL_SHIFT&s.SUBSCRIBE_OPTIONS_NL_MASK)!=0,i=(e>>s.SUBSCRIBE_OPTIONS_RAP_SHIFT&s.SUBSCRIBE_OPTIONS_RAP_MASK)!=0,n=e>>s.SUBSCRIBE_OPTIONS_RH_SHIFT&s.SUBSCRIBE_OPTIONS_RH_MASK,l={topic:t,qos:r},5===this.settings.protocolVersion?(l.nl=o,l.rap=i,l.rh=n):this.settings.bridgeMode&&(l.rh=0,l.rap=!0,l.nl=!0),a("_parseSubscribe: push subscription `%s` to subscription",l),u.subscriptions.push(l)}}}_parseSuback(){a("_parseSuback");let t=this.packet;if(this.packet.granted=[],this._parseMessageId()){if(5===this.settings.protocolVersion){let e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseUnsubscribe(){a("_parseUnsubscribe");let t=this.packet;if(t.unsubscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){let e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}for(;this._pos<t.length;){let e=this._parseString();if(null===e)return this._emitError(Error("Cannot parse topic"));a("_parseUnsubscribe: push topic `%s` to unsubscriptions",e),t.unsubscriptions.push(e)}}}_parseUnsuback(){a("_parseUnsuback");let t=this.packet;if(!this._parseMessageId())return this._emitError(Error("Cannot parse messageId"));if(5===this.settings.protocolVersion){let e=this._parseProperties();for(Object.getOwnPropertyNames(e).length&&(t.properties=e),t.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseConfirmation(){a("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let t=this.packet;if(this._parseMessageId(),5===this.settings.protocolVersion&&(t.length>2?(t.reasonCode=this._parseByte(),a("_parseConfirmation: packet.reasonCode `%d`",t.reasonCode)):t.reasonCode=0,t.length>3)){let e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}return!0}_parseDisconnect(){let t=this.packet;if(a("_parseDisconnect"),5===this.settings.protocolVersion){this._list.length>0?t.reasonCode=this._parseByte():t.reasonCode=0;let e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}return a("_parseDisconnect result: true"),!0}_parseAuth(){a("_parseAuth");let t=this.packet;if(5!==this.settings.protocolVersion)return this._emitError(Error("Not supported auth packet for this version MQTT"));t.reasonCode=this._parseByte();let e=this._parseProperties();return Object.getOwnPropertyNames(e).length&&(t.properties=e),a("_parseAuth: result: true"),!0}_parseMessageId(){let t=this.packet;return(t.messageId=this._parseNum(),null===t.messageId)?(this._emitError(Error("Cannot parse messageId")),!1):(a("_parseMessageId: packet.messageId %d",t.messageId),!0)}_parseString(t){let e=this._parseNum(),r=e+this._pos;if(-1===e||r>this._list.length||r>this.packet.length)return null;let n=this._list.toString("utf8",this._pos,r);return this._pos+=e,a("_parseString: result: %s",n),n}_parseStringPair(){return a("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let t=this._parseNum(),e=t+this._pos;if(-1===t||e>this._list.length||e>this.packet.length)return null;let r=this._list.slice(this._pos,e);return this._pos+=t,a("_parseBuffer: result: %o",r),r}_parseNum(){if(this._list.length-this._pos<2)return -1;let t=this._list.readUInt16BE(this._pos);return this._pos+=2,a("_parseNum: result: %s",t),t}_parse4ByteNum(){if(this._list.length-this._pos<4)return -1;let t=this._list.readUInt32BE(this._pos);return this._pos+=4,a("_parse4ByteNum: result: %s",t),t}_parseVarByteNum(t){let e;a("_parseVarByteNum");let r=0,n=1,i=0,o=!1,l=this._pos?this._pos:0;for(;r<4&&l+r<this._list.length;){if(i+=n*((e=this._list.readUInt8(l+r++))&s.VARBYTEINT_MASK),n*=128,(e&s.VARBYTEINT_FIN_MASK)==0){o=!0;break}if(this._list.length<=r)break}return!o&&4===r&&this._list.length>=r&&this._emitError(Error("Invalid variable byte integer")),l&&(this._pos+=r),a("_parseVarByteNum: result: %o",o=!!o&&(t?{bytes:r,value:i}:i)),o}_parseByte(){let t;return this._pos<this._list.length&&(t=this._list.readUInt8(this._pos),this._pos++),a("_parseByte: result: %o",t),t}_parseByType(t){switch(a("_parseByType: type: %s",t),t){case"byte":return 0!==this._parseByte();case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){a("_parseProperties");let t=this._parseVarByteNum(),e=this._pos,r=e+t,n={};for(;this._pos<r;){let t=this._parseByte();if(!t)return this._emitError(Error("Cannot parse property code type")),!1;let e=s.propertiesCodes[t];if(!e)return this._emitError(Error("Unknown property")),!1;if("userProperties"===e){n[e]||(n[e]=Object.create(null));let t=this._parseByType(s.propertiesTypes[e]);if(n[e][t.name]){if(Array.isArray(n[e][t.name]))n[e][t.name].push(t.value);else{let r=n[e][t.name];n[e][t.name]=[r],n[e][t.name].push(t.value)}}else n[e][t.name]=t.value;continue}n[e]?(Array.isArray(n[e])||(n[e]=[n[e]]),n[e].push(this._parseByType(s.propertiesTypes[e]))):n[e]=this._parseByType(s.propertiesTypes[e])}return n}_newPacket(){return a("_newPacket"),this.packet&&(this._list.consume(this.packet.length),a("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),a("_newPacket: new packet"),this.packet=new o,this._pos=0,!0}_emitError(t){a("_emitError"),this.error=t,this.emit("error",t)}}t.exports=l},9371:function(t,e,r){var n=r(8764).Buffer;let i=r(9990),o=n.allocUnsafe(0),s=n.from([0]),a=r(3903),l=r(8212).nextTick,u=r(1227)("mqtt-packet:writeToStream"),h=a.cache,c=a.generateNumber,p=a.generateCache,f=a.genBufVariableByteInt,d=a.generate4ByteBuffer,m=S,g=!0;function y(t,e,r){switch(u("generate called"),e.cork&&(e.cork(),l(v,e)),g&&(g=!1,p()),u("generate: packet.cmd: %s",t.cmd),t.cmd){case"connect":return function(t,e,r){let o;let s=t||{},a=s.protocolId||"MQTT",l=s.protocolVersion||4,u=s.will,h=s.clean,c=s.keepalive||0,p=s.clientId||"",f=s.username,d=s.password,g=s.properties;void 0===h&&(h=!0);let y=0;if(!a||"string"!=typeof a&&!n.isBuffer(a))return e.emit("error",Error("Invalid protocolId")),!1;if(y+=a.length+2,3!==l&&4!==l&&5!==l)return e.emit("error",Error("Invalid protocol version")),!1;if(y+=1,("string"==typeof p||n.isBuffer(p))&&(p||l>=4)&&(p||h))y+=n.byteLength(p)+2;else{if(l<4)return e.emit("error",Error("clientId must be supplied before 3.1.1")),!1;if(1*h==0)return e.emit("error",Error("clientId must be given if cleanSession set to 0")),!1}if("number"!=typeof c||c<0||c>65535||c%1!=0)return e.emit("error",Error("Invalid keepalive")),!1;if(y+=3,5===l){var v=k(e,g);if(!v)return!1;y+=v.length}if(u){if("object"!=typeof u)return e.emit("error",Error("Invalid will")),!1;if(!u.topic||"string"!=typeof u.topic)return e.emit("error",Error("Invalid will topic")),!1;if(y+=n.byteLength(u.topic)+2+2,u.payload){if(!(u.payload.length>=0))return e.emit("error",Error("Invalid will payload")),!1;"string"==typeof u.payload?y+=n.byteLength(u.payload):y+=u.payload.length}var b={};if(5===l){if(!(b=k(e,u.properties)))return!1;y+=b.length}}let S=!1;if(null!=f){if(!I(f))return e.emit("error",Error("Invalid username")),!1;S=!0,y+=n.byteLength(f)+2}if(null!=d){if(!S)return e.emit("error",Error("Username is required to use password")),!1;if(!I(d))return e.emit("error",Error("Invalid password")),!1;y+=C(d)+2}return e.write(i.CONNECT_HEADER),w(e,y),x(e,a),s.bridgeMode&&(l+=128),e.write(131===l?i.VERSION131:132===l?i.VERSION132:4===l?i.VERSION4:5===l?i.VERSION5:i.VERSION3),o=0|(null!=f?i.USERNAME_MASK:0)|(null!=d?i.PASSWORD_MASK:0)|(u&&u.retain?i.WILL_RETAIN_MASK:0)|(u&&u.qos?u.qos<<i.WILL_QOS_SHIFT:0)|(u?i.WILL_FLAG_MASK:0)|(h?i.CLEAN_SESSION_MASK:0),e.write(n.from([o])),m(e,c),5===l&&v.write(),x(e,p),u&&(5===l&&b.write(),_(e,u.topic),x(e,u.payload)),null!=f&&x(e,f),null!=d&&x(e,d),!0}(t,e,0);case"connack":return function(t,e,r){let o=r?r.protocolVersion:4,a=t||{},l=5===o?a.reasonCode:a.returnCode,u=a.properties,h=2;if("number"!=typeof l)return e.emit("error",Error("Invalid return code")),!1;let c=null;if(5===o){if(!(c=k(e,u)))return!1;h+=c.length}return e.write(i.CONNACK_HEADER),w(e,h),e.write(a.sessionPresent?i.SESSIONPRESENT_HEADER:s),e.write(n.from([l])),null!=c&&c.write(),!0}(t,e,r);case"publish":return function(t,e,r){u("publish: packet: %o",t);let s=r?r.protocolVersion:4,a=t||{},l=a.qos||0,h=a.retain?i.RETAIN_MASK:0,c=a.topic,p=a.payload||o,f=a.messageId,d=a.properties,g=0;if("string"==typeof c)g+=n.byteLength(c)+2;else{if(!n.isBuffer(c))return e.emit("error",Error("Invalid topic")),!1;g+=c.length+2}if(n.isBuffer(p)?g+=p.length:g+=n.byteLength(p),l&&"number"!=typeof f)return e.emit("error",Error("Invalid messageId")),!1;l&&(g+=2);let y=null;if(5===s){if(!(y=k(e,d)))return!1;g+=y.length}return e.write(i.PUBLISH_HEADER[l][a.dup?1:0][h?1:0]),w(e,g),m(e,C(c)),e.write(c),l>0&&m(e,f),null!=y&&y.write(),u("publish: payload: %o",p),e.write(p)}(t,e,r);case"puback":case"pubrec":case"pubrel":case"pubcomp":return function(t,e,r){let o=r?r.protocolVersion:4,s=t||{},a=s.cmd||"puback",l=s.messageId,u=s.dup&&"pubrel"===a?i.DUP_MASK:0,h=0,c=s.reasonCode,p=s.properties,f=5===o?3:2;if("pubrel"===a&&(h=1),"number"!=typeof l)return e.emit("error",Error("Invalid messageId")),!1;let d=null;if(5===o&&"object"==typeof p){if(!(d=A(e,p,r,f)))return!1;f+=d.length}return e.write(i.ACKS[a][h][u][0]),w(e,f),m(e,l),5===o&&e.write(n.from([c])),null!==d&&d.write(),!0}(t,e,r);case"subscribe":return function(t,e,r){u("subscribe: packet: ");let o=r?r.protocolVersion:4,s=t||{},a=s.dup?i.DUP_MASK:0,l=s.messageId,h=s.subscriptions,c=s.properties,p=0;if("number"!=typeof l)return e.emit("error",Error("Invalid messageId")),!1;p+=2;let f=null;if(5===o){if(!(f=k(e,c)))return!1;p+=f.length}if("object"!=typeof h||!h.length)return e.emit("error",Error("Invalid subscriptions")),!1;for(let t=0;t<h.length;t+=1){let r=h[t].topic,i=h[t].qos;if("string"!=typeof r)return e.emit("error",Error("Invalid subscriptions - invalid topic")),!1;if("number"!=typeof i)return e.emit("error",Error("Invalid subscriptions - invalid qos")),!1;if(5===o){let r=h[t].nl||!1;if("boolean"!=typeof r)return e.emit("error",Error("Invalid subscriptions - invalid No Local")),!1;let n=h[t].rap||!1;if("boolean"!=typeof n)return e.emit("error",Error("Invalid subscriptions - invalid Retain as Published")),!1;let i=h[t].rh||0;if("number"!=typeof i||i>2)return e.emit("error",Error("Invalid subscriptions - invalid Retain Handling")),!1}p+=n.byteLength(r)+2+1}u("subscribe: writing to stream: %o",i.SUBSCRIBE_HEADER),e.write(i.SUBSCRIBE_HEADER[1][a?1:0][0]),w(e,p),m(e,l),null!==f&&f.write();let d=!0;for(let t of h){let r;let s=t.topic,a=t.qos,l=+t.nl,u=+t.rap,h=t.rh;_(e,s),r=i.SUBSCRIBE_OPTIONS_QOS[a],5===o&&(r|=l?i.SUBSCRIBE_OPTIONS_NL:0,r|=u?i.SUBSCRIBE_OPTIONS_RAP:0,r|=h?i.SUBSCRIBE_OPTIONS_RH[h]:0),d=e.write(n.from([r]))}return d}(t,e,r);case"suback":return function(t,e,r){let o=r?r.protocolVersion:4,s=t||{},a=s.messageId,l=s.granted,u=s.properties,h=0;if("number"!=typeof a)return e.emit("error",Error("Invalid messageId")),!1;if(h+=2,"object"!=typeof l||!l.length)return e.emit("error",Error("Invalid qos vector")),!1;for(let t=0;t<l.length;t+=1){if("number"!=typeof l[t])return e.emit("error",Error("Invalid qos vector")),!1;h+=1}let c=null;if(5===o){if(!(c=A(e,u,r,h)))return!1;h+=c.length}return e.write(i.SUBACK_HEADER),w(e,h),m(e,a),null!==c&&c.write(),e.write(n.from(l))}(t,e,r);case"unsubscribe":return function(t,e,r){let o=r?r.protocolVersion:4,s=t||{},a=s.messageId,l=s.dup?i.DUP_MASK:0,u=s.unsubscriptions,h=s.properties,c=0;if("number"!=typeof a)return e.emit("error",Error("Invalid messageId")),!1;if(c+=2,"object"!=typeof u||!u.length)return e.emit("error",Error("Invalid unsubscriptions")),!1;for(let t=0;t<u.length;t+=1){if("string"!=typeof u[t])return e.emit("error",Error("Invalid unsubscriptions")),!1;c+=n.byteLength(u[t])+2}let p=null;if(5===o){if(!(p=k(e,h)))return!1;c+=p.length}e.write(i.UNSUBSCRIBE_HEADER[1][l?1:0][0]),w(e,c),m(e,a),null!==p&&p.write();let f=!0;for(let t=0;t<u.length;t++)f=_(e,u[t]);return f}(t,e,r);case"unsuback":return function(t,e,r){let o=r?r.protocolVersion:4,s=t||{},a=s.messageId,l=s.dup?i.DUP_MASK:0,u=s.granted,h=s.properties,c=s.cmd,p=2;if("number"!=typeof a)return e.emit("error",Error("Invalid messageId")),!1;if(5===o){if("object"!=typeof u||!u.length)return e.emit("error",Error("Invalid qos vector")),!1;for(let t=0;t<u.length;t+=1){if("number"!=typeof u[t])return e.emit("error",Error("Invalid qos vector")),!1;p+=1}}let f=null;if(5===o){if(!(f=A(e,h,r,p)))return!1;p+=f.length}return e.write(i.ACKS[c][0][l][0]),w(e,p),m(e,a),null!==f&&f.write(),5===o&&e.write(n.from(u)),!0}(t,e,r);case"pingreq":case"pingresp":return e.write(i.EMPTY[t.cmd]);case"disconnect":return function(t,e,r){let o=r?r.protocolVersion:4,s=t||{},a=s.reasonCode,l=s.properties,u=5===o?1:0,h=null;if(5===o){if(!(h=A(e,l,r,u)))return!1;u+=h.length}return e.write(n.from([i.codes.disconnect<<4])),w(e,u),5===o&&e.write(n.from([a])),null!==h&&h.write(),!0}(t,e,r);case"auth":return function(t,e,r){let o=r?r.protocolVersion:4,s=t||{},a=s.reasonCode,l=s.properties,u=5===o?1:0;5!==o&&e.emit("error",Error("Invalid mqtt version for auth packet"));let h=A(e,l,r,u);return!!h&&(u+=h.length,e.write(n.from([i.codes.auth<<4])),w(e,u),e.write(n.from([a])),null!==h&&h.write(),!0)}(t,e,r);default:return e.emit("error",Error("Unknown command")),!1}}function v(t){t.uncork()}Object.defineProperty(y,"cacheNumbers",{get:()=>m===S,set(t){t?(h&&0!==Object.keys(h).length||(g=!0),m=S):(g=!1,m=E)}});let b={};function w(t,e){if(e>i.VARBYTEINT_MAX)return t.emit("error",Error(`Invalid variable byte integer: ${e}`)),!1;let r=b[e];return!r&&(r=f(e),e<16384&&(b[e]=r)),u("writeVarByteInt: writing to stream: %o",r),t.write(r)}function _(t,e){let r=n.byteLength(e);return m(t,r),u("writeString: %s",e),t.write(e,"utf8")}function S(t,e){return u("writeNumberCached: number: %d",e),u("writeNumberCached: %o",h[e]),t.write(h[e])}function E(t,e){let r=c(e);return u("writeNumberGenerated: %o",r),t.write(r)}function x(t,e){"string"==typeof e?_(t,e):e?(m(t,e.length),t.write(e)):m(t,0)}function k(t,e){if("object"!=typeof e||null!=e.length)return{length:1,write(){T(t,{},0)}};let r=0;function o(e,r){let o=i.propertiesTypes[e],s=0;switch(o){case"byte":if("boolean"!=typeof r)return t.emit("error",Error(`Invalid ${e}: ${r}`)),!1;s+=2;break;case"int8":if("number"!=typeof r||r<0||r>255)return t.emit("error",Error(`Invalid ${e}: ${r}`)),!1;s+=2;break;case"binary":if(r&&null===r)return t.emit("error",Error(`Invalid ${e}: ${r}`)),!1;s+=1+n.byteLength(r)+2;break;case"int16":if("number"!=typeof r||r<0||r>65535)return t.emit("error",Error(`Invalid ${e}: ${r}`)),!1;s+=3;break;case"int32":if("number"!=typeof r||r<0||r>4294967295)return t.emit("error",Error(`Invalid ${e}: ${r}`)),!1;s+=5;break;case"var":if("number"!=typeof r||r<0||r>268435455)return t.emit("error",Error(`Invalid ${e}: ${r}`)),!1;s+=1+n.byteLength(f(r));break;case"string":if("string"!=typeof r)return t.emit("error",Error(`Invalid ${e}: ${r}`)),!1;s+=3+n.byteLength(r.toString());break;case"pair":if("object"!=typeof r)return t.emit("error",Error(`Invalid ${e}: ${r}`)),!1;s+=Object.getOwnPropertyNames(r).reduce((t,e)=>{let i=r[e];return Array.isArray(i)?t+=i.reduce((t,r)=>t+=3+n.byteLength(e.toString())+2+n.byteLength(r.toString()),0):t+=3+n.byteLength(e.toString())+2+n.byteLength(r[e].toString()),t},0);break;default:return t.emit("error",Error(`Invalid property ${e}: ${r}`)),!1}return s}if(e)for(let t in e){let n=0,i=0,s=e[t];if(Array.isArray(s))for(let e=0;e<s.length;e++){if(!(i=o(t,s[e])))return!1;n+=i}else{if(!(i=o(t,s)))return!1;n=i}if(!n)return!1;r+=n}let s=n.byteLength(f(r));return{length:s+r,write(){T(t,e,r)}}}function A(t,e,r,n){let i=["reasonString","userProperties"],o=r&&r.properties&&r.properties.maximumPacketSize?r.properties.maximumPacketSize:0,s=k(t,e);if(o)for(;n+s.length>o;){let r=i.shift();if(!r||!e[r])return!1;delete e[r],s=k(t,e)}return s}function P(t,e,r){let o=i.propertiesTypes[e];switch(o){case"byte":t.write(n.from([i.properties[e]])),t.write(n.from([+r]));break;case"int8":t.write(n.from([i.properties[e]])),t.write(n.from([r]));break;case"binary":t.write(n.from([i.properties[e]])),x(t,r);break;case"int16":t.write(n.from([i.properties[e]])),m(t,r);break;case"int32":t.write(n.from([i.properties[e]])),function(t,e){let r=d(e);u("write4ByteNumber: %o",r),t.write(r)}(t,r);break;case"var":t.write(n.from([i.properties[e]])),w(t,r);break;case"string":t.write(n.from([i.properties[e]])),_(t,r);break;case"pair":Object.getOwnPropertyNames(r).forEach(o=>{let s=r[o];if(Array.isArray(s))s.forEach(r=>{var s,a;t.write(n.from([i.properties[e]])),s=o.toString(),a=r.toString(),_(t,s),_(t,a)});else{var a,l;t.write(n.from([i.properties[e]])),a=o.toString(),l=s.toString(),_(t,a),_(t,l)}});break;default:return t.emit("error",Error(`Invalid property ${e} value: ${r}`)),!1}}function T(t,e,r){for(let n in w(t,r),e)if(Object.prototype.hasOwnProperty.call(e,n)&&null!==e[n]){let r=e[n];if(Array.isArray(r))for(let e=0;e<r.length;e++)P(t,n,r[e]);else P(t,n,r)}}function C(t){return t?t instanceof n?t.length:n.byteLength(t):0}function I(t){return"string"==typeof t||t instanceof n}t.exports=y},1455:function(t,e,r){"use strict";var n=r(3454);let i=r(7187).EventEmitter,o=r(7431),s=r(6565),a=r(3744),l=r(1772),u=r(6156),h=r(8473).Writable,c=r(5717),p=r(5408),f=r(1697),d=r(4028),m=r(7529),g=r(1227)("mqttjs:client"),y=n?n.nextTick:function(t){setTimeout(t,0)},v=r.g.setImmediate||function(t){y(t)},b={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0},w=["ECONNREFUSED","EADDRINUSE","ECONNRESET","ENOTFOUND"],_={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};function S(t,e){let r;e.properties&&(r=e.properties.topicAlias);let n=e.topic.toString();if(0===n.length){if(void 0===r||void 0===(n=t.topicAliasSend.getTopicByAlias(r)))return Error("Unregistered Topic Alias");e.topic=n}r&&delete e.properties.topicAlias}function E(t,e,r){g("sendPacket :: packet: %O",e),g("sendPacket :: emitting `packetsend`"),t.emit("packetsend",e),g("sendPacket :: writing to stream");let n=l.writeToStream(e,t.stream,t.options);g("sendPacket :: writeToStream result %s",n),!n&&r&&r!==k?(g("sendPacket :: handle events on `drain` once through callback."),t.stream.once("drain",r)):r&&(g("sendPacket :: invoking cb"),r())}function x(t,e,r,n){let i;g("storeAndSend :: store packet with cmd %s to outgoingStore",e.cmd);let o=e;if("publish"===o.cmd&&(i=S(t,o=f(e))))return r&&r(i);t.outgoingStore.put(o,function(i){if(i)return r&&r(i);n(),E(t,e,r)})}function k(t){g("nop ::",t)}function A(t,e){let r;let n=this;if(!(this instanceof A))return new A(t,e);for(r in this.options=e||{},b)void 0===this.options[r]?this.options[r]=b[r]:this.options[r]=e[r];g("MqttClient :: options.protocol",e.protocol),g("MqttClient :: options.protocolVersion",e.protocolVersion),g("MqttClient :: options.username",e.username),g("MqttClient :: options.keepalive",e.keepalive),g("MqttClient :: options.reconnectPeriod",e.reconnectPeriod),g("MqttClient :: options.rejectUnauthorized",e.rejectUnauthorized),g("MqttClient :: options.topicAliasMaximum",e.topicAliasMaximum),this.options.clientId="string"==typeof e.clientId?e.clientId:"mqttjs_"+Math.random().toString(16).substr(2,8),g("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=5===e.protocolVersion&&e.customHandleAcks?e.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=t,this.messageIdProvider=void 0===this.options.messageIdProvider?new u:this.options.messageIdProvider,this.outgoingStore=e.outgoingStore||new o,this.incomingStore=e.incomingStore||new o,this.queueQoSZero=void 0===e.queueQoSZero||e.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,e.topicAliasMaximum>0&&(e.topicAliasMaximum>65535?g("MqttClient :: options.topicAliasMaximum is out of range"):this.topicAliasRecv=new s(e.topicAliasMaximum)),this.on("connect",function(){let t=this.queue;g("connect :: sending queued packets"),function e(){let r=t.shift();g("deliver :: entry %o",r);let i=null;if(!r){n._resubscribe();return}g("deliver :: call _sendPacket for %o",i=r.packet);let o=!0;i.messageId&&0!==i.messageId&&!n.messageIdProvider.register(i.messageId)&&(o=!1),o?n._sendPacket(i,function(t){r.cb&&r.cb(t),e()}):(g("messageId: %d has already used. The message is skipped and removed.",i.messageId),e())}()}),this.on("close",function(){g("close :: connected set to `false`"),this.connected=!1,g("close :: clearing connackTimer"),clearTimeout(this.connackTimer),g("close :: clearing ping timer"),null!==n.pingTimer&&(n.pingTimer.clear(),n.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),g("close :: calling _setupReconnect"),this._setupReconnect()}),i.call(this),g("MqttClient :: setting up stream"),this._setupStream()}c(A,i),A.prototype._setupStream=function(){let t=this,e=new h,r=l.parser(this.options),n=null,i=[];function o(){if(i.length)y(s);else{let t=n;n=null,t()}}function s(){g("work :: getting next packet in queue");let e=i.shift();if(e)g("work :: packet pulled from queue"),t._handlePacket(e,o);else{g("work :: no packets in queue");let t=n;n=null,g("work :: done flag is %s",!!t),t&&t()}}g("_setupStream :: calling method to clear reconnect"),this._clearReconnect(),g("_setupStream :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),r.on("packet",function(t){g("parser :: on packet push to packets array."),i.push(t)}),e._write=function(t,e,i){n=i,g("writable stream :: parsing buffer"),r.parse(t),s()},g("_setupStream :: pipe stream to writable stream"),this.stream.pipe(e),this.stream.on("error",function(e){g("streamErrorHandler :: error",e.message),w.includes(e.code)?(g("streamErrorHandler :: emitting error"),t.emit("error",e)):k(e)}),this.stream.on("close",function(){var e;g("(%s)stream :: on close",t.options.clientId),(e=t.outgoing)&&(g("flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(e).forEach(function(t){e[t].volatile&&"function"==typeof e[t].cb&&(e[t].cb(Error("Connection closed")),delete e[t])})),g("stream: emit close to MqttClient"),t.emit("close")}),g("_setupStream: sending packet `connect`");let a=Object.create(this.options);if(a.cmd="connect",this.topicAliasRecv&&(a.properties||(a.properties={}),this.topicAliasRecv&&(a.properties.topicAliasMaximum=this.topicAliasRecv.max)),E(this,a),r.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return t.end(()=>this.emit("error",Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&"object"==typeof this.options.authPacket){let t=m({cmd:"auth",reasonCode:0},this.options.authPacket);E(this,t)}}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(function(){g("!!connectTimeout hit!! Calling _cleanUp with force `true`"),t._cleanUp(!0)},this.options.connectTimeout)},A.prototype._handlePacket=function(t,e){let r=this.options;if(5===r.protocolVersion&&r.properties&&r.properties.maximumPacketSize&&r.properties.maximumPacketSize<t.length)return this.emit("error",Error("exceeding packets size "+t.cmd)),this.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),this;switch(g("_handlePacket :: emitting packetreceive"),this.emit("packetreceive",t),t.cmd){case"publish":this._handlePublish(t,e);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(t),e();break;case"pubrel":this._handlePubrel(t,e);break;case"connack":this._handleConnack(t),e();break;case"auth":this._handleAuth(t),e();break;case"pingresp":this._handlePingresp(t),e();break;case"disconnect":this._handleDisconnect(t),e()}},A.prototype._checkDisconnecting=function(t){return this.disconnecting&&(t&&t!==k?t(Error("client disconnecting")):this.emit("error",Error("client disconnecting"))),this.disconnecting},A.prototype.publish=function(t,e,r,n){g("publish :: message `%s` to topic `%s`",e,t);let i=this.options;if("function"==typeof r&&(n=r,r=null),r=m({qos:0,retain:!1,dup:!1},r),this._checkDisconnecting(n))return this;let o=this,s=function(){let s=0;if((1===r.qos||2===r.qos)&&null===(s=o._nextId()))return g("No messageId left"),!1;let a={cmd:"publish",topic:t,payload:e,qos:r.qos,retain:r.retain,messageId:s,dup:r.dup};switch(5===i.protocolVersion&&(a.properties=r.properties),g("publish :: qos",r.qos),r.qos){case 1:case 2:o.outgoing[a.messageId]={volatile:!1,cb:n||k},g("MqttClient:publish: packet cmd: %s",a.cmd),o._sendPacket(a,void 0,r.cbStorePut);break;default:g("MqttClient:publish: packet cmd: %s",a.cmd),o._sendPacket(a,n,r.cbStorePut)}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!s())&&this._storeProcessingQueue.push({invoke:s,cbStorePut:r.cbStorePut,callback:n}),this},A.prototype.subscribe=function(){let t=this,e=Array(arguments.length);for(let t=0;t<arguments.length;t++)e[t]=arguments[t];let r=[],n=e.shift(),i=n.resubscribe,o=e.pop()||k,s=e.pop(),a=this.options.protocolVersion;delete n.resubscribe,"string"==typeof n&&(n=[n]),"function"!=typeof o&&(s=o,o=k);let l=d.validateTopics(n);if(null!==l)return v(o,Error("Invalid topic "+l)),this;if(this._checkDisconnecting(o))return g("subscribe: discconecting true"),this;let u={qos:0};if(5===a&&(u.nl=!1,u.rap=!1,u.rh=0),s=m(u,s),Array.isArray(n)?n.forEach(function(e){if(g("subscribe: array topic %s",e),!Object.prototype.hasOwnProperty.call(t._resubscribeTopics,e)||t._resubscribeTopics[e].qos<s.qos||i){let t={topic:e,qos:s.qos};5===a&&(t.nl=s.nl,t.rap=s.rap,t.rh=s.rh,t.properties=s.properties),g("subscribe: pushing topic `%s` and qos `%s` to subs list",t.topic,t.qos),r.push(t)}}):Object.keys(n).forEach(function(e){if(g("subscribe: object topic %s",e),!Object.prototype.hasOwnProperty.call(t._resubscribeTopics,e)||t._resubscribeTopics[e].qos<n[e].qos||i){let t={topic:e,qos:n[e].qos};5===a&&(t.nl=n[e].nl,t.rap=n[e].rap,t.rh=n[e].rh,t.properties=s.properties),g("subscribe: pushing `%s` to subs list",t),r.push(t)}}),!r.length)return o(null,[]),this;let h=function(){let e=t._nextId();if(null===e)return g("No messageId left"),!1;let n={cmd:"subscribe",subscriptions:r,qos:1,retain:!1,dup:!1,messageId:e};if(s.properties&&(n.properties=s.properties),t.options.resubscribe){g("subscribe :: resubscribe true");let e=[];r.forEach(function(r){if(t.options.reconnectPeriod>0){let n={qos:r.qos};5===a&&(n.nl=r.nl||!1,n.rap=r.rap||!1,n.rh=r.rh||0,n.properties=r.properties),t._resubscribeTopics[r.topic]=n,e.push(r.topic)}}),t.messageIdToTopic[n.messageId]=e}return t.outgoing[n.messageId]={volatile:!0,cb:function(t,e){if(!t){let t=e.granted;for(let e=0;e<t.length;e+=1)r[e].qos=t[e]}o(t,r)}},g("subscribe :: call _sendPacket"),t._sendPacket(n),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!h())&&this._storeProcessingQueue.push({invoke:h,callback:o}),this},A.prototype.unsubscribe=function(){let t=this,e=Array(arguments.length);for(let t=0;t<arguments.length;t++)e[t]=arguments[t];let r=e.shift(),n=e.pop()||k,i=e.pop();"string"==typeof r&&(r=[r]),"function"!=typeof n&&(i=n,n=k);let o=d.validateTopics(r);if(null!==o)return v(n,Error("Invalid topic "+o)),this;if(t._checkDisconnecting(n))return this;let s=function(){let e=t._nextId();if(null===e)return g("No messageId left"),!1;let o={cmd:"unsubscribe",qos:1,messageId:e};return"string"==typeof r?o.unsubscriptions=[r]:Array.isArray(r)&&(o.unsubscriptions=r),t.options.resubscribe&&o.unsubscriptions.forEach(function(e){delete t._resubscribeTopics[e]}),"object"==typeof i&&i.properties&&(o.properties=i.properties),t.outgoing[o.messageId]={volatile:!0,cb:n},g("unsubscribe: call _sendPacket"),t._sendPacket(o),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!s())&&this._storeProcessingQueue.push({invoke:s,callback:n}),this},A.prototype.end=function(t,e,r){let n=this;function i(){g("end :: closeStores: closing incoming and outgoing stores"),n.disconnected=!0,n.incomingStore.close(function(t){n.outgoingStore.close(function(e){g("end :: closeStores: emitting end"),n.emit("end"),r&&(g("end :: closeStores: invoking callback with args"),r(t||e))})}),n._deferredReconnect&&n._deferredReconnect()}function o(){g("end :: (%s) :: finish :: calling _cleanUp with force %s",n.options.clientId,t),n._cleanUp(t,()=>{g("end :: finish :: calling process.nextTick on closeStores"),y(i.bind(n))},e)}return(g("end :: (%s)",this.options.clientId),(null==t||"boolean"!=typeof t)&&(r=e||k,e=t,t=!1,"object"!=typeof e&&(r=e,e=null,"function"!=typeof r&&(r=k))),"object"!=typeof e&&(r=e,e=null),g("end :: cb? %s",!!r),r=r||k,this.disconnecting)?(r(),this):(this._clearReconnect(),this.disconnecting=!0,!t&&Object.keys(this.outgoing).length>0?(g("end :: (%s) :: calling finish in 10ms once outgoing is empty",n.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,o,10))):(g("end :: (%s) :: immediately calling finish",n.options.clientId),o()),this)},A.prototype.removeOutgoingMessage=function(t){let e=this.outgoing[t]?this.outgoing[t].cb:null;return delete this.outgoing[t],this.outgoingStore.del({messageId:t},function(){e(Error("Message removed"))}),this},A.prototype.reconnect=function(t){g("client reconnect");let e=this,r=function(){t?(e.options.incomingStore=t.incomingStore,e.options.outgoingStore=t.outgoingStore):(e.options.incomingStore=null,e.options.outgoingStore=null),e.incomingStore=e.options.incomingStore||new o,e.outgoingStore=e.options.outgoingStore||new o,e.disconnecting=!1,e.disconnected=!1,e._deferredReconnect=null,e._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=r:r(),this},A.prototype._reconnect=function(){g("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this._setupStream()}),g("client already connected. disconnecting first.")):(g("_reconnect: calling _setupStream"),this._setupStream())},A.prototype._setupReconnect=function(){let t=this;t.disconnecting||t.reconnectTimer||!(t.options.reconnectPeriod>0)?g("_setupReconnect :: doing nothing..."):(this.reconnecting||(g("_setupReconnect :: emit `offline` state"),this.emit("offline"),g("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),g("_setupReconnect :: setting reconnectTimer for %d ms",t.options.reconnectPeriod),t.reconnectTimer=setInterval(function(){g("reconnectTimer :: reconnect triggered!"),t._reconnect()},t.options.reconnectPeriod))},A.prototype._clearReconnect=function(){g("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},A.prototype._cleanUp=function(t,e){let r=arguments[2];if(e&&(g("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",e)),g("_cleanUp :: forced? %s",t),t){if(0===this.options.reconnectPeriod&&this.options.clean){var n;(n=this.outgoing)&&(g("flush: queue exists? %b",!!n),Object.keys(n).forEach(function(t){"function"==typeof n[t].cb&&(n[t].cb(Error("Connection closed")),delete n[t])}))}g("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy()}else{let t=m({cmd:"disconnect"},r);g("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(t,v.bind(null,this.stream.end.bind(this.stream)))}this.disconnecting||(g("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),null!==this.pingTimer&&(g("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),e&&!this.connected&&(g("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",e),e())},A.prototype._sendPacket=function(t,e,r){g("_sendPacket :: (%s) ::  start",this.options.clientId),r=r||k,e=e||k;let n=function(t,e){if(5===t.options.protocolVersion&&"publish"===e.cmd){let r;e.properties&&(r=e.properties.topicAlias);let n=e.topic.toString();if(t.topicAliasSend){if(r){if(0!==n.length&&(g("applyTopicAlias :: register topic: %s - alias: %d",n,r),!t.topicAliasSend.put(n,r)))return g("applyTopicAlias :: error out of range. topic: %s - alias: %d",n,r),Error("Sending Topic Alias out of range")}else 0!==n.length&&(t.options.autoAssignTopicAlias?(r=t.topicAliasSend.getAliasByTopic(n))?(e.topic="",e.properties={...e.properties,topicAlias:r},g("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",n,r)):(r=t.topicAliasSend.getLruAlias(),t.topicAliasSend.put(n,r),e.properties={...e.properties,topicAlias:r},g("applyTopicAlias :: auto assign topic: %s - alias: %d",n,r)):t.options.autoUseTopicAlias&&(r=t.topicAliasSend.getAliasByTopic(n))&&(e.topic="",e.properties={...e.properties,topicAlias:r},g("applyTopicAlias :: auto use topic: %s - alias: %d",n,r)))}else if(r)return g("applyTopicAlias :: error out of range. topic: %s - alias: %d",n,r),Error("Sending Topic Alias out of range")}}(this,t);if(n){e(n);return}if(!this.connected){if("auth"===t.cmd){this._shiftPingInterval(),E(this,t,e);return}g("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(t,e,r);return}switch(this._shiftPingInterval(),t.cmd){case"publish":break;case"pubrel":x(this,t,e,r);return;default:E(this,t,e);return}switch(t.qos){case 2:case 1:x(this,t,e,r);break;default:E(this,t,e)}g("_sendPacket :: (%s) ::  end",this.options.clientId)},A.prototype._storePacket=function(t,e,r){g("_storePacket :: packet: %o",t),g("_storePacket :: cb? %s",!!e),r=r||k;let n=t;if("publish"===n.cmd){n=f(t);let r=S(this,n);if(r)return e&&e(r)}0===(n.qos||0)&&this.queueQoSZero||"publish"!==n.cmd?this.queue.push({packet:n,cb:e}):n.qos>0?(e=this.outgoing[n.messageId]?this.outgoing[n.messageId].cb:null,this.outgoingStore.put(n,function(t){if(t)return e&&e(t);r()})):e&&e(Error("No connection to broker"))},A.prototype._setupPingTimer=function(){g("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive);let t=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=p(function(){t._checkPing()},1e3*this.options.keepalive))},A.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1e3*this.options.keepalive)},A.prototype._checkPing=function(){g("_checkPing :: checking ping..."),this.pingResp?(g("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(g("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))},A.prototype._handlePingresp=function(){this.pingResp=!0},A.prototype._handleConnack=function(t){g("_handleConnack");let e=this.options,r=e.protocolVersion,n=5===r?t.reasonCode:t.returnCode;if(clearTimeout(this.connackTimer),delete this.topicAliasSend,t.properties){if(t.properties.topicAliasMaximum){if(t.properties.topicAliasMaximum>65535){this.emit("error",Error("topicAliasMaximum from broker is out of range"));return}t.properties.topicAliasMaximum>0&&(this.topicAliasSend=new a(t.properties.topicAliasMaximum))}t.properties.serverKeepAlive&&e.keepalive&&(e.keepalive=t.properties.serverKeepAlive,this._shiftPingInterval()),t.properties.maximumPacketSize&&(e.properties||(e.properties={}),e.properties.maximumPacketSize=t.properties.maximumPacketSize)}if(0===n)this.reconnecting=!1,this._onConnect(t);else if(n>0){let t=Error("Connection refused: "+_[n]);t.code=n,this.emit("error",t)}},A.prototype._handleAuth=function(t){let e=this.options,r=e.protocolVersion,n=5===r?t.reasonCode:t.returnCode;if(5!==r){let t=Error("Protocol error: Auth packets are only supported in MQTT 5. Your version:"+r);t.code=n,this.emit("error",t);return}let i=this;this.handleAuth(t,function(t,e){if(t){i.emit("error",t);return}if(24===n)i.reconnecting=!1,i._sendPacket(e);else{let e=Error("Connection refused: "+_[n]);t.code=n,i.emit("error",e)}})},A.prototype.handleAuth=function(t,e){e()},A.prototype._handlePublish=function(t,e){g("_handlePublish: packet %o",t),e=void 0!==e?e:k;let r=t.topic.toString(),n=t.payload,i=t.qos,o=t.messageId,s=this,a=this.options,l=[0,16,128,131,135,144,145,151,153];if(5===this.options.protocolVersion){let e;if(t.properties&&(e=t.properties.topicAlias),void 0!==e){if(0===r.length){if(e>0&&e<=65535){let t=this.topicAliasRecv.getTopicByAlias(e);if(t)g("_handlePublish :: topic complemented by alias. topic: %s - alias: %d",r=t,e);else{g("_handlePublish :: unregistered topic alias. alias: %d",e),this.emit("error",Error("Received unregistered Topic Alias"));return}}else{g("_handlePublish :: topic alias out of range. alias: %d",e),this.emit("error",Error("Received Topic Alias is out of range"));return}}else if(this.topicAliasRecv.put(r,e))g("_handlePublish :: registered topic: %s - alias: %d",r,e);else{g("_handlePublish :: topic alias out of range. alias: %d",e),this.emit("error",Error("Received Topic Alias is out of range"));return}}}switch(g("_handlePublish: qos %d",i),i){case 2:a.customHandleAcks(r,n,t,function(r,n){return(r instanceof Error||(n=r,r=null),r)?s.emit("error",r):-1===l.indexOf(n)?s.emit("error",Error("Wrong reason code for pubrec")):void(n?s._sendPacket({cmd:"pubrec",messageId:o,reasonCode:n},e):s.incomingStore.put(t,function(){s._sendPacket({cmd:"pubrec",messageId:o},e)}))});break;case 1:a.customHandleAcks(r,n,t,function(i,a){return(i instanceof Error||(a=i,i=null),i)?s.emit("error",i):-1===l.indexOf(a)?s.emit("error",Error("Wrong reason code for puback")):void(a||s.emit("message",r,n,t),s.handleMessage(t,function(t){if(t)return e&&e(t);s._sendPacket({cmd:"puback",messageId:o,reasonCode:a},e)}))});break;case 0:this.emit("message",r,n,t),this.handleMessage(t,e);break;default:g("_handlePublish: unknown QoS. Doing nothing.")}},A.prototype.handleMessage=function(t,e){e()},A.prototype._handleAck=function(t){let e;let r=t.messageId,n=t.cmd,i=null,o=this.outgoing[r]?this.outgoing[r].cb:null,s=this;if(!o){g("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(g("_handleAck :: packet type",n),n){case"pubcomp":case"puback":{let n=t.reasonCode;n&&n>0&&16!==n&&((e=Error("Publish error: "+_[n])).code=n,o(e,t)),delete this.outgoing[r],this.outgoingStore.del(t,o),this.messageIdProvider.deallocate(r),this._invokeStoreProcessingQueue();break}case"pubrec":{i={cmd:"pubrel",qos:2,messageId:r};let n=t.reasonCode;n&&n>0&&16!==n?((e=Error("Publish error: "+_[n])).code=n,o(e,t)):this._sendPacket(i);break}case"suback":delete this.outgoing[r],this.messageIdProvider.deallocate(r);for(let e=0;e<t.granted.length;e++)if((128&t.granted[e])!=0){let t=this.messageIdToTopic[r];t&&t.forEach(function(t){delete s._resubscribeTopics[t]})}this._invokeStoreProcessingQueue(),o(null,t);break;case"unsuback":delete this.outgoing[r],this.messageIdProvider.deallocate(r),this._invokeStoreProcessingQueue(),o(null);break;default:s.emit("error",Error("unrecognized packet type"))}this.disconnecting&&0===Object.keys(this.outgoing).length&&this.emit("outgoingEmpty")},A.prototype._handlePubrel=function(t,e){g("handling pubrel packet"),e=void 0!==e?e:k;let r=t.messageId,n=this,i={cmd:"pubcomp",messageId:r};n.incomingStore.get(t,function(t,r){t?n._sendPacket(i,e):(n.emit("message",r.topic,r.payload,r),n.handleMessage(r,function(t){if(t)return e(t);n.incomingStore.del(r,k),n._sendPacket(i,e)}))})},A.prototype._handleDisconnect=function(t){this.emit("disconnect",t)},A.prototype._nextId=function(){return this.messageIdProvider.allocate()},A.prototype.getLastMessageId=function(){return this.messageIdProvider.getLastAllocated()},A.prototype._resubscribe=function(){g("_resubscribe");let t=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||5===this.options.protocolVersion&&!this.connackPacket.sessionPresent)&&t.length>0){if(this.options.resubscribe){if(5===this.options.protocolVersion){g("_resubscribe: protocolVersion 5");for(let e=0;e<t.length;e++){let r={};r[t[e]]=this._resubscribeTopics[t[e]],r.resubscribe=!0,this.subscribe(r,{properties:r[t[e]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics)}else this._resubscribeTopics={}}this._firstConnection=!1},A.prototype._onConnect=function(t){if(this.disconnected){this.emit("connect",t);return}let e=this;this.connackPacket=t,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0,function r(){let n=e.outgoingStore.createStream();function i(){e._storeProcessing=!1,e._packetIdsDuringStoreProcessing={}}function o(){n.destroy(),n=null,e._flushStoreProcessingQueue(),i()}e.once("close",o),n.on("error",function(t){i(),e._flushStoreProcessingQueue(),e.removeListener("close",o),e.emit("error",t)}),n.on("end",function(){let n=!0;for(let t in e._packetIdsDuringStoreProcessing)if(!e._packetIdsDuringStoreProcessing[t]){n=!1;break}n?(i(),e.removeListener("close",o),e._invokeAllStoreProcessingQueue(),e.emit("connect",t)):r()}),function t(){let r;if(!n)return;e._storeProcessing=!0;let i=n.read(1);if(!i){n.once("readable",t);return}if(e._packetIdsDuringStoreProcessing[i.messageId]){t();return}e.disconnecting||e.reconnectTimer?n.destroy&&n.destroy():(r=e.outgoing[i.messageId]?e.outgoing[i.messageId].cb:null,e.outgoing[i.messageId]={volatile:!1,cb:function(e,n){r&&r(e,n),t()}},e._packetIdsDuringStoreProcessing[i.messageId]=!0,e.messageIdProvider.register(i.messageId)?e._sendPacket(i):g("messageId: %d has already used.",i.messageId))}()}()},A.prototype._invokeStoreProcessingQueue=function(){if(this._storeProcessingQueue.length>0){let t=this._storeProcessingQueue[0];if(t&&t.invoke())return this._storeProcessingQueue.shift(),!0}return!1},A.prototype._invokeAllStoreProcessingQueue=function(){for(;this._invokeStoreProcessingQueue(););},A.prototype._flushStoreProcessingQueue=function(){for(let t of this._storeProcessingQueue)t.cbStorePut&&t.cbStorePut(Error("Connection closed")),t.callback&&t.callback(Error("Connection closed"));this._storeProcessingQueue.splice(0)},t.exports=A},6191:function(t,e,r){"use strict";let n,i,o;let{Buffer:s}=r(8764),a=r(8473).Transform,l=r(5981),u=!1;t.exports=function(t,e){var r;if(e.hostname=e.hostname||e.host,!e.hostname)throw Error("Could not determine host. Specify host manually.");let h="MQIsdp"===e.protocolId&&3===e.protocolVersion?"mqttv3.1":"mqtt";(r=e).hostname||(r.hostname="localhost"),r.path||(r.path="/"),r.wsOptions||(r.wsOptions={});let c=function(t,e){let r="alis"===t.protocol?"wss":"ws",n=r+"://"+t.hostname+t.path;return t.port&&80!==t.port&&443!==t.port&&(n=r+"://"+t.hostname+":"+t.port+t.path),"function"==typeof t.transformWsUrl&&(n=t.transformWsUrl(n,t,e)),n}(e,t);return(n=e.my).connectSocket({url:c,protocols:h}),i=function(){let t=new a;return t._write=function(t,e,r){n.sendSocketMessage({data:t.buffer,success:function(){r()},fail:function(){r(Error())}})},t._flush=function(t){n.closeSocket({success:function(){t()}})},t}(),o=l.obj(),u||(u=!0,n.onSocketOpen(function(){o.setReadable(i),o.setWritable(i),o.emit("connect")}),n.onSocketMessage(function(t){if("string"==typeof t.data){let e=s.from(t.data,"base64");i.push(e)}else{let e=new FileReader;e.addEventListener("load",function(){let t=e.result;t=t instanceof ArrayBuffer?s.from(t):s.from(t,"utf8"),i.push(t)}),e.readAsArrayBuffer(t.data)}}),n.onSocketClose(function(){o.end(),o.destroy()}),n.onSocketError(function(t){o.destroy(t)})),o}},1616:function(t,e,r){"use strict";var n=r(3454);let i=r(1455),o=r(7431),s=r(1987),a=r(7529),l=r(1227)("mqttjs"),u={};function h(t,e){var r;let n;if(l("connecting to an MQTT broker..."),"object"!=typeof t||e||(e=t,t=null),e=e||{},t){let r=s.parse(t,!0);if(null!=r.port&&(r.port=Number(r.port)),null===(e=a(r,e)).protocol)throw Error("Missing protocol");e.protocol=e.protocol.replace(/:$/,"")}if((r=e).auth&&((n=r.auth.match(/^(.+):(.+)$/))?(r.username=n[1],r.password=n[2]):r.username=r.auth),e.query&&"string"==typeof e.query.clientId&&(e.clientId=e.query.clientId),e.cert&&e.key){if(e.protocol){if(-1===["mqtts","wss","wxs","alis"].indexOf(e.protocol))switch(e.protocol){case"mqtt":e.protocol="mqtts";break;case"ws":e.protocol="wss";break;case"wx":e.protocol="wxs";break;case"ali":e.protocol="alis";break;default:throw Error('Unknown protocol for secure connection: "'+e.protocol+'"!')}}else throw Error("Missing secure protocol key")}if(!u[e.protocol]){let t=-1!==["mqtts","wss"].indexOf(e.protocol);e.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter(function(e,r){return(!t||r%2!=0)&&"function"==typeof u[e]})[0]}if(!1===e.clean&&!e.clientId)throw Error("Missing clientId for unclean clients");e.protocol&&(e.defaultProtocol=e.protocol);let o=new i(function(t){return e.servers&&(t._reconnectCount&&t._reconnectCount!==e.servers.length||(t._reconnectCount=0),e.host=e.servers[t._reconnectCount].host,e.port=e.servers[t._reconnectCount].port,e.protocol=e.servers[t._reconnectCount].protocol?e.servers[t._reconnectCount].protocol:e.defaultProtocol,e.hostname=e.host,t._reconnectCount++),l("calling streambuilder for",e.protocol),u[e.protocol](t,e)},e);return o.on("error",function(){}),o}void 0!==n&&"browser"!==n.title||"function"!=typeof r?(u.mqtt=r(1849),u.tcp=r(1849),u.ssl=r(5473),u.tls=r(5473),u.mqtts=r(5473)):(u.wx=r(8098),u.wxs=r(8098),u.ali=r(6191),u.alis=r(6191)),u.ws=r(6908),u.wss=r(6908),t.exports=h,t.exports.connect=h,t.exports.MqttClient=i,t.exports.Store=o},1849:function(t,e,r){"use strict";let n=r(1784),i=r(1227)("mqttjs:tcp");t.exports=function(t,e){e.port=e.port||1883,e.hostname=e.hostname||e.host||"localhost";let r=e.port,o=e.hostname;return i("port %d and host %s",r,o),n.createConnection(r,o)}},5473:function(t,e,r){"use strict";let n=r(5036),i=r(1784),o=r(1227)("mqttjs:tls");t.exports=function(t,e){e.port=e.port||8883,e.host=e.hostname||e.host||"localhost",0===i.isIP(e.host)&&(e.servername=e.host),e.rejectUnauthorized=!1!==e.rejectUnauthorized,delete e.path,o("port %d host %s rejectUnauthorized %b",e.port,e.host,e.rejectUnauthorized);let r=n.connect(e);function s(n){e.rejectUnauthorized&&t.emit("error",n),r.end()}return r.on("secureConnect",function(){e.rejectUnauthorized&&!r.authorized?r.emit("error",Error("TLS not authorized")):r.removeListener("error",s)}),r.on("error",s),r}},6908:function(t,e,r){"use strict";var n=r(3454);let{Buffer:i}=r(8764),o=r(7026),s=r(1227)("mqttjs:ws"),a=r(5981),l=r(8473).Transform,u=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],h=void 0!==n&&"browser"===n.title||"function"==typeof r;function c(t,e){let r=t.protocol+"://"+t.hostname+":"+t.port+t.path;return"function"==typeof t.transformWsUrl&&(r=t.transformWsUrl(r,t,e)),r}function p(t){let e=t;return t.hostname||(e.hostname="localhost"),t.port||("wss"===t.protocol?e.port=443:e.port=80),t.path||(e.path="/"),t.wsOptions||(e.wsOptions={}),h||"wss"!==t.protocol||u.forEach(function(r){Object.prototype.hasOwnProperty.call(t,r)&&!Object.prototype.hasOwnProperty.call(t.wsOptions,r)&&(e.wsOptions[r]=t[r])}),e}h?t.exports=function(t,e){let r;s("browserStreamBuilder");let n=function(t){let e=p(t);if(e.hostname||(e.hostname=e.host),!e.hostname){if("undefined"==typeof document)throw Error("Could not determine host. Specify host manually.");let t=new URL(document.URL);e.hostname=t.hostname,e.port||(e.port=t.port)}return void 0===e.objectMode&&(e.objectMode=!(!0===e.binary||void 0===e.binary)),e}(e),o=n.browserBufferSize||524288,u=e.browserBufferTimeout||1e3,h=!e.objectMode,f=function(t,e){let r="MQIsdp"===e.protocolId&&3===e.protocolVersion?"mqttv3.1":"mqtt",n=c(e,t),i=new WebSocket(n,[r]);return i.binaryType="arraybuffer",i}(t,e),d=function(t,e,r){let n=new l({objectModeMode:t.objectMode});return n._write=e,n._flush=r,n}(e,function t(e,r,n){f.bufferedAmount>o&&setTimeout(t,u,e,r,n),h&&"string"==typeof e&&(e=i.from(e,"utf8"));try{f.send(e)}catch(t){return n(t)}n()},function(t){f.close(),t()});e.objectMode||(d._writev=w),d.on("close",()=>{f.close()});let m=void 0!==f.addEventListener;function g(){r.setReadable(d),r.setWritable(d),r.emit("connect")}function y(){r.end(),r.destroy()}function v(t){r.destroy(t)}function b(t){let e=t.data;e=e instanceof ArrayBuffer?i.from(e):i.from(e,"utf8"),d.push(e)}function w(t,e){let r=Array(t.length);for(let e=0;e<t.length;e++)"string"==typeof t[e].chunk?r[e]=i.from(t[e],"utf8"):r[e]=t[e].chunk;this._write(i.concat(r),"binary",e)}return f.readyState===f.OPEN?r=d:(r=r=a(void 0,void 0,e),e.objectMode||(r._writev=w),m?f.addEventListener("open",g):f.onopen=g),r.socket=f,m?(f.addEventListener("close",y),f.addEventListener("error",v),f.addEventListener("message",b)):(f.onclose=y,f.onerror=v,f.onmessage=b),r}:t.exports=function(t,e){s("streamBuilder");let r=p(e),n=c(r,t),i=function(t,e,r){s("createWebSocket"),s("protocol: "+r.protocolId+" "+r.protocolVersion);let n="MQIsdp"===r.protocolId&&3===r.protocolVersion?"mqttv3.1":"mqtt";s("creating new Websocket for url: "+e+" and protocol: "+n);let i=new o(e,[n],r.wsOptions);return i}(0,n,r),a=o.createWebSocketStream(i,r.wsOptions);return a.url=n,i.on("close",()=>{a.destroy()}),a}},8098:function(t,e,r){"use strict";let n,i,o;let{Buffer:s}=r(8764),a=r(8473).Transform,l=r(5981);t.exports=function(t,e){var r;if(e.hostname=e.hostname||e.host,!e.hostname)throw Error("Could not determine host. Specify host manually.");let u="MQIsdp"===e.protocolId&&3===e.protocolVersion?"mqttv3.1":"mqtt";(r=e).hostname||(r.hostname="localhost"),r.path||(r.path="/"),r.wsOptions||(r.wsOptions={});let h=function(t,e){let r="wxs"===t.protocol?"wss":"ws",n=r+"://"+t.hostname+t.path;return t.port&&80!==t.port&&443!==t.port&&(n=r+"://"+t.hostname+":"+t.port+t.path),"function"==typeof t.transformWsUrl&&(n=t.transformWsUrl(n,t,e)),n}(e,t);n=wx.connectSocket({url:h,protocols:[u]}),i=function(){let t=new a;return t._write=function(t,e,r){n.send({data:t.buffer,success:function(){r()},fail:function(t){r(Error(t))}})},t._flush=function(t){n.close({success:function(){t()}})},t}(),(o=l.obj())._destroy=function(t,e){n.close({success:function(){e&&e(t)}})};let c=o.destroy;return o.destroy=(function(){o.destroy=c;let t=this;setTimeout(function(){n.close({fail:function(){t._destroy(Error())}})},0)}).bind(o),n.onOpen(function(){o.setReadable(i),o.setWritable(i),o.emit("connect")}),n.onMessage(function(t){let e=t.data;e=e instanceof ArrayBuffer?s.from(e):s.from(e,"utf8"),i.push(e)}),n.onClose(function(){o.end(),o.destroy()}),n.onError(function(t){o.destroy(Error(t.errMsg))}),o}},6156:function(t){"use strict";function e(){if(!(this instanceof e))return new e;this.nextId=Math.max(1,Math.floor(65535*Math.random()))}e.prototype.allocate=function(){let t=this.nextId++;return 65536===this.nextId&&(this.nextId=1),t},e.prototype.getLastAllocated=function(){return 1===this.nextId?65535:this.nextId-1},e.prototype.register=function(t){return!0},e.prototype.deallocate=function(t){},e.prototype.clear=function(){},t.exports=e},7431:function(t,e,r){"use strict";let n=r(7529),i=r(8473).Readable,o={objectMode:!0},s={clean:!0};function a(t){if(!(this instanceof a))return new a(t);this.options=t||{},this.options=n(s,t),this._inflights=new Map}a.prototype.put=function(t,e){return this._inflights.set(t.messageId,t),e&&e(),this},a.prototype.createStream=function(){let t=new i(o),e=[],r=!1,n=0;return this._inflights.forEach(function(t,r){e.push(t)}),t._read=function(){!r&&n<e.length?this.push(e[n++]):this.push(null)},t.destroy=function(){if(r)return;let t=this;r=!0,setTimeout(function(){t.emit("close")},0)},t},a.prototype.del=function(t,e){return(t=this._inflights.get(t.messageId))?(this._inflights.delete(t.messageId),e(null,t)):e&&e(Error("missing packet")),this},a.prototype.get=function(t,e){return(t=this._inflights.get(t.messageId))?e(null,t):e&&e(Error("missing packet")),this},a.prototype.close=function(t){this.options.clean&&(this._inflights=null),t&&t()},t.exports=a},6565:function(t){"use strict";function e(t){if(!(this instanceof e))return new e(t);this.aliasToTopic={},this.max=t}e.prototype.put=function(t,e){return 0!==e&&!(e>this.max)&&(this.aliasToTopic[e]=t,this.length=Object.keys(this.aliasToTopic).length,!0)},e.prototype.getTopicByAlias=function(t){return this.aliasToTopic[t]},e.prototype.clear=function(){this.aliasToTopic={}},t.exports=e},3744:function(t,e,r){"use strict";let n=r(9593),i=r(423).Q;function o(t){if(!(this instanceof o))return new o(t);t>0&&(this.aliasToTopic=new n({max:t}),this.topicToAlias={},this.numberAllocator=new i(1,t),this.max=t,this.length=0)}o.prototype.put=function(t,e){if(0===e||e>this.max)return!1;let r=this.aliasToTopic.get(e);return r&&delete this.topicToAlias[r],this.aliasToTopic.set(e,t),this.topicToAlias[t]=e,this.numberAllocator.use(e),this.length=this.aliasToTopic.length,!0},o.prototype.getTopicByAlias=function(t){return this.aliasToTopic.get(t)},o.prototype.getAliasByTopic=function(t){let e=this.topicToAlias[t];return void 0!==e&&this.aliasToTopic.get(e),e},o.prototype.clear=function(){this.aliasToTopic.reset(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0},o.prototype.getLruAlias=function(){let t=this.numberAllocator.firstVacant();return t||this.aliasToTopic.keys()[this.aliasToTopic.length-1]},t.exports=o},4028:function(t){"use strict";t.exports={validateTopics:function(t){if(0===t.length)return"empty_topic_list";for(let e=0;e<t.length;e++)if(!function(t){let e=t.split("/");for(let t=0;t<e.length;t++)if("+"!==e[t]){if("#"===e[t])return t===e.length-1;if(-1!==e[t].indexOf("+")||-1!==e[t].indexOf("#"))return!1}return!0}(t[e]))return t[e];return null}}},7824:function(t){function e(t,e,r,n){return Math.round(t/r)+" "+n+(e>=1.5*r?"s":"")}t.exports=function(t,r){r=r||{};var n,i,o=typeof t;if("string"===o&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"weeks":case"week":case"w":return 6048e5*r;case"days":case"day":case"d":return 864e5*r;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*r;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*r;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(t);if("number"===o&&isFinite(t))return r.long?(n=Math.abs(t))>=864e5?e(t,n,864e5,"day"):n>=36e5?e(t,n,36e5,"hour"):n>=6e4?e(t,n,6e4,"minute"):n>=1e3?e(t,n,1e3,"second"):t+" ms":(i=Math.abs(t))>=864e5?Math.round(t/864e5)+"d":i>=36e5?Math.round(t/36e5)+"h":i>=6e4?Math.round(t/6e4)+"m":i>=1e3?Math.round(t/1e3)+"s":t+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},1987:function(t,e,r){!function(){var e={452:function(t){"use strict";t.exports=r(7334)}},n={};function i(t){var r=n[t];if(void 0!==r)return r.exports;var o=n[t]={exports:{}},s=!0;try{e[t](o,o.exports,i),s=!1}finally{s&&delete n[t]}return o.exports}i.ab="//";var o={};!function(){var t,e=o,r=(t=i(452))&&"object"==typeof t&&"default"in t?t.default:t,n=/https?|ftp|gopher|file/;function s(t){"string"==typeof t&&(t=v(t));var e,i,o,s,a,l,u,h,c,p=(i=(e=t).auth,o=e.hostname,s=e.protocol||"",a=e.pathname||"",l=e.hash||"",u=e.query||"",h=!1,i=i?encodeURIComponent(i).replace(/%3A/i,":")+"@":"",e.host?h=i+e.host:o&&(h=i+(~o.indexOf(":")?"["+o+"]":o),e.port&&(h+=":"+e.port)),u&&"object"==typeof u&&(u=r.encode(u)),c=e.search||u&&"?"+u||"",s&&":"!==s.substr(-1)&&(s+=":"),e.slashes||(!s||n.test(s))&&!1!==h?(h="//"+(h||""),a&&"/"!==a[0]&&(a="/"+a)):h||(h=""),l&&"#"!==l[0]&&(l="#"+l),c&&"?"!==c[0]&&(c="?"+c),{protocol:s,host:h,pathname:a=a.replace(/[?#]/g,encodeURIComponent),search:c=c.replace("#","%23"),hash:l});return""+p.protocol+p.host+p.pathname+p.search+p.hash}var a="http://",l=a+"w.w",u=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,h=/https?|ftp|gopher|file/;function c(t,e){var r="string"==typeof t?v(t):t;t="object"==typeof t?s(t):t;var n=v(e),i="";r.protocol&&!r.slashes&&(i=r.protocol,t=t.replace(r.protocol,""),i+="/"===e[0]||"/"===t[0]?"/":""),i&&n.protocol&&(i="",n.slashes||(i=n.protocol,e=e.replace(n.protocol,"")));var o=t.match(u);o&&!n.protocol&&(t=t.substr((i=o[1]+(o[2]||"")).length),/^\/\/[^/]/.test(e)&&(i=i.slice(0,-1)));var c=new URL(t,l+"/"),p=new URL(e,c).toString().replace(l,""),f=n.protocol||r.protocol;return f+=r.slashes||n.slashes?"//":"",!i&&f?p=p.replace(a,f):i&&(p=p.replace(a,"")),h.test(p)||~e.indexOf(".")||"/"===t.slice(-1)||"/"===e.slice(-1)||"/"!==p.slice(-1)||(p=p.slice(0,-1)),i&&(p=i+("/"===p[0]?p.substr(1):p)),p}function p(){}p.prototype.parse=v,p.prototype.format=s,p.prototype.resolve=c,p.prototype.resolveObject=c;var f=/^https?|ftp|gopher|file/,d=/^(.*?)([#?].*)/,m=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,g=/^([a-z0-9.+-]*:)?\/\/\/*/i,y=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function v(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!1),t&&"object"==typeof t&&t instanceof p)return t;var i=(t=t.trim()).match(d);t=i?i[1].replace(/\\/g,"/")+i[2]:t.replace(/\\/g,"/"),y.test(t)&&"/"!==t.slice(-1)&&(t+="/");var o=!/(^javascript)/.test(t)&&t.match(m),a=g.test(t),u="";o&&(f.test(o[1])||(u=o[1].toLowerCase(),t=""+o[2]+o[3]),o[2]||(a=!1,f.test(o[1])?(u=o[1],t=""+o[3]):t="//"+o[3]),3!==o[2].length&&1!==o[2].length||(u=o[1],t="/"+o[3]));var h,c=(i?i[1]:t).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),v=c&&c[1],b=new p,w="",_="";try{h=new URL(t)}catch(e){w=e,u||n||!/^\/\//.test(t)||/^\/\/.+[@.]/.test(t)||(_="/",t=t.substr(1));try{h=new URL(t,l)}catch(t){return b.protocol=u,b.href=u,b}}b.slashes=a&&!_,b.host="w.w"===h.host?"":h.host,b.hostname="w.w"===h.hostname?"":h.hostname.replace(/(\[|\])/g,""),b.protocol=w?u||null:h.protocol,b.search=h.search.replace(/\\/g,"%5C"),b.hash=h.hash.replace(/\\/g,"%5C");var S=t.split("#");!b.search&&~S[0].indexOf("?")&&(b.search="?"),b.hash||""!==S[1]||(b.hash="#"),b.query=e?r.decode(h.search.substr(1)):b.search.substr(1),b.pathname=_+(o?h.pathname.replace(/['^|`]/g,function(t){return"%"+t.charCodeAt().toString(16).toUpperCase()}).replace(/((?:%[0-9A-F]{2})+)/g,function(t,e){try{return decodeURIComponent(e).split("").map(function(t){var e=t.charCodeAt();return e>256||/^[a-z0-9]$/i.test(t)?t:"%"+e.toString(16).toUpperCase()}).join("")}catch(t){return e}}):h.pathname),"about:"===b.protocol&&"blank"===b.pathname&&(b.protocol="",b.pathname=""),w&&"/"!==t[0]&&(b.pathname=b.pathname.substr(1)),u&&!f.test(u)&&"/"!==t.slice(-1)&&"/"===b.pathname&&(b.pathname=""),b.path=b.pathname+b.search,b.auth=[h.username,h.password].map(decodeURIComponent).filter(Boolean).join(":"),b.port=h.port,v&&!b.host.endsWith(v)&&(b.host+=v,b.port=v.slice(1)),b.href=_?""+b.pathname+b.search+b.hash:s(b);var E=/^(file)/.test(b.href)?["host","hostname"]:[];return Object.keys(b).forEach(function(t){~E.indexOf(t)||(b[t]=b[t]||null)}),b}e.parse=v,e.format=s,e.resolve=c,e.resolveObject=function(t,e){return v(c(t,e))},e.Url=p}(),t.exports=o}()},7334:function(t){!function(){"use strict";var e,r={815:function(t){t.exports=function(t,r,n,i){r=r||"&",n=n||"=";var o={};if("string"!=typeof t||0===t.length)return o;var s=/\+/g;t=t.split(r);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var l=t.length;a>0&&l>a&&(l=a);for(var u=0;u<l;++u){var h,c,p,f,d=t[u].replace(s,"%20"),m=d.indexOf(n);(m>=0?(h=d.substr(0,m),c=d.substr(m+1)):(h=d,c=""),p=decodeURIComponent(h),f=decodeURIComponent(c),Object.prototype.hasOwnProperty.call(o,p))?e(o[p])?o[p].push(f):o[p]=[o[p],f]:o[p]=f}return o};var e=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},577:function(t){var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,o,s,a){return(o=o||"&",s=s||"=",null===t&&(t=void 0),"object"==typeof t)?n(i(t),function(i){var a=encodeURIComponent(e(i))+s;return r(t[i])?n(t[i],function(t){return a+encodeURIComponent(e(t))}).join(o):a+encodeURIComponent(e(t[i]))}).join(o):a?encodeURIComponent(e(a))+s+encodeURIComponent(e(t)):""};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function n(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var i=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}}},n={};function i(t){var e=n[t];if(void 0!==e)return e.exports;var o=n[t]={exports:{}},s=!0;try{r[t](o,o.exports,i),s=!1}finally{s&&delete n[t]}return o.exports}i.ab="//";var o={};(e=o).decode=e.parse=i(815),e.encode=e.stringify=i(577),t.exports=o}()},423:function(t,e,r){let n=r(9759);t.exports.Q=n},9759:function(t,e,r){"use strict";let n=r(6206).hU,i=r(1227)("number-allocator:trace"),o=r(1227)("number-allocator:error");function s(t,e){this.low=t,this.high=e}function a(t,e){if(!(this instanceof a))return new a(t,e);this.min=t,this.max=e,this.ss=new n([],(t,e)=>t.compare(e)),i("Create"),this.clear()}s.prototype.equals=function(t){return this.low===t.low&&this.high===t.high},s.prototype.compare=function(t){return this.low<t.low&&this.high<t.low?-1:t.low<this.low&&t.high<this.low?1:0},a.prototype.firstVacant=function(){return 0===this.ss.size()?null:this.ss.front().low},a.prototype.alloc=function(){if(0===this.ss.size())return i("alloc():empty"),null;let t=this.ss.begin(),e=t.pointer.low,r=t.pointer.high;return e+1<=r?this.ss.updateKeyByIterator(t,new s(e+1,r)):this.ss.eraseElementByPos(0),i("alloc():"+e),e},a.prototype.use=function(t){let e=new s(t,t),r=this.ss.lowerBound(e);if(!r.equals(this.ss.end())){let n=r.pointer.low,o=r.pointer.high;return r.pointer.equals(e)?(this.ss.eraseElementByIterator(r),i("use():"+t),!0):!(n>t)&&(n===t?(this.ss.updateKeyByIterator(r,new s(n+1,o)),i("use():"+t),!0):o===t?(this.ss.updateKeyByIterator(r,new s(n,o-1)),i("use():"+t),!0):(this.ss.updateKeyByIterator(r,new s(t+1,o)),this.ss.insert(new s(n,t-1)),i("use():"+t),!0))}return i("use():failed"),!1},a.prototype.free=function(t){if(t<this.min||t>this.max){o("free():"+t+" is out of range");return}let e=new s(t,t),r=this.ss.upperBound(e);if(r.equals(this.ss.end())){if(r.equals(this.ss.begin())){this.ss.insert(e);return}r.pre();let n=r.pointer.high,i=r.pointer.high;i+1===t?this.ss.updateKeyByIterator(r,new s(n,t)):this.ss.insert(e)}else if(r.equals(this.ss.begin())){if(t+1===r.pointer.low){let e=r.pointer.high;this.ss.updateKeyByIterator(r,new s(t,e))}else this.ss.insert(e)}else{let n=r.pointer.low,i=r.pointer.high;r.pre();let o=r.pointer.low,a=r.pointer.high;a+1===t?t+1===n?(this.ss.eraseElementByIterator(r),this.ss.updateKeyByIterator(r,new s(o,i))):this.ss.updateKeyByIterator(r,new s(o,t)):t+1===n?(this.ss.eraseElementByIterator(r.next()),this.ss.insert(new s(t,i))):this.ss.insert(e)}i("free():"+t)},a.prototype.clear=function(){i("clear()"),this.ss.clear(),this.ss.insert(new s(this.min,this.max))},a.prototype.intervalCount=function(){return this.ss.size()},a.prototype.dump=function(){for(let t of(console.log("length:"+this.ss.size()),this.ss))console.log(t)},t.exports=a},6206:function(t,e,r){"use strict";r.d(e,{hU:function(){return k}});var n,i,o,s,a,l=(n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),u=function(){function t(t,e){this.ee=1,this.u=void 0,this.p=void 0,this.K=void 0,this.N=void 0,this.rr=void 0,this.u=t,this.p=e}return t.prototype.L=function(){var t=this;if(1===t.ee&&t.rr.rr===t)t=t.N;else if(t.K)for(t=t.K;t.N;)t=t.N;else{for(var e=t.rr;e.K===t;)e=(t=e).rr;t=e}return t},t.prototype.m=function(){var t=this;if(t.N){for(t=t.N;t.K;)t=t.K;return t}for(var e=t.rr;e.N===t;)e=(t=e).rr;return t.N!==e?e:t},t.prototype.ne=function(){var t=this.rr,e=this.N,r=e.K;return t.rr===this?t.rr=e:t.K===this?t.K=e:t.N=e,e.rr=t,e.K=this,this.rr=e,this.N=r,r&&(r.rr=this),e},t.prototype.te=function(){var t=this.rr,e=this.K,r=e.N;return t.rr===this?t.rr=e:t.K===this?t.K=e:t.N=e,e.rr=t,e.N=this,this.rr=e,this.K=r,r&&(r.rr=this),e},t}(),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tr=1,e}return l(e,t),e.prototype.ne=function(){var e=t.prototype.ne.call(this);return this.ie(),e.ie(),e},e.prototype.te=function(){var e=t.prototype.te.call(this);return this.ie(),e.ie(),e},e.prototype.ie=function(){this.tr=1,this.K&&(this.tr+=this.K.tr),this.N&&(this.tr+=this.N.tr)},e}(u),c=(i=function(t,e){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),p=function(){function t(t){void 0===t&&(t=0),this.iteratorType=t}return t.prototype.equals=function(t){return this.o===t.o},t}(),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e}(function(){function t(){this.M=0}return Object.defineProperty(t.prototype,"length",{get:function(){return this.M},enumerable:!1,configurable:!0}),t.prototype.size=function(){return this.M},t.prototype.empty=function(){return 0===this.M},t}());function d(){throw RangeError("Iterator access denied!")}var m=(o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),g=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},y=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},v=function(t){function e(e,r){void 0===e&&(e=function(t,e){return t<e?-1:t>e?1:0}),void 0===r&&(r=!1);var n=t.call(this)||this;return n.W=void 0,n.$=e,r?(n.re=h,n.v=function(t,e,r){var n=this.se(t,e,r);if(n){for(var i=n.rr;i!==this.h;)i.tr+=1,i=i.rr;var o=this.fe(n);if(o){var s=o.parentNode,a=o.grandParent,l=o.curNode;s.ie(),a.ie(),l.ie()}}return this.M},n.G=function(t){for(var e=this.he(t);e!==this.h;)e.tr-=1,e=e.rr}):(n.re=u,n.v=function(t,e,r){var n=this.se(t,e,r);return n&&this.fe(n),this.M},n.G=n.he),n.h=new n.re,n}return m(e,t),e.prototype.U=function(t,e){for(var r=this.h;t;){var n=this.$(t.u,e);if(n<0)t=t.N;else{if(!(n>0))return t;r=t,t=t.K}}return r},e.prototype.X=function(t,e){for(var r=this.h;t;)0>=this.$(t.u,e)?t=t.N:(r=t,t=t.K);return r},e.prototype.Y=function(t,e){for(var r=this.h;t;){var n=this.$(t.u,e);if(n<0)r=t,t=t.N;else{if(!(n>0))return t;t=t.K}}return r},e.prototype.Z=function(t,e){for(var r=this.h;t;)0>this.$(t.u,e)?(r=t,t=t.N):t=t.K;return r},e.prototype.ue=function(t){for(;;){var e=t.rr;if(e===this.h)return;if(1===t.ee){t.ee=0;return}if(t===e.K){var r=e.N;if(1===r.ee)r.ee=0,e.ee=1,e===this.W?this.W=e.ne():e.ne();else{if(r.N&&1===r.N.ee){r.ee=e.ee,e.ee=0,r.N.ee=0,e===this.W?this.W=e.ne():e.ne();return}r.K&&1===r.K.ee?(r.ee=1,r.K.ee=0,r.te()):(r.ee=1,t=e)}}else{var r=e.K;if(1===r.ee)r.ee=0,e.ee=1,e===this.W?this.W=e.te():e.te();else{if(r.K&&1===r.K.ee){r.ee=e.ee,e.ee=0,r.K.ee=0,e===this.W?this.W=e.te():e.te();return}r.N&&1===r.N.ee?(r.ee=1,r.N.ee=0,r.ne()):(r.ee=1,t=e)}}}},e.prototype.he=function(t){if(1===this.M)return this.clear(),this.h;for(var e,r,n=t;n.K||n.N;){if(n.N)for(n=n.N;n.K;)n=n.K;else n=n.K;e=g([n.u,t.u],2),t.u=e[0],n.u=e[1],r=g([n.p,t.p],2),t.p=r[0],n.p=r[1],t=n}this.h.K===n?this.h.K=n.rr:this.h.N===n&&(this.h.N=n.rr),this.ue(n);var i=n.rr;return n===i.K?i.K=void 0:i.N=void 0,this.M-=1,this.W.ee=0,i},e.prototype.ae=function(t,e){return void 0!==t&&(!!(this.ae(t.K,e)||e(t))||this.ae(t.N,e))},e.prototype.fe=function(t){for(;;){var e=t.rr;if(0===e.ee)return;var r=e.rr;if(e===r.K){var n=r.N;if(n&&1===n.ee){if(n.ee=e.ee=0,r===this.W)return;r.ee=1,t=r;continue}if(t===e.N){if(t.ee=0,t.K&&(t.K.rr=e),t.N&&(t.N.rr=r),e.N=t.K,r.K=t.N,t.K=e,t.N=r,r===this.W)this.W=t,this.h.rr=t;else{var i=r.rr;i.K===r?i.K=t:i.N=t}return t.rr=r.rr,e.rr=t,r.rr=t,r.ee=1,{parentNode:e,grandParent:r,curNode:t}}e.ee=0,r===this.W?this.W=r.te():r.te(),r.ee=1}else{var n=r.K;if(n&&1===n.ee){if(n.ee=e.ee=0,r===this.W)return;r.ee=1,t=r;continue}if(t===e.K){if(t.ee=0,t.K&&(t.K.rr=r),t.N&&(t.N.rr=e),r.N=t.K,e.K=t.N,t.K=r,t.N=e,r===this.W)this.W=t,this.h.rr=t;else{var i=r.rr;i.K===r?i.K=t:i.N=t}return t.rr=r.rr,e.rr=t,r.rr=t,r.ee=1,{parentNode:e,grandParent:r,curNode:t}}e.ee=0,r===this.W?this.W=r.ne():r.ne(),r.ee=1}return}},e.prototype.se=function(t,e,r){if(void 0===this.W){this.M+=1,this.W=new this.re(t,e),this.W.ee=0,this.W.rr=this.h,this.h.rr=this.W,this.h.K=this.W,this.h.N=this.W;return}var n,i=this.h.K,o=this.$(i.u,t);if(0===o){i.p=e;return}if(o>0)i.K=new this.re(t,e),i.K.rr=i,n=i.K,this.h.K=n;else{var s=this.h.N,a=this.$(s.u,t);if(0===a){s.p=e;return}if(a<0)s.N=new this.re(t,e),s.N.rr=s,n=s.N,this.h.N=n;else{if(void 0!==r){var l=r.o;if(l!==this.h){var u=this.$(l.u,t);if(0===u){l.p=e;return}if(u>0){var h=l.L(),c=this.$(h.u,t);if(0===c){h.p=e;return}c<0&&(n=new this.re(t,e),void 0===h.N?(h.N=n,n.rr=h):(l.K=n,n.rr=l))}}}if(void 0===n)for(n=this.W;;){var p=this.$(n.u,t);if(p>0){if(void 0===n.K){n.K=new this.re(t,e),n.K.rr=n,n=n.K;break}n=n.K}else if(p<0){if(void 0===n.N){n.N=new this.re(t,e),n.N.rr=n,n=n.N;break}n=n.N}else{n.p=e;return}}}}return this.M+=1,n},e.prototype.g=function(t,e){for(;t;){var r=this.$(t.u,e);if(r<0)t=t.N;else{if(!(r>0))return t;t=t.K}}return t||this.h},e.prototype.clear=function(){this.M=0,this.W=void 0,this.h.rr=void 0,this.h.K=this.h.N=void 0},e.prototype.updateKeyByIterator=function(t,e){var r=t.o;if(r===this.h&&d(),1===this.M)return r.u=e,!0;if(r===this.h.K)return this.$(r.m().u,e)>0&&(r.u=e,!0);if(r===this.h.N)return 0>this.$(r.L().u,e)&&(r.u=e,!0);var n=r.L().u;if(this.$(n,e)>=0)return!1;var i=r.m().u;return!(0>=this.$(i,e))&&(r.u=e,!0)},e.prototype.eraseElementByPos=function(t){if(t<0||t>this.M-1)throw RangeError();var e=0,r=this;return this.ae(this.W,function(n){return t===e?(r.G(n),!0):(e+=1,!1)}),this.M},e.prototype.eraseElementByKey=function(t){if(0===this.M)return!1;var e=this.g(this.W,t);return e!==this.h&&(this.G(e),!0)},e.prototype.eraseElementByIterator=function(t){var e=t.o;e===this.h&&d();var r=void 0===e.N;return 0===t.iteratorType?r&&t.next():r&&void 0!==e.K||t.next(),this.G(e),t},e.prototype.forEach=function(t){var e,r,n=0;try{for(var i=y(this),o=i.next();!o.done;o=i.next()){var s=o.value;t(s,n++,this)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}},e.prototype.getElementByPos=function(t){if(t<0||t>this.M-1)throw RangeError();var e,r,n,i=0;try{for(var o=y(this),s=o.next();!s.done;s=o.next()){var a=s.value;if(i===t){n=a;break}i+=1}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return n},e.prototype.getHeight=function(){if(0===this.M)return 0;var t=function(e){return e?Math.max(t(e.K),t(e.N))+1:0};return t(this.W)},e}(f),b=(s=function(t,e){return(s=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),w=function(t){function e(e,r,n){var i=t.call(this,n)||this;return i.o=e,i.h=r,0===i.iteratorType?(i.pre=function(){return this.o===this.h.K&&d(),this.o=this.o.L(),this},i.next=function(){return this.o===this.h&&d(),this.o=this.o.m(),this}):(i.pre=function(){return this.o===this.h.N&&d(),this.o=this.o.m(),this},i.next=function(){return this.o===this.h&&d(),this.o=this.o.L(),this}),i}return b(e,t),Object.defineProperty(e.prototype,"index",{get:function(){var t=this.o,e=this.h.rr;if(t===this.h)return e?e.tr-1:0;var r=0;for(t.K&&(r+=t.K.tr);t!==e;){var n=t.rr;t===n.N&&(r+=1,n.K&&(r+=n.K.tr)),t=n}return r},enumerable:!1,configurable:!0}),e}(p),_=(a=function(t,e){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),S=function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},E=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},x=function(t){function e(e,r,n,i){var o=t.call(this,e,r,i)||this;return o.container=n,o}return _(e,t),Object.defineProperty(e.prototype,"pointer",{get:function(){return this.o===this.h&&d(),this.o.u},enumerable:!1,configurable:!0}),e.prototype.copy=function(){return new e(this.o,this.h,this.container,this.iteratorType)},e}(w),k=function(t){function e(e,r,n){void 0===e&&(e=[]);var i=t.call(this,r,n)||this;return e.forEach(function(t){i.insert(t)}),i}return _(e,t),e.prototype.P=function(t){return S(this,function(e){switch(e.label){case 0:if(void 0===t)return[2];return[5,E(this.P(t.K))];case 1:return e.sent(),[4,t.u];case 2:return e.sent(),[5,E(this.P(t.N))];case 3:return e.sent(),[2]}})},e.prototype.begin=function(){return new x(this.h.K||this.h,this.h,this)},e.prototype.end=function(){return new x(this.h,this.h,this)},e.prototype.rBegin=function(){return new x(this.h.N||this.h,this.h,this,1)},e.prototype.rEnd=function(){return new x(this.h,this.h,this,1)},e.prototype.front=function(){return this.h.K?this.h.K.u:void 0},e.prototype.back=function(){return this.h.N?this.h.N.u:void 0},e.prototype.insert=function(t,e){return this.v(t,void 0,e)},e.prototype.find=function(t){var e=this.g(this.W,t);return new x(e,this.h,this)},e.prototype.lowerBound=function(t){var e=this.U(this.W,t);return new x(e,this.h,this)},e.prototype.upperBound=function(t){var e=this.X(this.W,t);return new x(e,this.h,this)},e.prototype.reverseLowerBound=function(t){var e=this.Y(this.W,t);return new x(e,this.h,this)},e.prototype.reverseUpperBound=function(t){var e=this.Z(this.W,t);return new x(e,this.h,this)},e.prototype.union=function(t){var e=this;return t.forEach(function(t){e.insert(t)}),this.M},e.prototype[Symbol.iterator]=function(){return this.P(this.W)},e}(v)},778:function(t,e,r){var n=r(2479);function i(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function o(t){var e=function(){if(e.called)throw Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}t.exports=n(i),t.exports.strict=n(o),i.proto=i(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})})},8212:function(t,e,r){"use strict";var n=r(3454);void 0!==n&&n.version&&0!==n.version.indexOf("v0.")&&(0!==n.version.indexOf("v1.")||0===n.version.indexOf("v1.8."))?t.exports=n:t.exports={nextTick:function(t,e,r,i){if("function"!=typeof t)throw TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return n.nextTick(t);case 2:return n.nextTick(function(){t.call(null,e)});case 3:return n.nextTick(function(){t.call(null,e,r)});case 4:return n.nextTick(function(){t.call(null,e,r,i)});default:for(o=Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return n.nextTick(function(){t.apply(null,o)})}}}},4281:function(t){"use strict";var e={};function r(t,r,n){n||(n=Error);var i=function(t){var e;function n(e,n,i){return t.call(this,"string"==typeof r?r:r(e,n,i))||this}return(e=n).prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t,n}(n);i.prototype.name=n.name,i.prototype.code=t,e[t]=i}function n(t,e){if(!Array.isArray(t))return"of ".concat(e," ").concat(String(t));var r=t.length;return(t=t.map(function(t){return String(t)}),r>2)?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}r("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(t,e,r){if("string"==typeof e&&(i="not ",e.substr(!o||o<0?0:+o,i.length)===i)?(u="must not be",e=e.replace(/^not /,"")):u="must be",s=" argument",(void 0===a||a>t.length)&&(a=t.length),t.substring(a-s.length,a)===s)h="The ".concat(t," ").concat(u," ").concat(n(e,"type"));else{var i,o,s,a,l,u,h,c=("number"!=typeof l&&(l=0),l+1>t.length||-1===t.indexOf(".",l))?"argument":"property";h='The "'.concat(t,'" ').concat(c," ").concat(u," ").concat(n(e,"type"))}return h+". Received type ".concat(typeof r)},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.q=e},6753:function(t,e,r){"use strict";var n=r(3454),i=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=h;var o=r(9481),s=r(4229);r(5717)(h,o);for(var a=i(s.prototype),l=0;l<a.length;l++){var u=a[l];h.prototype[u]||(h.prototype[u]=s.prototype[u])}function h(t){if(!(this instanceof h))return new h(t);o.call(this,t),s.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||n.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})},1318:function(t,e,r){"use strict";t.exports=i;var n=r(4605);function i(t){if(!(this instanceof i))return new i(t);n.call(this,t)}r(5717)(i,n),i.prototype._transform=function(t,e,r){r(null,t)}},9481:function(t,e,r){"use strict";var n,i,o,s,a,l=r(3454);t.exports=k,k.ReadableState=x,r(7187).EventEmitter;var u=function(t,e){return t.listeners(e).length},h=r(2503),c=r(8764).Buffer,p=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},f=r(4616);i=f&&f.debuglog?f.debuglog("stream"):function(){};var d=r(7327),m=r(1195),g=r(2457).getHighWaterMark,y=r(4281).q,v=y.ERR_INVALID_ARG_TYPE,b=y.ERR_STREAM_PUSH_AFTER_EOF,w=y.ERR_METHOD_NOT_IMPLEMENTED,_=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(5717)(k,h);var S=m.errorOrDestroy,E=["error","close","destroy","pause","resume"];function x(t,e,i){n=n||r(6753),t=t||{},"boolean"!=typeof i&&(i=e instanceof n),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=g(this,t,"readableHighWaterMark",i),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(o||(o=r(2553).s),this.decoder=new o(t.encoding),this.encoding=t.encoding)}function k(t){if(n=n||r(6753),!(this instanceof k))return new k(t);var e=this instanceof n;this._readableState=new x(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),h.call(this)}function A(t,e,r,n,o){i("readableAddChunk",e);var s,a,l,u,h,f=t._readableState;if(null===e)f.reading=!1,function(t,e){if(i("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?C(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,I(t)))}}(t,f);else{if(o||(s=f,a=e,c.isBuffer(a)||a instanceof p||"string"==typeof a||void 0===a||s.objectMode||(l=new v("chunk",["string","Buffer","Uint8Array"],a)),h=l),h)S(t,h);else if(f.objectMode||e&&e.length>0){if("string"==typeof e||f.objectMode||Object.getPrototypeOf(e)===c.prototype||(u=e,e=c.from(u)),n)f.endEmitted?S(t,new _):P(t,f,e,!0);else if(f.ended)S(t,new b);else{if(f.destroyed)return!1;f.reading=!1,f.decoder&&!r?(e=f.decoder.write(e),f.objectMode||0!==e.length?P(t,f,e,!1):R(t,f)):P(t,f,e,!1)}}else n||(f.reading=!1,R(t,f))}return!f.ended&&(f.length<f.highWaterMark||0===f.length)}function P(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&C(t)),R(t,e)}function T(t,e){if(t<=0||0===e.length&&e.ended)return 0;if(e.objectMode)return 1;if(t!=t)return e.flowing&&e.length?e.buffer.head.data.length:e.length;if(t>e.highWaterMark){var r;e.highWaterMark=((r=t)>=1073741824?r=1073741824:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),r)}return t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0)}function C(t){var e=t._readableState;i("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(i("emitReadable",e.flowing),e.emittedReadable=!0,l.nextTick(I,t))}function I(t){var e=t._readableState;i("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,N(t)}function R(t,e){e.readingMore||(e.readingMore=!0,l.nextTick(M,t,e))}function M(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(i("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function O(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function B(t){i("readable nexttick read 0"),t.read(0)}function L(t,e){i("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),N(t),e.flowing&&!e.reading&&t.read(0)}function N(t){var e=t._readableState;for(i("flow",e.flowing);e.flowing&&null!==t.read(););}function j(t,e){var r;return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r)}function U(t){var e=t._readableState;i("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,l.nextTick(D,e,t))}function D(t,e){if(i("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function V(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return -1}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),k.prototype.destroy=m.destroy,k.prototype._undestroy=m.undestroy,k.prototype._destroy=function(t,e){e(t)},k.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=c.from(t,e),e=""),r=!0),A(this,t,e,!1,r)},k.prototype.unshift=function(t){return A(this,t,null,!0,!1)},k.prototype.isPaused=function(){return!1===this._readableState.flowing},k.prototype.setEncoding=function(t){o||(o=r(2553).s);var e=new o(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=e.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this},k.prototype.read=function(t){i("read",t),t=parseInt(t,10);var e,r=this._readableState,n=t;if(0!==t&&(r.emittedReadable=!1),0===t&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:r.length>0)||r.ended))return i("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?U(this):C(this),null;if(0===(t=T(t,r))&&r.ended)return 0===r.length&&U(this),null;var o=r.needReadable;return i("need readable",o),(0===r.length||r.length-t<r.highWaterMark)&&i("length less than watermark",o=!0),r.ended||r.reading?i("reading or ended",o=!1):o&&(i("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(t=T(n,r))),null===(e=t>0?j(t,r):null)?(r.needReadable=r.length<=r.highWaterMark,t=0):(r.length-=t,r.awaitDrain=0),0===r.length&&(r.ended||(r.needReadable=!0),n!==t&&r.ended&&U(this)),null!==e&&this.emit("data",e),e},k.prototype._read=function(t){S(this,new w("_read()"))},k.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t)}n.pipesCount+=1,i("pipe count=%d opts=%j",n.pipesCount,e);var o=e&&!1===e.end||t===l.stdout||t===l.stderr?m:s;function s(){i("onend"),t.end()}n.endEmitted?l.nextTick(o):r.once("end",o),t.on("unpipe",function e(o,l){i("onunpipe"),o===r&&l&&!1===l.hasUnpiped&&(l.hasUnpiped=!0,i("cleanup"),t.removeListener("close",f),t.removeListener("finish",d),t.removeListener("drain",a),t.removeListener("error",p),t.removeListener("unpipe",e),r.removeListener("end",s),r.removeListener("end",m),r.removeListener("data",c),h=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&a())});var a=function(){var t=r._readableState;i("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&u(r,"data")&&(t.flowing=!0,N(r))};t.on("drain",a);var h=!1;function c(e){i("ondata");var o=t.write(e);i("dest.write",o),!1===o&&((1===n.pipesCount&&n.pipes===t||n.pipesCount>1&&-1!==V(n.pipes,t))&&!h&&(i("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function p(e){i("onerror",e),m(),t.removeListener("error",p),0===u(t,"error")&&S(t,e)}function f(){t.removeListener("finish",d),m()}function d(){i("onfinish"),t.removeListener("close",f),m()}function m(){i("unpipe"),r.unpipe(t)}return r.on("data",c),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",p),t.once("close",f),t.once("finish",d),t.emit("pipe",r),n.flowing||(i("pipe resume"),r.resume()),t},k.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=V(e.pipes,t);return -1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},k.prototype.on=function(t,e){var r=h.prototype.on.call(this,t,e),n=this._readableState;return"data"===t?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"!==t||n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,i("on readable",n.length,n.reading),n.length?C(this):n.reading||l.nextTick(B,this)),r},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(t,e){var r=h.prototype.removeListener.call(this,t,e);return"readable"===t&&l.nextTick(O,this),r},k.prototype.removeAllListeners=function(t){var e=h.prototype.removeAllListeners.apply(this,arguments);return("readable"===t||void 0===t)&&l.nextTick(O,this),e},k.prototype.resume=function(){var t,e=this._readableState;return e.flowing||(i("resume"),e.flowing=!e.readableListening,(t=e).resumeScheduled||(t.resumeScheduled=!0,l.nextTick(L,this,t))),e.paused=!1,this},k.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},k.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var o in t.on("end",function(){if(i("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(o){i("wrapped data"),r.decoder&&(o=r.decoder.write(o)),(!r.objectMode||null!=o)&&(r.objectMode||o&&o.length)&&(e.push(o)||(n=!0,t.pause()))}),t)void 0===this[o]&&"function"==typeof t[o]&&(this[o]=function(e){return function(){return t[e].apply(t,arguments)}}(o));for(var s=0;s<E.length;s++)t.on(E[s],this.emit.bind(this,E[s]));return this._read=function(e){i("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(k.prototype[Symbol.asyncIterator]=function(){return void 0===s&&(s=r(5850)),s(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),k._fromList=j,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(k.from=function(t,e){return void 0===a&&(a=r(5167)),a(k,t,e)})},4605:function(t,e,r){"use strict";t.exports=h;var n=r(4281).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,l=r(6753);function u(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function h(t){if(!(this instanceof h))return new h(t);l.call(this,t),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",c)}function c(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?p(this,null,null):this._flush(function(e,r){p(t,e,r)})}function p(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new a;if(t._transformState.transforming)throw new s;return t.push(null)}r(5717)(h,l),h.prototype.push=function(t,e){return this._transformState.needTransform=!1,l.prototype.push.call(this,t,e)},h.prototype._transform=function(t,e,r){r(new i("_transform()"))},h.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},h.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},h.prototype._destroy=function(t,e){l.prototype._destroy.call(this,t,function(t){e(t)})}},4229:function(t,e,r){"use strict";var n,i,o=r(3454);function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){(function(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(void 0),n=n.next}e.corkedRequestsFree.next=t})(e,t)}}t.exports=k,k.WritableState=x;var a={deprecate:r(4927)},l=r(2503),u=r(8764).Buffer,h=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},c=r(1195),p=r(2457).getHighWaterMark,f=r(4281).q,d=f.ERR_INVALID_ARG_TYPE,m=f.ERR_METHOD_NOT_IMPLEMENTED,g=f.ERR_MULTIPLE_CALLBACK,y=f.ERR_STREAM_CANNOT_PIPE,v=f.ERR_STREAM_DESTROYED,b=f.ERR_STREAM_NULL_VALUES,w=f.ERR_STREAM_WRITE_AFTER_END,_=f.ERR_UNKNOWN_ENCODING,S=c.errorOrDestroy;function E(){}function x(t,e,i){n=n||r(6753),t=t||{},"boolean"!=typeof i&&(i=e instanceof n),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=p(this,t,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){(function(t,e){var r,n,i=t._writableState,s=i.sync,a=i.writecb;if("function"!=typeof a)throw new g;if((r=i).writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e)n=t,--i.pendingcb,s?(o.nextTick(a,e),o.nextTick(R,n,i),n._writableState.errorEmitted=!0,S(n,e)):(a(e),n._writableState.errorEmitted=!0,S(n,e),R(n,i));else{var l=C(i)||t.destroyed;l||i.corked||i.bufferProcessing||!i.bufferedRequest||T(t,i),s?o.nextTick(P,t,i,l,a):P(t,i,l,a)}})(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function k(t){var e=this instanceof(n=n||r(6753));if(!e&&!i.call(k,this))return new k(t);this._writableState=new x(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),l.call(this)}function A(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new v("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function P(t,e,r,n){var i;r||0===(i=e).length&&i.needDrain&&(i.needDrain=!1,t.emit("drain")),e.pendingcb--,n(),R(t,e)}function T(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=Array(e.bufferedRequestCount),i=e.corkedRequestsFree;i.entry=r;for(var o=0,a=!0;r;)n[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;n.allBuffers=a,A(t,e,!0,e.length,n,"",i.finish),e.pendingcb++,e.lastBufferedRequest=null,i.next?(e.corkedRequestsFree=i.next,i.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,u=r.encoding,h=r.callback,c=e.objectMode?1:l.length;if(A(t,e,!1,c,l,u,h),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function C(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function I(t,e){t._final(function(r){e.pendingcb--,r&&S(t,r),e.prefinished=!0,t.emit("prefinish"),R(t,e)})}function R(t,e){var r,n=C(e);if(n&&((r=e).prefinished||r.finalCalled||("function"!=typeof t._final||r.destroyed?(r.prefinished=!0,t.emit("prefinish")):(r.pendingcb++,r.finalCalled=!0,o.nextTick(I,t,r))),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return n}r(5717)(k,l),x.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(x.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(i=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(t){return!!i.call(this,t)||this===k&&t&&t._writableState instanceof x}})):i=function(t){return t instanceof this},k.prototype.pipe=function(){S(this,new y)},k.prototype.write=function(t,e,r){var n,i,s,a,l,c,p,f=this._writableState,m=!1,g=!f.objectMode&&(n=t,u.isBuffer(n)||n instanceof h);return g&&!u.isBuffer(t)&&(i=t,t=u.from(i)),("function"==typeof e&&(r=e,e=null),g?e="buffer":e||(e=f.defaultEncoding),"function"!=typeof r&&(r=E),f.ending)?(s=r,S(this,a=new w),o.nextTick(s,a)):(g||(l=t,c=r,null===l?p=new b:"string"==typeof l||f.objectMode||(p=new d("chunk",["string","Buffer"],l)),!p||(S(this,p),o.nextTick(c,p),0)))&&(f.pendingcb++,m=function(t,e,r,n,i,o){if(!r){var s,a,l=(s=n,a=i,e.objectMode||!1===e.decodeStrings||"string"!=typeof s||(s=u.from(s,a)),s);n!==l&&(r=!0,i="buffer",n=l)}var h=e.objectMode?1:n.length;e.length+=h;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var p=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},p?p.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else A(t,e,!1,h,n,i,o);return c}(this,f,g,t,e,r)),m},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var t=this._writableState;!t.corked||(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||T(this,t))},k.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new _(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k.prototype._write=function(t,e,r){r(new m("_write()"))},k.prototype._writev=null,k.prototype.end=function(t,e,r){var n,i,s,a=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),a.corked&&(a.corked=1,this.uncork()),a.ending||(n=this,i=a,s=r,i.ending=!0,R(n,i),s&&(i.finished?o.nextTick(s):n.once("finish",s)),i.ended=!0,n.writable=!1),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),k.prototype.destroy=c.destroy,k.prototype._undestroy=c.undestroy,k.prototype._destroy=function(t,e){e(t)}},5850:function(t,e,r){"use strict";var n,i=r(3454);function o(t,e,r){var n;return(e="symbol"==typeof(n=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?n:String(n))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s=r(8610),a=Symbol("lastResolve"),l=Symbol("lastReject"),u=Symbol("error"),h=Symbol("ended"),c=Symbol("lastPromise"),p=Symbol("handlePromise"),f=Symbol("stream");function d(t,e){return{value:t,done:e}}function m(t){var e=t[a];if(null!==e){var r=t[f].read();null!==r&&(t[c]=null,t[a]=null,t[l]=null,e(d(r,!1)))}}function g(t){i.nextTick(m,t)}var y=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((o(n={get stream(){return this[f]},next:function(){var t,e,r=this,n=this[u];if(null!==n)return Promise.reject(n);if(this[h])return Promise.resolve(d(void 0,!0));if(this[f].destroyed)return new Promise(function(t,e){i.nextTick(function(){r[u]?e(r[u]):t(d(void 0,!0))})});var o=this[c];if(o)e=new Promise((t=this,function(e,r){o.then(function(){if(t[h]){e(d(void 0,!0));return}t[p](e,r)},r)}));else{var s=this[f].read();if(null!==s)return Promise.resolve(d(s,!1));e=new Promise(this[p])}return this[c]=e,e}},Symbol.asyncIterator,function(){return this}),o(n,"return",function(){var t=this;return new Promise(function(e,r){t[f].destroy(null,function(t){if(t){r(t);return}e(d(void 0,!0))})})}),n),y);t.exports=function(t){var e,r=Object.create(v,(o(e={},f,{value:t,writable:!0}),o(e,a,{value:null,writable:!0}),o(e,l,{value:null,writable:!0}),o(e,u,{value:null,writable:!0}),o(e,h,{value:t._readableState.endEmitted,writable:!0}),o(e,p,{value:function(t,e){var n=r[f].read();n?(r[c]=null,r[a]=null,r[l]=null,t(d(n,!1))):(r[a]=t,r[l]=e)},writable:!0}),e));return r[c]=null,s(t,function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[l];null!==e&&(r[c]=null,r[a]=null,r[l]=null,e(t)),r[u]=t;return}var n=r[a];null!==n&&(r[c]=null,r[a]=null,r[l]=null,n(d(void 0,!0))),r[h]=!0}),t.on("readable",g.bind(null,r)),r}},7327:function(t,e,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach(function(e){var n,i,o;n=t,i=e,o=r[e],(i=s(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function s(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}var a=r(8764).Buffer,l=r(2361).inspect,u=l&&l.custom||"inspect";t.exports=function(){var t,e;function r(){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,r),this.head=null,this.tail=null,this.length=0}return t=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r}},{key:"concat",value:function(t){if(0===this.length)return a.alloc(0);for(var e,r,n=a.allocUnsafe(t>>>0),i=this.head,o=0;i;)e=i.data,r=o,a.prototype.copy.call(e,n,r),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,r=1,n=e.data;for(t-=n.length;e=e.next;){var i=e.data,o=t>i.length?i.length:t;if(o===i.length?n+=i:n+=i.slice(0,t),0==(t-=o)){o===i.length?(++r,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(t){var e=a.allocUnsafe(t),r=this.head,n=1;for(r.data.copy(e),t-=r.data.length;r=r.next;){var i=r.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),0==(t-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,e}},{key:u,value:function(t,e){return l(this,i(i({},e),{},{depth:0,customInspect:!1}))}}],o(r.prototype,t),e&&o(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}()},1195:function(t,e,r){"use strict";var n=r(3454);function i(t,e){s(t,e),o(t)}function o(t){(!t._writableState||t._writableState.emitClose)&&(!t._readableState||t._readableState.emitClose)&&t.emit("close")}function s(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var r=this,a=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return a||l?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(s,this,t)):n.nextTick(s,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?r._writableState?r._writableState.errorEmitted?n.nextTick(o,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,t)):n.nextTick(i,r,t):e?(n.nextTick(o,r),e(t)):n.nextTick(o,r)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}}},8610:function(t,e,r){"use strict";var n=r(4281).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function t(e,r,o){if("function"==typeof r)return t(e,null,r);r||(r={}),s=o||i,a=!1,o=function(){if(!a){a=!0;for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];s.apply(this,e)}};var s,a,l=r.readable||!1!==r.readable&&e.readable,u=r.writable||!1!==r.writable&&e.writable,h=function(){e.writable||p()},c=e._writableState&&e._writableState.finished,p=function(){u=!1,c=!0,l||o.call(e)},f=e._readableState&&e._readableState.endEmitted,d=function(){l=!1,f=!0,u||o.call(e)},m=function(t){o.call(e,t)},g=function(){var t;return l&&!f?(e._readableState&&e._readableState.ended||(t=new n),o.call(e,t)):u&&!c?(e._writableState&&e._writableState.ended||(t=new n),o.call(e,t)):void 0},y=function(){e.req.on("finish",p)};return e.setHeader&&"function"==typeof e.abort?(e.on("complete",p),e.on("abort",g),e.req?y():e.on("request",y)):u&&!e._writableState&&(e.on("end",h),e.on("close",h)),e.on("end",d),e.on("finish",p),!1!==r.error&&e.on("error",m),e.on("close",g),function(){e.removeListener("complete",p),e.removeListener("abort",g),e.removeListener("request",y),e.req&&e.req.removeListener("finish",p),e.removeListener("end",h),e.removeListener("close",h),e.removeListener("finish",p),e.removeListener("end",d),e.removeListener("error",m),e.removeListener("close",g)}}},5167:function(t){t.exports=function(){throw Error("Readable.from is not available in the browser")}},9946:function(t,e,r){"use strict";var n,i=r(4281).q,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(t){if(t)throw t}function l(t){t()}function u(t,e){return t.pipe(e)}t.exports=function(){for(var t,e,i=arguments.length,h=Array(i),c=0;c<i;c++)h[c]=arguments[c];var p=(t=h).length&&"function"==typeof t[t.length-1]?t.pop():a;if(Array.isArray(h[0])&&(h=h[0]),h.length<2)throw new o("streams");var f=h.map(function(t,i){var o,a,u,c,d,m=i<h.length-1;return a=o=function(t){e||(e=t),t&&f.forEach(l),m||(f.forEach(l),p(e))},u=!1,o=function(){u||(u=!0,a.apply(void 0,arguments))},c=!1,t.on("close",function(){c=!0}),void 0===n&&(n=r(8610)),n(t,{readable:m,writable:i>0},function(t){if(t)return o(t);c=!0,o()}),d=!1,function(e){if(!c&&!d){if(d=!0,t.setHeader&&"function"==typeof t.abort)return t.abort();if("function"==typeof t.destroy)return t.destroy();o(e||new s("pipe"))}}});return h.reduce(u)}},2457:function(t,e,r){"use strict";var n=r(4281).q.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,r,i){var o=null!=e.highWaterMark?e.highWaterMark:i?e[r]:null;if(null!=o){if(!(isFinite(o)&&Math.floor(o)===o)||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return t.objectMode?16:16384}}},2503:function(t,e,r){t.exports=r(7187).EventEmitter},8473:function(t,e,r){(e=t.exports=r(9481)).Stream=e,e.Readable=e,e.Writable=r(4229),e.Duplex=r(6753),e.Transform=r(4605),e.PassThrough=r(1318),e.finished=r(8610),e.pipeline=r(9946)},5408:function(t){"use strict";function e(t,e,r){var n=this;this._callback=t,this._args=r,this._interval=setInterval(t,e,this._args),this.reschedule=function(t){t||(t=n._interval),n._interval&&clearInterval(n._interval),n._interval=setInterval(n._callback,t,n._args)},this.clear=function(){n._interval&&(clearInterval(n._interval),n._interval=void 0)},this.destroy=function(){n._interval&&clearInterval(n._interval),n._callback=void 0,n._interval=void 0,n._args=void 0}}t.exports=function(){if("function"!=typeof arguments[0])throw Error("callback needed");if("number"!=typeof arguments[1])throw Error("interval needed");if(arguments.length>0){t=Array(arguments.length-2);for(var t,r=0;r<t.length;r++)t[r]=arguments[r+2]}return new e(arguments[0],arguments[1],t)}},1697:function(t,e,r){"use strict";t.exports=r(3188)()},3188:function(t,e,r){"use strict";var n=r(8764).Buffer;function i(t){return t instanceof n?n.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}t.exports=function(t){if((t=t||{}).circles)return function(t){var e=[],r=[];return t.proto?function t(o){if("object"!=typeof o||null===o)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return n(o,t);if(o instanceof Map)return new Map(n(Array.from(o),t));if(o instanceof Set)return new Set(n(Array.from(o),t));var s={};for(var a in e.push(o),r.push(s),o){var l=o[a];if("object"!=typeof l||null===l)s[a]=l;else if(l instanceof Date)s[a]=new Date(l);else if(l instanceof Map)s[a]=new Map(n(Array.from(l),t));else if(l instanceof Set)s[a]=new Set(n(Array.from(l),t));else if(ArrayBuffer.isView(l))s[a]=i(l);else{var u=e.indexOf(l);-1!==u?s[a]=r[u]:s[a]=t(l)}}return e.pop(),r.pop(),s}:function t(o){if("object"!=typeof o||null===o)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return n(o,t);if(o instanceof Map)return new Map(n(Array.from(o),t));if(o instanceof Set)return new Set(n(Array.from(o),t));var s={};for(var a in e.push(o),r.push(s),o)if(!1!==Object.hasOwnProperty.call(o,a)){var l=o[a];if("object"!=typeof l||null===l)s[a]=l;else if(l instanceof Date)s[a]=new Date(l);else if(l instanceof Map)s[a]=new Map(n(Array.from(l),t));else if(l instanceof Set)s[a]=new Set(n(Array.from(l),t));else if(ArrayBuffer.isView(l))s[a]=i(l);else{var u=e.indexOf(l);-1!==u?s[a]=r[u]:s[a]=t(l)}}return e.pop(),r.pop(),s};function n(t,n){for(var o=Object.keys(t),s=Array(o.length),a=0;a<o.length;a++){var l=o[a],u=t[l];if("object"!=typeof u||null===u)s[l]=u;else if(u instanceof Date)s[l]=new Date(u);else if(ArrayBuffer.isView(u))s[l]=i(u);else{var h=e.indexOf(u);-1!==h?s[l]=r[h]:s[l]=n(u)}}return s}}(t);return t.proto?function t(r){if("object"!=typeof r||null===r)return r;if(r instanceof Date)return new Date(r);if(Array.isArray(r))return e(r,t);if(r instanceof Map)return new Map(e(Array.from(r),t));if(r instanceof Set)return new Set(e(Array.from(r),t));var n={};for(var o in r){var s=r[o];"object"!=typeof s||null===s?n[o]=s:s instanceof Date?n[o]=new Date(s):s instanceof Map?n[o]=new Map(e(Array.from(s),t)):s instanceof Set?n[o]=new Set(e(Array.from(s),t)):ArrayBuffer.isView(s)?n[o]=i(s):n[o]=t(s)}return n}:function t(r){if("object"!=typeof r||null===r)return r;if(r instanceof Date)return new Date(r);if(Array.isArray(r))return e(r,t);if(r instanceof Map)return new Map(e(Array.from(r),t));if(r instanceof Set)return new Set(e(Array.from(r),t));var n={};for(var o in r)if(!1!==Object.hasOwnProperty.call(r,o)){var s=r[o];"object"!=typeof s||null===s?n[o]=s:s instanceof Date?n[o]=new Date(s):s instanceof Map?n[o]=new Map(e(Array.from(s),t)):s instanceof Set?n[o]=new Set(e(Array.from(s),t)):ArrayBuffer.isView(s)?n[o]=i(s):n[o]=t(s)}return n};function e(t,e){for(var r=Object.keys(t),n=Array(r.length),o=0;o<r.length;o++){var s=r[o],a=t[s];"object"!=typeof a||null===a?n[s]=a:a instanceof Date?n[s]=new Date(a):ArrayBuffer.isView(a)?n[s]=i(a):n[s]=e(a)}return n}}},9509:function(t,e,r){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var n=r(8764),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(t,e,r){if("number"==typeof t)throw TypeError("Argument must not be a number");return i(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if("number"!=typeof t)throw TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw TypeError("Argument must be a number");return n.SlowBuffer(t)}},1852:function(t){t.exports=function(t){var e=t._readableState;return e?e.objectMode||"number"==typeof t._duplexState?t.read():t.read(e.buffer.length?e.buffer.head?e.buffer.head.data.length:e.buffer[0].length:e.length):null}},2553:function(t,e,r){"use strict";var n=r(9509).Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){var e;if(!t)return"utf8";for(;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=l,this.end=u,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=h,this.end=c,e=3;break;default:this.write=p,this.end=f;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if((192&e[0])!=128)return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if((192&e[1])!=128)return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&(192&e[2])!=128)return t.lastNeed=2,""}}(this,t,0);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length)}function l(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function h(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function c(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function p(t){return t.toString(this.encoding)}function f(t){return t&&t.length?this.write(t):""}e.s=o,o.prototype.write=function(t){var e,r;if(0===t.length)return"";if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},o.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=s(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||-2===i?0:(i=s(e[n]))>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||-2===i?0:(i=s(e[n]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},619:function(t,e,r){"use strict";var n=r(7294);function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}e.Z=function(t,e){void 0===e&&(e={});var o=e,s=o.volume,a=void 0===s?1:s,l=o.playbackRate,u=void 0===l?1:l,h=o.soundEnabled,c=void 0===h||h,p=o.interrupt,f=void 0!==p&&p,d=o.onload,m=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)e.indexOf(r=o[n])>=0||(i[r]=t[r]);return i}(o,["id","volume","playbackRate","soundEnabled","interrupt","onload"]),g=n.useRef(null),y=n.useRef(!1),v=n.useState(null),b=v[0],w=v[1],_=n.useState(null),S=_[0],E=_[1],x=function(){"function"==typeof d&&d.call(this),y.current&&w(1e3*this.duration()),E(this)};(0,n.useEffect)(function(){return r.e(766).then(r.t.bind(r,1766,23)).then(function(e){if(!y.current){var r;g.current=null!==(r=e.Howl)&&void 0!==r?r:e.default.Howl,y.current=!0,new g.current(i({src:Array.isArray(t)?t:[t],volume:a,rate:u,onload:x},m))}}),function(){y.current=!1}},[]),n.useEffect(function(){g.current&&S&&E(new g.current(i({src:Array.isArray(t)?t:[t],volume:a,onload:x},m)))},[JSON.stringify(t)]),n.useEffect(function(){S&&(S.volume(a),S.rate(u))},[a,u]);var k=n.useCallback(function(t){void 0===t&&(t={}),S&&(c||t.forceSoundEnabled)&&(f&&S.stop(),t.playbackRate&&S.rate(t.playbackRate),S.play(t.id))},[S,c,f]),A=n.useCallback(function(t){S&&S.stop(t)},[S]),P=n.useCallback(function(t){S&&S.pause(t)},[S]);return[k,{sound:S,stop:A,pause:P,duration:b}]}},4927:function(t,e,r){t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}};function n(t){try{if(!r.g.localStorage)return!1}catch(t){return!1}var e=r.g.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}},2479:function(t){t.exports=function t(e,r){if(e&&r)return t(e)(r);if("function"!=typeof e)throw TypeError("need wrapper function");return Object.keys(e).forEach(function(t){n[t]=e[t]}),n;function n(){for(var t=Array(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];var n=e.apply(this,t),i=t[t.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach(function(t){n[t]=i[t]}),n}}},7026:function(t){"use strict";t.exports=function(){throw Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},7529:function(t){t.exports=function(){for(var t={},r=0;r<arguments.length;r++){var n=arguments[r];for(var i in n)e.call(n,i)&&(t[i]=n[i])}return t};var e=Object.prototype.hasOwnProperty},9602:function(t){"use strict";t.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}},4411:function(t,e,r){"use strict";function n(t){var e=this;if(e instanceof n||(e=new n),e.tail=null,e.head=null,e.length=0,t&&"function"==typeof t.forEach)t.forEach(function(t){e.push(t)});else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)e.push(arguments[r]);return e}function i(t,e,r,n){if(!(this instanceof i))return new i(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}t.exports=n,n.Node=i,n.create=n,n.prototype.removeNode=function(t){if(t.list!==this)throw Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e},n.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},n.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},n.prototype.push=function(){for(var t,e,r=0,n=arguments.length;r<n;r++)t=this,e=arguments[r],t.tail=new i(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++;return this.length},n.prototype.unshift=function(){for(var t,e,r=0,n=arguments.length;r<n;r++)t=this,e=arguments[r],t.head=new i(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++;return this.length},n.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},n.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},n.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;null!==r;n++)t.call(e,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;null!==r;n--)t.call(e,r.value,n,this),r=r.prev},n.prototype.get=function(t){for(var e=0,r=this.head;null!==r&&e<t;e++)r=r.next;if(e===t&&null!==r)return r.value},n.prototype.getReverse=function(t){for(var e=0,r=this.tail;null!==r&&e<t;e++)r=r.prev;if(e===t&&null!==r)return r.value},n.prototype.map=function(t,e){e=e||this;for(var r=new n,i=this.head;null!==i;)r.push(t.call(e,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(t,e){e=e||this;for(var r=new n,i=this.tail;null!==i;)r.push(t.call(e,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw TypeError("Reduce of empty list with no initial value");for(var i=0;null!==n;i++)r=t(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;null!==n;i--)r=t(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var t=Array(this.length),e=0,r=this.head;null!==r;e++)t[e]=r.value,r=r.next;return t},n.prototype.toArrayReverse=function(){for(var t=Array(this.length),e=0,r=this.tail;null!==r;e++)t[e]=r.value,r=r.prev;return t},n.prototype.slice=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=0,o=this.head;null!==o&&i<t;i++)o=o.next;for(;null!==o&&i<e;i++,o=o.next)r.push(o.value);return r},n.prototype.sliceReverse=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new n;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=this.length,o=this.tail;null!==o&&i>e;i--)o=o.prev;for(;null!==o&&i>t;i--,o=o.prev)r.push(o.value);return r},n.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,o=this.head;null!==o&&n<t;n++)o=o.next;for(var s=[],n=0;o&&n<e;n++)s.push(o.value),o=this.removeNode(o);null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(var n=0;n<r.length;n++)o=function(t,e,r){var n=e===t.head?new i(r,null,e,t):new i(r,e,e.next,t);return null===n.next&&(t.tail=n),null===n.prev&&(t.head=n),t.length++,n}(this,o,r[n]);return s},n.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};try{r(9602)(n)}catch(t){}},4924:function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,{Z:function(){return n}})},89:function(t,e,r){"use strict";let n;r.d(e,{E:function(){return iD}});var i,o,s=r(7294);let a=(0,s.createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),l=(0,s.createContext)({}),u=(0,s.createContext)(null),h="undefined"!=typeof document,c=h?s.useLayoutEffect:s.useEffect,p=(0,s.createContext)({strict:!1});function f(t){return"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function d(t){return"string"==typeof t||Array.isArray(t)}function m(t){return"object"==typeof t&&"function"==typeof t.start}let g=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],y=["initial",...g];function v(t){return m(t.animate)||y.some(e=>d(t[e]))}function b(t){return Boolean(v(t)||t.variants)}function w(t){return Array.isArray(t)?t.join(" "):t}let _={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},S={};for(let t in _)S[t]={isEnabled:e=>_[t].some(t=>!!e[t])};let E=(0,s.createContext)({}),x=(0,s.createContext)({}),k=Symbol.for("motionComponentSymbol"),A=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function P(t){if("string"!=typeof t||t.includes("-"));else if(A.indexOf(t)>-1||/[A-Z]/.test(t))return!0;return!1}let T={},C=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],I=new Set(C);function R(t,{layout:e,layoutId:r}){return I.has(t)||t.startsWith("origin")||(e||void 0!==r)&&(!!T[t]||"opacity"===t)}let M=t=>Boolean(t&&t.getVelocity),O={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},B=C.length,L=t=>e=>"string"==typeof e&&e.startsWith(t),N=L("--"),j=L("var(--"),U=(t,e)=>e&&"number"==typeof t?e.transform(t):t,D=(t,e,r)=>Math.min(Math.max(r,t),e),V={test:t=>"number"==typeof t,parse:parseFloat,transform:t=>t},F={...V,transform:t=>D(0,1,t)},q={...V,default:1},K=t=>Math.round(1e5*t)/1e5,W=/(-)?([\d]*\.?[\d])+/g,H=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,$=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function z(t){return"string"==typeof t}let Q=t=>({test:e=>z(e)&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>`${e}${t}`}),Y=Q("deg"),G=Q("%"),X=Q("px"),Z=Q("vh"),J=Q("vw"),tt={...G,parse:t=>G.parse(t)/100,transform:t=>G.transform(100*t)},te={...V,transform:Math.round},tr={borderWidth:X,borderTopWidth:X,borderRightWidth:X,borderBottomWidth:X,borderLeftWidth:X,borderRadius:X,radius:X,borderTopLeftRadius:X,borderTopRightRadius:X,borderBottomRightRadius:X,borderBottomLeftRadius:X,width:X,maxWidth:X,height:X,maxHeight:X,size:X,top:X,right:X,bottom:X,left:X,padding:X,paddingTop:X,paddingRight:X,paddingBottom:X,paddingLeft:X,margin:X,marginTop:X,marginRight:X,marginBottom:X,marginLeft:X,rotate:Y,rotateX:Y,rotateY:Y,rotateZ:Y,scale:q,scaleX:q,scaleY:q,scaleZ:q,skew:Y,skewX:Y,skewY:Y,distance:X,translateX:X,translateY:X,translateZ:X,x:X,y:X,z:X,perspective:X,transformPerspective:X,opacity:F,originX:tt,originY:tt,originZ:X,zIndex:te,fillOpacity:F,strokeOpacity:F,numOctaves:te};function tn(t,e,r,n){let{style:i,vars:o,transform:s,transformOrigin:a}=t,l=!1,u=!1,h=!0;for(let t in e){let r=e[t];if(N(t)){o[t]=r;continue}let n=tr[t],c=U(r,n);if(I.has(t)){if(l=!0,s[t]=c,!h)continue;r!==(n.default||0)&&(h=!1)}else t.startsWith("origin")?(u=!0,a[t]=c):i[t]=c}if(!e.transform&&(l||n?i.transform=function(t,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},n,i){let o="";for(let e=0;e<B;e++){let r=C[e];if(void 0!==t[r]){let e=O[r]||r;o+=`${e}(${t[r]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(t,n?"":o):r&&n&&(o="none"),o}(t.transform,r,h,n):i.transform&&(i.transform="none")),u){let{originX:t="50%",originY:e="50%",originZ:r=0}=a;i.transformOrigin=`${t} ${e} ${r}`}}let ti=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function to(t,e,r){for(let n in e)M(e[n])||R(n,r)||(t[n]=e[n])}function ts(t,e,r){let n={},i=function(t,e,r){let n=t.style||{},i={};return to(i,n,t),Object.assign(i,function({transformTemplate:t},e,r){return(0,s.useMemo)(()=>{let n=ti();return tn(n,e,{enableHardwareAcceleration:!r},t),Object.assign({},n.vars,n.style)},[e])}(t,e,r)),t.transformValues?t.transformValues(i):i}(t,e,r);return t.drag&&!1!==t.dragListener&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===t.drag?"none":`pan-${"x"===t.drag?"y":"x"}`),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}let ta=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function tl(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||ta.has(t)}let tu=t=>!tl(t);try{(i=require("@emotion/is-prop-valid").default)&&(tu=t=>t.startsWith("on")?!tl(t):i(t))}catch(t){}function th(t,e,r){return"string"==typeof t?t:X.transform(e+r*t)}let tc={offset:"stroke-dashoffset",array:"stroke-dasharray"},tp={offset:"strokeDashoffset",array:"strokeDasharray"};function tf(t,{attrX:e,attrY:r,attrScale:n,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},h,c,p){if(tn(t,u,h,p),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};let{attrs:f,style:d,dimensions:m}=t;f.transform&&(m&&(d.transform=f.transform),delete f.transform),m&&(void 0!==i||void 0!==o||d.transform)&&(d.transformOrigin=function(t,e,r){let n=th(e,t.x,t.width),i=th(r,t.y,t.height);return`${n} ${i}`}(m,void 0!==i?i:.5,void 0!==o?o:.5)),void 0!==e&&(f.x=e),void 0!==r&&(f.y=r),void 0!==n&&(f.scale=n),void 0!==s&&function(t,e,r=1,n=0,i=!0){t.pathLength=1;let o=i?tc:tp;t[o.offset]=X.transform(-n);let s=X.transform(e),a=X.transform(r);t[o.array]=`${s} ${a}`}(f,s,a,l,!1)}let td=()=>({...ti(),attrs:{}}),tm=t=>"string"==typeof t&&"svg"===t.toLowerCase();function tg(t,e,r,n){let i=(0,s.useMemo)(()=>{let r=td();return tf(r,e,{enableHardwareAcceleration:!1},tm(n),t.transformTemplate),{...r.attrs,style:{...r.style}}},[e]);if(t.style){let e={};to(e,t.style,t),i.style={...e,...i.style}}return i}let ty=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function tv(t,{style:e,vars:r},n,i){for(let o in Object.assign(t.style,e,i&&i.getProjectionStyles(n)),r)t.style.setProperty(o,r[o])}let tb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tw(t,e,r,n){for(let r in tv(t,e,void 0,n),e.attrs)t.setAttribute(tb.has(r)?r:ty(r),e.attrs[r])}function t_(t,e){let{style:r}=t,n={};for(let i in r)(M(r[i])||e.style&&M(e.style[i])||R(i,t))&&(n[i]=r[i]);return n}function tS(t,e){let r=t_(t,e);for(let n in t)if(M(t[n])||M(e[n])){let e=-1!==C.indexOf(n)?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[e]=t[n]}return r}function tE(t,e,r,n={},i={}){return"function"==typeof e&&(e=e(void 0!==r?r:t.custom,n,i)),"string"==typeof e&&(e=t.variants&&t.variants[e]),"function"==typeof e&&(e=e(void 0!==r?r:t.custom,n,i)),e}let tx=t=>Array.isArray(t),tk=t=>Boolean(t&&"object"==typeof t&&t.mix&&t.toValue),tA=t=>tx(t)?t[t.length-1]||0:t;function tP(t){let e=M(t)?t.get():t;return tk(e)?e.toValue():e}let tT=t=>(e,r)=>{let n=(0,s.useContext)(l),i=(0,s.useContext)(u),o=()=>(function({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},n,i,o){let s={latestValues:function(t,e,r,n){let i={},o=n(t,{});for(let t in o)i[t]=tP(o[t]);let{initial:s,animate:a}=t,l=v(t),u=b(t);e&&u&&!l&&!1!==t.inherit&&(void 0===s&&(s=e.initial),void 0===a&&(a=e.animate));let h=!!r&&!1===r.initial;h=h||!1===s;let c=h?a:s;if(c&&"boolean"!=typeof c&&!m(c)){let e=Array.isArray(c)?c:[c];e.forEach(e=>{let r=tE(t,e);if(!r)return;let{transitionEnd:n,transition:o,...s}=r;for(let t in s){let e=s[t];if(Array.isArray(e)){let t=h?e.length-1:0;e=e[t]}null!==e&&(i[t]=e)}for(let t in n)i[t]=n[t]})}return i}(n,i,o,t),renderState:e()};return r&&(s.mount=t=>r(n,t,s)),s})(t,e,n,i);return r?o():function(t){let e=(0,s.useRef)(null);return null===e.current&&(e.current=t()),e.current}(o)},tC=t=>t,tI=["prepare","read","update","preRender","render","postRender"],{schedule:tR,cancel:tM,state:tO,steps:tB}=function(t,e){let r=!1,n=!0,i={delta:0,timestamp:0,isProcessing:!1},o=tI.reduce((t,e)=>(t[e]=function(t){let e=[],r=[],n=0,i=!1,o=!1,s=new WeakSet,a={schedule:(t,o=!1,a=!1)=>{let l=a&&i,u=l?e:r;return o&&s.add(t),-1===u.indexOf(t)&&(u.push(t),l&&i&&(n=e.length)),t},cancel:t=>{let e=r.indexOf(t);-1!==e&&r.splice(e,1),s.delete(t)},process:l=>{if(i){o=!0;return}if(i=!0,[e,r]=[r,e],r.length=0,n=e.length)for(let r=0;r<n;r++){let n=e[r];n(l),s.has(n)&&(a.schedule(n),t())}i=!1,o&&(o=!1,a.process(l))}};return a}(()=>r=!0),t),{}),s=t=>o[t].process(i),a=()=>{let o=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(o-i.timestamp,40),1),i.timestamp=o,i.isProcessing=!0,tI.forEach(s),i.isProcessing=!1,r&&e&&(n=!1,t(a))},l=()=>{r=!0,n=!0,i.isProcessing||t(a)},u=tI.reduce((t,e)=>{let n=o[e];return t[e]=(t,e=!1,i=!1)=>(r||l(),n.schedule(t,e,i)),t},{}),h=t=>tI.forEach(e=>o[e].cancel(t));return{schedule:u,cancel:h,state:i,steps:o}}("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:tC,!0),tL={useVisualState:tT({scrapeMotionValuesFromProps:tS,createRenderState:td,onMount:(t,e,{renderState:r,latestValues:n})=>{tR.read(()=>{try{r.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(t){r.dimensions={x:0,y:0,width:0,height:0}}}),tR.render(()=>{tf(r,n,{enableHardwareAcceleration:!1},tm(e.tagName),t.transformTemplate),tw(e,r)})}})},tN={useVisualState:tT({scrapeMotionValuesFromProps:t_,createRenderState:ti})};function tj(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}let tU=t=>"mouse"===t.pointerType?"number"!=typeof t.button||t.button<=0:!1!==t.isPrimary;function tD(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}let tV=t=>e=>tU(e)&&t(e,tD(e));function tF(t,e,r,n){return tj(t,e,tV(r),n)}let tq=(t,e)=>r=>e(t(r)),tK=(...t)=>t.reduce(tq);function tW(t){let e=null;return()=>{let r=()=>{e=null};return null===e&&(e=t,r)}}let tH=tW("dragHorizontal"),t$=tW("dragVertical");function tz(t){let e=!1;if("y"===t)e=t$();else if("x"===t)e=tH();else{let t=tH(),r=t$();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function tQ(){let t=tz(!0);return!t||(t(),!1)}class tY{constructor(t){this.isMounted=!1,this.node=t}update(){}}function tG(t,e){let r="onHover"+(e?"Start":"End"),n=(n,i)=>{if("touch"===n.type||tQ())return;let o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",e),o[r]&&tR.update(()=>o[r](n,i))};return tF(t.current,"pointer"+(e?"enter":"leave"),n,{passive:!t.getProps()[r]})}let tX=(t,e)=>!!e&&(t===e||tX(t,e.parentElement));function tZ(t,e){if(!e)return;let r=new PointerEvent("pointer"+t);e(r,tD(r))}let tJ=new WeakMap,t0=new WeakMap,t1=t=>{let e=tJ.get(t.target);e&&e(t)},t2=t=>{t.forEach(t1)},t3={some:0,all:1};function t5(t,e){if(!Array.isArray(e))return!1;let r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function t6(t,e,r){let n=t.getProps();return tE(n,e,void 0!==r?r:n.custom,function(t){let e={};return t.values.forEach((t,r)=>e[r]=t.get()),e}(t),function(t){let e={};return t.values.forEach((t,r)=>e[r]=t.getVelocity()),e}(t))}let t4="data-"+ty("framerAppearId"),t8=t=>1e3*t,t9=t=>t/1e3,t7={current:!1},et=t=>Array.isArray(t)&&"number"==typeof t[0],ee=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,er={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ee([0,.65,.55,1]),circOut:ee([.55,0,1,.45]),backIn:ee([.31,.01,.66,-.59]),backOut:ee([.33,1.53,.69,.99])},en=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t;function ei(t,e,r,n){if(t===e&&r===n)return tC;let i=e=>(function(t,e,r,n,i){let o,s;let a=0;do(o=en(s=e+(r-e)/2,n,i)-t)>0?r=s:e=s;while(Math.abs(o)>1e-7&&++a<12);return s})(e,0,1,t,r);return t=>0===t||1===t?t:en(i(t),e,n)}let eo=ei(.42,0,1,1),es=ei(0,0,.58,1),ea=ei(.42,0,.58,1),el=t=>Array.isArray(t)&&"number"!=typeof t[0],eu=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,eh=t=>e=>1-t(1-e),ec=t=>1-Math.sin(Math.acos(t)),ep=eh(ec),ef=eu(ep),ed=ei(.33,1.53,.69,.99),em=eh(ed),eg=eu(em),ey=t=>(t*=2)<1?.5*em(t):.5*(2-Math.pow(2,-10*(t-1))),ev={linear:tC,easeIn:eo,easeInOut:ea,easeOut:es,circIn:ec,circInOut:ef,circOut:ep,backIn:em,backInOut:eg,backOut:ed,anticipate:ey},eb=t=>{if(Array.isArray(t)){tC(4===t.length,"Cubic bezier arrays must contain four numerical values.");let[e,r,n,i]=t;return ei(e,r,n,i)}return"string"==typeof t?(tC(void 0!==ev[t],`Invalid easing type '${t}'`),ev[t]):t},ew=(t,e)=>r=>Boolean(z(r)&&$.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),e_=(t,e,r)=>n=>{if(!z(n))return n;let[i,o,s,a]=n.match(W);return{[t]:parseFloat(i),[e]:parseFloat(o),[r]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},eS=t=>D(0,255,t),eE={...V,transform:t=>Math.round(eS(t))},ex={test:ew("rgb","red"),parse:e_("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+eE.transform(t)+", "+eE.transform(e)+", "+eE.transform(r)+", "+K(F.transform(n))+")"},ek={test:ew("#"),parse:function(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}},transform:ex.transform},eA={test:ew("hsl","hue"),parse:e_("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+G.transform(K(e))+", "+G.transform(K(r))+", "+K(F.transform(n))+")"},eP={test:t=>ex.test(t)||ek.test(t)||eA.test(t),parse:t=>ex.test(t)?ex.parse(t):eA.test(t)?eA.parse(t):ek.parse(t),transform:t=>z(t)?t:t.hasOwnProperty("red")?ex.transform(t):eA.transform(t)},eT=(t,e,r)=>-r*t+r*e+t;function eC(t,e,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?t+(e-t)*6*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}let eI=(t,e,r)=>{let n=t*t;return Math.sqrt(Math.max(0,r*(e*e-n)+n))},eR=[ek,ex,eA],eM=t=>eR.find(e=>e.test(t));function eO(t){let e=eM(t);tC(Boolean(e),`'${t}' is not an animatable color. Use the equivalent color code instead.`);let r=e.parse(t);return e===eA&&(r=function({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,r/=100;let i=0,o=0,s=0;if(e/=100){let n=r<.5?r*(1+e):r+e-r*e,a=2*r-n;i=eC(a,n,t+1/3),o=eC(a,n,t),s=eC(a,n,t-1/3)}else i=o=s=r;return{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*s),alpha:n}}(r)),r}let eB=(t,e)=>{let r=eO(t),n=eO(e),i={...r};return t=>(i.red=eI(r.red,n.red,t),i.green=eI(r.green,n.green,t),i.blue=eI(r.blue,n.blue,t),i.alpha=eT(r.alpha,n.alpha,t),ex.transform(i))},eL={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:tC},eN={regex:H,countKey:"Colors",token:"${c}",parse:eP.parse},ej={regex:W,countKey:"Numbers",token:"${n}",parse:V.parse};function eU(t,{regex:e,countKey:r,token:n,parse:i}){let o=t.tokenised.match(e);o&&(t["num"+r]=o.length,t.tokenised=t.tokenised.replace(e,n),t.values.push(...o.map(i)))}function eD(t){let e=t.toString(),r={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&eU(r,eL),eU(r,eN),eU(r,ej),r}function eV(t){return eD(t).values}function eF(t){let{values:e,numColors:r,numVars:n,tokenised:i}=eD(t),o=e.length;return t=>{let e=i;for(let i=0;i<o;i++)e=i<n?e.replace(eL.token,t[i]):i<n+r?e.replace(eN.token,eP.transform(t[i])):e.replace(ej.token,K(t[i]));return e}}let eq=t=>"number"==typeof t?0:t,eK={test:function(t){var e,r;return isNaN(t)&&z(t)&&((null===(e=t.match(W))||void 0===e?void 0:e.length)||0)+((null===(r=t.match(H))||void 0===r?void 0:r.length)||0)>0},parse:eV,createTransformer:eF,getAnimatableNone:function(t){let e=eV(t),r=eF(t);return r(e.map(eq))}},eW=(t,e)=>r=>`${r>0?e:t}`;function eH(t,e){return"number"==typeof t?r=>eT(t,e,r):eP.test(t)?eB(t,e):t.startsWith("var(")?eW(t,e):eQ(t,e)}let e$=(t,e)=>{let r=[...t],n=r.length,i=t.map((t,r)=>eH(t,e[r]));return t=>{for(let e=0;e<n;e++)r[e]=i[e](t);return r}},ez=(t,e)=>{let r={...t,...e},n={};for(let i in r)void 0!==t[i]&&void 0!==e[i]&&(n[i]=eH(t[i],e[i]));return t=>{for(let e in n)r[e]=n[e](t);return r}},eQ=(t,e)=>{let r=eK.createTransformer(e),n=eD(t),i=eD(e),o=n.numVars===i.numVars&&n.numColors===i.numColors&&n.numNumbers>=i.numNumbers;return o?tK(e$(n.values,i.values),r):(tC(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),eW(t,e))},eY=(t,e,r)=>{let n=e-t;return 0===n?1:(r-t)/n},eG=(t,e)=>r=>eT(t,e,r);function eX(t,e,{clamp:r=!0,ease:n,mixer:i}={}){let o=t.length;if(tC(o===e.length,"Both input and output ranges must be the same length"),1===o)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());let s=function(t,e,r){let n=[],i=r||function(t){if("number"==typeof t);else if("string"==typeof t)return eP.test(t)?eB:eQ;else if(Array.isArray(t))return e$;else if("object"==typeof t)return ez;return eG}(t[0]),o=t.length-1;for(let r=0;r<o;r++){let o=i(t[r],t[r+1]);if(e){let t=Array.isArray(e)?e[r]||tC:e;o=tK(t,o)}n.push(o)}return n}(e,n,i),a=s.length,l=e=>{let r=0;if(a>1)for(;r<t.length-2&&!(e<t[r+1]);r++);let n=eY(t[r],t[r+1],e);return s[r](n)};return r?e=>l(D(t[0],t[o-1],e)):l}function eZ({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){let i=el(n)?n.map(eb):eb(n),o={done:!1,value:e[0]},s=(r&&r.length===e.length?r:function(t){let e=[0];return function(t,e){let r=t[t.length-1];for(let n=1;n<=e;n++){let i=eY(0,e,n);t.push(eT(r,1,i))}}(e,t.length-1),e}(e)).map(e=>e*t),a=eX(s,e,{ease:Array.isArray(i)?i:e.map(()=>i||ea).splice(0,e.length-1)});return{calculatedDuration:t,next:e=>(o.value=a(e),o.done=e>=t,o)}}function eJ(t,e,r){var n,i;let o=Math.max(e-5,0);return n=r-t(o),(i=e-o)?n*(1e3/i):0}function e0(t,e){return t*Math.sqrt(1-e*e)}let e1=["duration","bounce"],e2=["stiffness","damping","mass"];function e3(t,e){return e.some(e=>void 0!==t[e])}function e5({keyframes:t,restDelta:e,restSpeed:r,...n}){let i;let o=t[0],s=t[t.length-1],a={done:!1,value:o},{stiffness:l,damping:u,mass:h,velocity:c,duration:p,isResolvedFromDuration:f}=function(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!e3(t,e2)&&e3(t,e1)){let r=function({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let i,o;tC(t<=t8(10),"Spring duration must be 10 seconds or less");let s=1-e;s=D(.05,1,s),t=D(.01,10,t9(t)),s<1?(i=e=>{let n=e*s,i=n*t,o=e0(e,s);return .001-(n-r)/o*Math.exp(-i)},o=e=>{let n=e*s,o=n*t,a=Math.pow(s,2)*Math.pow(e,2)*t,l=e0(Math.pow(e,2),s),u=-i(e)+.001>0?-1:1;return u*((o*r+r-a)*Math.exp(-o))/l}):(i=e=>{let n=Math.exp(-e*t),i=(e-r)*t+1;return -.001+n*i},o=e=>{let n=Math.exp(-e*t),i=(r-e)*(t*t);return n*i});let a=5/t,l=function(t,e,r){let n=r;for(let r=1;r<12;r++)n-=t(n)/e(n);return n}(i,o,a);if(t=t8(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{let e=Math.pow(l,2)*n;return{stiffness:e,damping:2*s*Math.sqrt(n*e),duration:t}}}(t);(e={...e,...r,velocity:0,mass:1}).isResolvedFromDuration=!0}return e}(n),d=c?-t9(c):0,m=u/(2*Math.sqrt(l*h)),g=s-o,y=t9(Math.sqrt(l/h)),v=5>Math.abs(g);if(r||(r=v?.01:2),e||(e=v?.005:.5),m<1){let t=e0(y,m);i=e=>s-Math.exp(-m*y*e)*((d+m*y*g)/t*Math.sin(t*e)+g*Math.cos(t*e))}else if(1===m)i=t=>s-Math.exp(-y*t)*(g+(d+y*g)*t);else{let t=y*Math.sqrt(m*m-1);i=e=>{let r=Math.min(t*e,300);return s-Math.exp(-m*y*e)*((d+m*y*g)*Math.sinh(r)+t*g*Math.cosh(r))/t}}return{calculatedDuration:f&&p||null,next:t=>{let n=i(t);if(f)a.done=t>=p;else{let o=d;0!==t&&(o=m<1?eJ(i,t,n):0);let l=Math.abs(o)<=r,u=Math.abs(s-n)<=e;a.done=l&&u}return a.value=a.done?s:n,a}}}function e6({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:h}){let c,p;let f=t[0],d={done:!1,value:f},m=t=>void 0!==a&&t<a||void 0!==l&&t>l,g=t=>void 0===a?l:void 0===l?a:Math.abs(a-t)<Math.abs(l-t)?a:l,y=r*e,v=f+y,b=void 0===s?v:s(v);b!==v&&(y=b-f);let w=t=>-y*Math.exp(-t/n),_=t=>b+w(t),S=t=>{let e=w(t),r=_(t);d.done=Math.abs(e)<=u,d.value=d.done?b:r},E=t=>{m(d.value)&&(c=t,p=e5({keyframes:[d.value,g(d.value)],velocity:eJ(_,t,d.value),damping:i,stiffness:o,restDelta:u,restSpeed:h}))};return E(0),{calculatedDuration:null,next:t=>{let e=!1;return(p||void 0!==c||(e=!0,S(t),E(t)),void 0!==c&&t>c)?p.next(t-c):(e||S(t),d)}}}let e4=t=>{let e=({timestamp:e})=>t(e);return{start:()=>tR.update(e,!0),stop:()=>tM(e),now:()=>tO.isProcessing?tO.timestamp:performance.now()}};function e8(t){let e=0,r=t.next(e);for(;!r.done&&e<2e4;)e+=50,r=t.next(e);return e>=2e4?1/0:e}let e9={decay:e6,inertia:e6,tween:eZ,keyframes:eZ,spring:e5};function e7({autoplay:t=!0,delay:e=0,driver:r=e4,keyframes:n,type:i="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:h,onUpdate:c,...p}){let f,d,m,g,y,v=1,b=!1,w=()=>{d=new Promise(t=>{f=t})};w();let _=e9[i]||eZ;_!==eZ&&"number"!=typeof n[0]&&(g=eX([0,100],n,{clamp:!1}),n=[0,100]);let S=_({...p,keyframes:n});"mirror"===a&&(y=_({...p,keyframes:[...n].reverse(),velocity:-(p.velocity||0)}));let E="idle",x=null,k=null,A=null;null===S.calculatedDuration&&o&&(S.calculatedDuration=e8(S));let{calculatedDuration:P}=S,T=1/0,C=1/0;null!==P&&(C=(T=P+s)*(o+1)-s);let I=0,R=t=>{if(null===k)return;v>0&&(k=Math.min(k,t)),v<0&&(k=Math.min(t-C/v,k)),I=null!==x?x:Math.round(t-k)*v;let r=I-e*(v>=0?1:-1),i=v>=0?r<0:r>C;I=Math.max(r,0),"finished"===E&&null===x&&(I=C);let l=I,u=S;if(o){let t=I/T,e=Math.floor(t),r=t%1;!r&&t>=1&&(r=1),1===r&&e--,e=Math.min(e,o+1);let n=Boolean(e%2);n&&("reverse"===a?(r=1-r,s&&(r-=s/T)):"mirror"===a&&(u=y));let i=D(0,1,r);I>C&&(i="reverse"===a&&n?1:0),l=i*T}let h=i?{done:!1,value:n[0]}:u.next(l);g&&(h.value=g(h.value));let{done:p}=h;i||null===P||(p=v>=0?I>=C:I<=0);let f=null===x&&("finished"===E||"running"===E&&p);return c&&c(h.value),f&&B(),h},M=()=>{m&&m.stop(),m=void 0},O=()=>{E="idle",M(),f(),w(),k=A=null},B=()=>{E="finished",h&&h(),M(),f()},L=()=>{if(b)return;m||(m=r(R));let t=m.now();l&&l(),null!==x?k=t-x:k&&"finished"!==E||(k=t),"finished"===E&&w(),A=k,x=null,E="running",m.start()};t&&L();let N={then:(t,e)=>d.then(t,e),get time(){return t9(I)},set time(newTime){I=newTime=t8(newTime),null===x&&m&&0!==v?k=m.now()-newTime/v:x=newTime},get duration(){let t=null===S.calculatedDuration?e8(S):S.calculatedDuration;return t9(t)},get speed(){return v},set speed(newSpeed){if(newSpeed===v||!m)return;v=newSpeed,N.time=t9(I)},get state(){return E},play:L,pause:()=>{E="paused",x=I},stop:()=>{b=!0,"idle"!==E&&(E="idle",u&&u(),O())},cancel:()=>{null!==A&&R(A),O()},complete:()=>{E="finished"},sample:t=>(k=0,R(t))};return N}let rt=(o=()=>Object.hasOwnProperty.call(Element.prototype,"animate"),()=>(void 0===n&&(n=o()),n)),re=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),rr=(t,e)=>"spring"===e.type||"backgroundColor"===t||!function t(e){return Boolean(!e||"string"==typeof e&&er[e]||et(e)||Array.isArray(e)&&e.every(t))}(e.ease),rn={type:"spring",stiffness:500,damping:25,restSpeed:10},ri=t=>({type:"spring",stiffness:550,damping:0===t?2*Math.sqrt(550):30,restSpeed:10}),ro={type:"keyframes",duration:.8},rs={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ra=(t,{keyframes:e})=>e.length>2?ro:I.has(t)?t.startsWith("scale")?ri(e[1]):rn:rs,rl=(t,e)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(eK.test(e)||"0"===e)&&!e.startsWith("url(")),ru=new Set(["brightness","contrast","saturate","opacity"]);function rh(t){let[e,r]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;let[n]=r.match(W)||[];if(!n)return t;let i=r.replace(n,""),o=ru.has(e)?1:0;return n!==r&&(o*=100),e+"("+o+i+")"}let rc=/([a-z-]*)\(.*?\)/g,rp={...eK,getAnimatableNone:t=>{let e=t.match(rc);return e?e.map(rh).join(" "):t}},rf={...tr,color:eP,backgroundColor:eP,outlineColor:eP,fill:eP,stroke:eP,borderColor:eP,borderTopColor:eP,borderRightColor:eP,borderBottomColor:eP,borderLeftColor:eP,filter:rp,WebkitFilter:rp},rd=t=>rf[t];function rm(t,e){let r=rd(t);return r!==rp&&(r=eK),r.getAnimatableNone?r.getAnimatableNone(e):void 0}let rg=t=>/^0[^.\s]+$/.test(t);function ry(t,e){return t[e]||t.default||t}let rv=(t,e,r,n={})=>i=>{let o=ry(n,t)||{},s=o.delay||n.delay||0,{elapsed:a=0}=n;a-=t8(s);let l=function(t,e,r,n){let i,o;let s=rl(e,r);i=Array.isArray(r)?[...r]:[null,r];let a=void 0!==n.from?n.from:t.get(),l=[];for(let t=0;t<i.length;t++){var u;null===i[t]&&(i[t]=0===t?a:i[t-1]),("number"==typeof(u=i[t])?0===u:null!==u?"none"===u||"0"===u||rg(u):void 0)&&l.push(t),"string"==typeof i[t]&&"none"!==i[t]&&"0"!==i[t]&&(o=i[t])}if(s&&l.length&&o)for(let t=0;t<l.length;t++){let r=l[t];i[r]=rm(e,o)}return i}(e,t,r,o),u=l[0],h=l[l.length-1],c=rl(t,u),p=rl(t,h);tC(c===p,`You are trying to animate ${t} from "${u}" to "${h}". ${u} is not an animatable value - to enable this animation set ${u} to a value animatable to ${h} via the \`style\` property.`);let f={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-a,onUpdate:t=>{e.set(t),o.onUpdate&&o.onUpdate(t)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(!function({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:u,...h}){return!!Object.keys(h).length}(o)&&(f={...f,...ra(t,f)}),f.duration&&(f.duration=t8(f.duration)),f.repeatDelay&&(f.repeatDelay=t8(f.repeatDelay)),!c||!p||t7.current||!1===o.type)return function({keyframes:t,delay:e,onUpdate:r,onComplete:n}){let i=()=>(r&&r(t[t.length-1]),n&&n(),{time:0,speed:1,duration:0,play:tC,pause:tC,stop:tC,then:t=>(t(),Promise.resolve()),cancel:tC,complete:tC});return e?e7({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}(t7.current?{...f,delay:0}:f);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){let r=function(t,e,{onUpdate:r,onComplete:n,...i}){let o,s;let a=rt()&&re.has(e)&&!i.repeatDelay&&"mirror"!==i.repeatType&&0!==i.damping&&"inertia"!==i.type;if(!a)return!1;let l=!1,u=()=>{s=new Promise(t=>{o=t})};u();let{keyframes:h,duration:c=300,ease:p,times:f}=i;if(rr(e,i)){let t=e7({...i,repeat:0,delay:0}),e={done:!1,value:h[0]},r=[],n=0;for(;!e.done&&n<2e4;)r.push((e=t.sample(n)).value),n+=10;f=void 0,h=r,c=n-10,p="linear"}let d=function(t,e,r,{delay:n=0,duration:i,repeat:o=0,repeatType:s="loop",ease:a,times:l}={}){let u={[e]:r};l&&(u.offset=l);let h=function t(e){if(e)return et(e)?ee(e):Array.isArray(e)?e.map(t):er[e]}(a);return Array.isArray(h)&&(u.easing=h),t.animate(u,{delay:n,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:"reverse"===s?"alternate":"normal"})}(t.owner.current,e,h,{...i,duration:c,ease:p,times:f}),m=()=>d.cancel(),g=()=>{tR.update(m),o(),u()};d.onfinish=()=>{t.set(function(t,{repeat:e,repeatType:r="loop"}){let n=e&&"loop"!==r&&e%2==1?0:t.length-1;return t[n]}(h,i)),n&&n(),g()};let y={then:(t,e)=>s.then(t,e),attachTimeline:t=>(d.timeline=t,d.onfinish=null,tC),get time(){return t9(d.currentTime||0)},set time(newTime){d.currentTime=t8(newTime)},get speed(){return d.playbackRate},set speed(newSpeed){d.playbackRate=newSpeed},get duration(){return t9(c)},play:()=>{l||(d.play(),tM(m))},pause:()=>d.pause(),stop:()=>{if(l=!0,"idle"===d.playState)return;let{currentTime:e}=d;if(e){let r=e7({...i,autoplay:!1});t.setWithVelocity(r.sample(e-10).value,r.sample(e).value,10)}g()},complete:()=>d.finish(),cancel:g};return y}(e,t,f);if(r)return r}return e7(f)};function rb(t){return Boolean(M(t)&&t.add)}let rw=t=>/^\-?\d*\.?\d+$/.test(t);function r_(t,e){-1===t.indexOf(e)&&t.push(e)}function rS(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}class rE{constructor(){this.subscriptions=[]}add(t){return r_(this.subscriptions,t),()=>rS(this.subscriptions,t)}notify(t,e,r){let n=this.subscriptions.length;if(n){if(1===n)this.subscriptions[0](t,e,r);else for(let i=0;i<n;i++){let n=this.subscriptions[i];n&&n(t,e,r)}}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}let rx=t=>!isNaN(parseFloat(t)),rk={current:void 0};class rA{constructor(t,e={}){this.version="10.16.1",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(t,e=!0)=>{this.prev=this.current,this.current=t;let{delta:r,timestamp:n}=tO;this.lastUpdated!==n&&(this.timeDelta=r,this.lastUpdated=n,tR.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),e&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>tR.postRender(this.velocityCheck),this.velocityCheck=({timestamp:t})=>{t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=rx(this.current),this.owner=e.owner}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new rE);let r=this.events[t].add(e);return"change"===t?()=>{r(),tR.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(let t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)}setWithVelocity(t,e,r){this.set(e),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return rk.current&&rk.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var t,e;return this.canTrackVelocity?(t=parseFloat(this.current)-parseFloat(this.prev),(e=this.timeDelta)?t*(1e3/e):0):0}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rP(t,e){return new rA(t,e)}let rT=t=>e=>e.test(t),rC=[V,X,G,Y,J,Z,{test:t=>"auto"===t,parse:t=>t}],rI=t=>rC.find(rT(t)),rR=[...rC,eP,eK],rM=t=>rR.find(rT(t));function rO(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:s,...a}=t.makeTargetAnimatable(e),l=t.getValue("willChange");n&&(o=n);let u=[],h=i&&t.animationState&&t.animationState.getState()[i];for(let e in a){let n=t.getValue(e),i=a[e];if(!n||void 0===i||h&&function({protectedKeys:t,needsAnimating:e},r){let n=t.hasOwnProperty(r)&&!0!==e[r];return e[r]=!1,n}(h,e))continue;let s={delay:r,elapsed:0,...o};if(window.HandoffAppearAnimations&&!n.hasAnimated){let r=t.getProps()[t4];r&&(s.elapsed=window.HandoffAppearAnimations(r,e,n,tR))}n.start(rv(e,n,i,t.shouldReduceMotion&&I.has(e)?{type:!1}:s));let c=n.animation;rb(l)&&(l.add(e),c.then(()=>l.remove(e))),u.push(c)}return s&&Promise.all(u).then(()=>{s&&function(t,e){let r=t6(t,e),{transitionEnd:n={},transition:i={},...o}=r?t.makeTargetAnimatable(r,!1):{};for(let e in o={...o,...n}){var s;let r=tA(o[e]);s=e,t.hasValue(s)?t.getValue(s).set(r):t.addValue(s,rP(r))}}(t,s)}),u}function rB(t,e,r={}){let n=t6(t,e,r.custom),{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);let o=n?()=>Promise.all(rO(t,n,r)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(n=0)=>{let{delayChildren:o=0,staggerChildren:s,staggerDirection:a}=i;return function(t,e,r=0,n=0,i=1,o){let s=[],a=(t.variantChildren.size-1)*n,l=1===i?(t=0)=>t*n:(t=0)=>a-t*n;return Array.from(t.variantChildren).sort(rL).forEach((t,n)=>{t.notify("AnimationStart",e),s.push(rB(t,e,{...o,delay:r+l(n)}).then(()=>t.notify("AnimationComplete",e)))}),Promise.all(s)}(t,e,o+n,s,a,r)}:()=>Promise.resolve(),{when:a}=i;if(!a)return Promise.all([o(),s(r.delay)]);{let[t,e]="beforeChildren"===a?[o,s]:[s,o];return t().then(()=>e())}}function rL(t,e){return t.sortNodePosition(e)}let rN=[...g].reverse(),rj=g.length;function rU(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let rD=0,rV=(t,e)=>Math.abs(t-e);class rF{constructor(t,e,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let t=rW(this.lastMoveEventInfo,this.history),e=null!==this.startEvent,r=function(t,e){let r=rV(t.x,e.x),n=rV(t.y,e.y);return Math.sqrt(r**2+n**2)}(t.offset,{x:0,y:0})>=3;if(!e&&!r)return;let{point:n}=t,{timestamp:i}=tO;this.history.push({...n,timestamp:i});let{onStart:o,onMove:s}=this.handlers;e||(o&&o(this.lastMoveEvent,t),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,t)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=rq(e,this.transformPagePoint),tR.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let{onEnd:r,onSessionEnd:n}=this.handlers,i=rW("pointercancel"===t.type?this.lastMoveEventInfo:rq(e,this.transformPagePoint),this.history);this.startEvent&&r&&r(t,i),n&&n(t,i)},!tU(t))return;this.handlers=e,this.transformPagePoint=r;let n=tD(t),i=rq(n,this.transformPagePoint),{point:o}=i,{timestamp:s}=tO;this.history=[{...o,timestamp:s}];let{onSessionStart:a}=e;a&&a(t,rW(i,this.history)),this.removeListeners=tK(tF(window,"pointermove",this.handlePointerMove),tF(window,"pointerup",this.handlePointerUp),tF(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),tM(this.updatePoint)}}function rq(t,e){return e?{point:e(t.point)}:t}function rK(t,e){return{x:t.x-e.x,y:t.y-e.y}}function rW({point:t},e){return{point:t,delta:rK(t,rH(e)),offset:rK(t,e[0]),velocity:function(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null,i=rH(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>t8(.1)));)r--;if(!n)return{x:0,y:0};let o=t9(i.timestamp-n.timestamp);if(0===o)return{x:0,y:0};let s={x:(i.x-n.x)/o,y:(i.y-n.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}(e,0)}}function rH(t){return t[t.length-1]}function r$(t){return t.max-t.min}function rz(t,e=0,r=.01){return Math.abs(t-e)<=r}function rQ(t,e,r,n=.5){t.origin=n,t.originPoint=eT(e.min,e.max,t.origin),t.scale=r$(r)/r$(e),(rz(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=eT(r.min,r.max,t.origin)-t.originPoint,(rz(t.translate)||isNaN(t.translate))&&(t.translate=0)}function rY(t,e,r,n){rQ(t.x,e.x,r.x,n?n.originX:void 0),rQ(t.y,e.y,r.y,n?n.originY:void 0)}function rG(t,e,r){t.min=r.min+e.min,t.max=t.min+r$(e)}function rX(t,e,r){t.min=e.min-r.min,t.max=t.min+r$(e)}function rZ(t,e,r){rX(t.x,e.x,r.x),rX(t.y,e.y,r.y)}function rJ(t,e,r){return{min:void 0!==e?t.min+e:void 0,max:void 0!==r?t.max+r-(t.max-t.min):void 0}}function r0(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function r1(t,e,r){return{min:r2(t,e),max:r2(t,r)}}function r2(t,e){return"number"==typeof t?t:t[e]||0}let r3=()=>({translate:0,scale:1,origin:0,originPoint:0}),r5=()=>({x:r3(),y:r3()}),r6=()=>({min:0,max:0}),r4=()=>({x:r6(),y:r6()});function r8(t){return[t("x"),t("y")]}function r9({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function r7(t){return void 0===t||1===t}function nt({scale:t,scaleX:e,scaleY:r}){return!r7(t)||!r7(e)||!r7(r)}function ne(t){return nt(t)||nr(t)||t.z||t.rotate||t.rotateX||t.rotateY}function nr(t){var e,r;return(e=t.x)&&"0%"!==e||(r=t.y)&&"0%"!==r}function nn(t,e,r,n,i){return void 0!==i&&(t=n+i*(t-n)),n+r*(t-n)+e}function ni(t,e=0,r=1,n,i){t.min=nn(t.min,e,r,n,i),t.max=nn(t.max,e,r,n,i)}function no(t,{x:e,y:r}){ni(t.x,e.translate,e.scale,e.originPoint),ni(t.y,r.translate,r.scale,r.originPoint)}function ns(t){return Number.isInteger(t)?t:t>1.0000000000001||t<.999999999999?t:1}function na(t,e){t.min=t.min+e,t.max=t.max+e}function nl(t,e,[r,n,i]){let o=void 0!==e[i]?e[i]:.5,s=eT(t.min,t.max,o);ni(t,e[r],e[n],s,e.scale)}let nu=["x","scaleX","originX"],nh=["y","scaleY","originY"];function nc(t,e){nl(t.x,e,nu),nl(t.y,e,nh)}function np(t,e){return r9(function(t,e){if(!e)return t;let r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}(t.getBoundingClientRect(),e))}let nf=new WeakMap;class nd{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=r4(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){let{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;let n=t=>{this.stopAnimation(),e&&this.snapToCursor(tD(t,"page").point)},i=(t,e)=>{let{drag:r,dragPropagation:n,onDragStart:i}=this.getProps();if(r&&!n&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=tz(r),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),r8(t=>{let e=this.getAxisMotionValue(t).get()||0;if(G.test(e)){let{projection:r}=this.visualElement;if(r&&r.layout){let n=r.layout.layoutBox[t];if(n){let t=r$(n);e=t*(parseFloat(e)/100)}}}this.originPoint[t]=e}),i&&tR.update(()=>i(t,e),!1,!0);let{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},o=(t,e)=>{let{dragPropagation:r,dragDirectionLock:n,onDirectionLock:i,onDrag:o}=this.getProps();if(!r&&!this.openGlobalLock)return;let{offset:s}=e;if(n&&null===this.currentDirection){this.currentDirection=function(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}(s),null!==this.currentDirection&&i&&i(this.currentDirection);return}this.updateAxis("x",e.point,s),this.updateAxis("y",e.point,s),this.visualElement.render(),o&&o(t,e)},s=(t,e)=>this.stop(t,e);this.panSession=new rF(t,{onSessionStart:n,onStart:i,onMove:o,onSessionEnd:s},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,e){let r=this.isDragging;if(this.cancel(),!r)return;let{velocity:n}=e;this.startAnimation(n);let{onDragEnd:i}=this.getProps();i&&tR.update(()=>i(t,e))}cancel(){this.isDragging=!1;let{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,r){let{drag:n}=this.getProps();if(!r||!nm(t,n,this.currentDirection))return;let i=this.getAxisMotionValue(t),o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=function(t,{min:e,max:r},n){return void 0!==e&&t<e?t=n?eT(e,t,n.min):Math.max(t,e):void 0!==r&&t>r&&(t=n?eT(r,t,n.max):Math.min(t,r)),t}(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){let{dragConstraints:t,dragElastic:e}=this.getProps(),{layout:r}=this.visualElement.projection||{},n=this.constraints;t&&f(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=function(t,{top:e,left:r,bottom:n,right:i}){return{x:rJ(t.x,r,i),y:rJ(t.y,e,n)}}(r.layoutBox,t):this.constraints=!1,this.elastic=function(t=.35){return!1===t?t=0:!0===t&&(t=.35),{x:r1(t,"left","right"),y:r1(t,"top","bottom")}}(e),n!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&r8(t=>{this.getAxisMotionValue(t)&&(this.constraints[t]=function(t,e){let r={};return void 0!==e.min&&(r.min=e.min-t.min),void 0!==e.max&&(r.max=e.max-t.min),r}(r.layoutBox[t],this.constraints[t]))})}resolveRefConstraints(){var t;let{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!f(e))return!1;let n=e.current;tC(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:i}=this.visualElement;if(!i||!i.layout)return!1;let o=function(t,e,r){let n=np(t,r),{scroll:i}=e;return i&&(na(n.x,i.offset.x),na(n.y,i.offset.y)),n}(n,i.root,this.visualElement.getTransformPagePoint()),s={x:r0((t=i.layout.layoutBox).x,o.x),y:r0(t.y,o.y)};if(r){let t=r(function({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}(s));this.hasMutatedConstraints=!!t,t&&(s=r9(t))}return s}startAnimation(t){let{drag:e,dragMomentum:r,dragElastic:n,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),a=this.constraints||{},l=r8(s=>{if(!nm(s,e,this.currentDirection))return;let l=a&&a[s]||{};o&&(l={min:0,max:0});let u={type:"inertia",velocity:r?t[s]:0,bounceStiffness:n?200:1e6,bounceDamping:n?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(s,u)});return Promise.all(l).then(s)}startAxisValueAnimation(t,e){let r=this.getAxisMotionValue(t);return r.start(rv(t,r,0,e))}stopAnimation(){r8(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){let e="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),n=r[e];return n||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){r8(e=>{let{drag:r}=this.getProps();if(!nm(e,r,this.currentDirection))return;let{projection:n}=this.visualElement,i=this.getAxisMotionValue(e);if(n&&n.layout){let{min:r,max:o}=n.layout.layoutBox[e];i.set(t[e]-eT(r,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:t,dragConstraints:e}=this.getProps(),{projection:r}=this.visualElement;if(!f(e)||!r||!this.constraints)return;this.stopAnimation();let n={x:0,y:0};r8(t=>{let e=this.getAxisMotionValue(t);if(e){let r=e.get();n[t]=function(t,e){let r=.5,n=r$(t),i=r$(e);return i>n?r=eY(e.min,e.max-n,t.min):n>i&&(r=eY(t.min,t.max-i,e.min)),D(0,1,r)}({min:r,max:r},this.constraints[t])}});let{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),r8(e=>{if(!nm(e,t,null))return;let r=this.getAxisMotionValue(e),{min:i,max:o}=this.constraints[e];r.set(eT(i,o,n[e]))})}addListeners(){if(!this.visualElement.current)return;nf.set(this.visualElement,this);let t=this.visualElement.current,e=tF(t,"pointerdown",t=>{let{drag:e,dragListener:r=!0}=this.getProps();e&&r&&this.start(t)}),r=()=>{let{dragConstraints:t}=this.getProps();f(t)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",r);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),r();let o=tj(window,"resize",()=>this.scalePositionWithinConstraints()),s=n.addEventListener("didUpdate",({delta:t,hasLayoutChanged:e})=>{this.isDragging&&e&&(r8(e=>{let r=this.getAxisMotionValue(e);r&&(this.originPoint[e]+=t[e].translate,r.set(r.get()+t[e].translate))}),this.visualElement.render())});return()=>{o(),e(),i(),s&&s()}}getProps(){let t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:o=.35,dragMomentum:s=!0}=t;return{...t,drag:e,dragDirectionLock:r,dragPropagation:n,dragConstraints:i,dragElastic:o,dragMomentum:s}}}function nm(t,e,r){return(!0===e||e===t)&&(null===r||r===t)}let ng=t=>(e,r)=>{t&&tR.update(()=>t(e,r))},ny={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}let nb={correct:(t,e)=>{if(!e.target)return t;if("string"==typeof t){if(!X.test(t))return t;t=parseFloat(t)}let r=nv(t,e.target.x),n=nv(t,e.target.y);return`${r}% ${n}%`}};class nw extends s.Component{componentDidMount(){let{visualElement:t,layoutGroup:e,switchLayoutGroup:r,layoutId:n}=this.props,{projection:i}=t;Object.assign(T,nS),i&&(e.group&&e.group.add(i),r&&r.register&&n&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ny.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){let{layoutDependency:e,visualElement:r,drag:n,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,n||t.layoutDependency!==e||void 0===e?o.willUpdate():this.safeToRemove(),t.isPresent===i||(i?o.promote():o.relegate()||tR.postRender(()=>{let t=o.getStack();t&&t.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:t,layoutGroup:e,switchLayoutGroup:r}=this.props,{projection:n}=t;n&&(n.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){let{safeToRemove:t}=this.props;t&&t()}render(){return null}}function n_(t){let[e,r]=function(){let t=(0,s.useContext)(u);if(null===t)return[!0,null];let{isPresent:e,onExitComplete:r,register:n}=t,i=(0,s.useId)();(0,s.useEffect)(()=>n(i),[]);let o=()=>r&&r(i);return!e&&r?[!1,o]:[!0]}(),n=(0,s.useContext)(E);return s.createElement(nw,{...t,layoutGroup:n,switchLayoutGroup:(0,s.useContext)(x),isPresent:e,safeToRemove:r})}let nS={borderRadius:{...nb,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nb,borderTopRightRadius:nb,borderBottomLeftRadius:nb,borderBottomRightRadius:nb,boxShadow:{correct:(t,{treeScale:e,projectionDelta:r})=>{let n=eK.parse(t);if(n.length>5)return t;let i=eK.createTransformer(t),o="number"!=typeof n[0]?1:0,s=r.x.scale*e.x,a=r.y.scale*e.y;n[0+o]/=s,n[1+o]/=a;let l=eT(s,a,.5);return"number"==typeof n[2+o]&&(n[2+o]/=l),"number"==typeof n[3+o]&&(n[3+o]/=l),i(n)}}},nE=["TopLeft","TopRight","BottomLeft","BottomRight"],nx=nE.length,nk=t=>"string"==typeof t?parseFloat(t):t,nA=t=>"number"==typeof t||X.test(t);function nP(t,e){return void 0!==t[e]?t[e]:t.borderRadius}let nT=nI(0,.5,ep),nC=nI(.5,.95,tC);function nI(t,e,r){return n=>n<t?0:n>e?1:r(eY(t,e,n))}function nR(t,e){t.min=e.min,t.max=e.max}function nM(t,e){nR(t.x,e.x),nR(t.y,e.y)}function nO(t,e,r,n,i){return t-=e,t=n+1/r*(t-n),void 0!==i&&(t=n+1/i*(t-n)),t}function nB(t,e,[r,n,i],o,s){!function(t,e=0,r=1,n=.5,i,o=t,s=t){if(G.test(e)){e=parseFloat(e);let t=eT(s.min,s.max,e/100);e=t-s.min}if("number"!=typeof e)return;let a=eT(o.min,o.max,n);t===o&&(a-=e),t.min=nO(t.min,e,r,a,i),t.max=nO(t.max,e,r,a,i)}(t,e[r],e[n],e[i],e.scale,o,s)}let nL=["x","scaleX","originX"],nN=["y","scaleY","originY"];function nj(t,e,r,n){nB(t.x,e,nL,r?r.x:void 0,n?n.x:void 0),nB(t.y,e,nN,r?r.y:void 0,n?n.y:void 0)}function nU(t){return 0===t.translate&&1===t.scale}function nD(t){return nU(t.x)&&nU(t.y)}function nV(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function nF(t){return r$(t.x)/r$(t.y)}class nq{constructor(){this.members=[]}add(t){r_(this.members,t),t.scheduleRender()}remove(t){if(rS(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){let t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){let e;let r=this.members.findIndex(e=>t===e);if(0===r)return!1;for(let t=r;t>=0;t--){let r=this.members[t];if(!1!==r.isPresent){e=r;break}}return!!e&&(this.promote(e),!0)}promote(t,e){let r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,e&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);let{crossfade:n}=t.options;!1===n&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{let{options:e,resumingFrom:r}=t;e.onExitComplete&&e.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nK(t,e,r){let n="",i=t.x.translate/e.x,o=t.y.translate/e.y;if((i||o)&&(n=`translate3d(${i}px, ${o}px, 0) `),(1!==e.x||1!==e.y)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){let{rotate:t,rotateX:e,rotateY:i}=r;t&&(n+=`rotate(${t}deg) `),e&&(n+=`rotateX(${e}deg) `),i&&(n+=`rotateY(${i}deg) `)}let s=t.x.scale*e.x,a=t.y.scale*e.y;return(1!==s||1!==a)&&(n+=`scale(${s}, ${a})`),n||"none"}let nW=(t,e)=>t.depth-e.depth;class nH{constructor(){this.children=[],this.isDirty=!1}add(t){r_(this.children,t),this.isDirty=!0}remove(t){rS(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(nW),this.isDirty=!1,this.children.forEach(t)}}let n$=["","X","Y","Z"],nz=0,nQ={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function nY({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(t={},r=null==e?void 0:e()){this.id=nz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{nQ.totalNodes=nQ.resolvedTargetDeltas=nQ.recalculatedProjection=0,this.nodes.forEach(nZ),this.nodes.forEach(n6),this.nodes.forEach(n4),this.nodes.forEach(nJ),window.MotionDebug&&window.MotionDebug.record(nQ)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=t,this.root=r?r.root||r:this,this.path=r?[...r.path,r]:[],this.parent=r,this.depth=r?r.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new nH)}addEventListener(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new rE),this.eventHandlers.get(t).add(e)}notifyListeners(t,...e){let r=this.eventHandlers.get(t);r&&r.notify(...e)}hasListeners(t){return this.eventHandlers.has(t)}mount(e,r=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;let{layoutId:n,layout:i,visualElement:o}=this.options;if(o&&!o.current&&o.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),r&&(i||n)&&(this.isLayoutDirty=!0),t){let r;let n=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,r&&r(),r=function(t,e){let r=performance.now(),n=({timestamp:i})=>{let o=i-r;o>=e&&(tM(n),t(o-e))};return tR.read(n,!0),()=>tM(n)}(n,250),ny.hasAnimatedSinceResize&&(ny.hasAnimatedSinceResize=!1,this.nodes.forEach(n5))})}n&&this.root.registerSharedNode(n,this),!1!==this.options.animate&&o&&(n||i)&&this.addEventListener("didUpdate",({delta:t,hasLayoutChanged:e,hasRelativeTargetChanged:r,layout:n})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let i=this.options.transition||o.getDefaultTransition()||ir,{onLayoutAnimationStart:s,onLayoutAnimationComplete:a}=o.getProps(),l=!this.targetLayout||!nV(this.targetLayout,n)||r,u=!e&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||e&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);let e={...ry(i,"layout"),onPlay:s,onComplete:a};(o.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else e||n5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=n})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let t=this.getStack();t&&t.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,tM(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(n8),this.animationId++)}getTransformTemplate(){let{visualElement:t}=this.options;return t&&t.getProps().transformTemplate}willUpdate(t=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let t=0;t<this.path.length;t++){let e=this.path[t];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}let{layoutId:e,layout:r}=this.options;if(void 0===e&&!r)return;let n=this.getTransformTemplate();this.prevTransformTemplateValue=n?n(this.latestValues,""):void 0,this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;let t=this.isUpdateBlocked();if(t){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(n1);return}this.isUpdating||this.nodes.forEach(n2),this.isUpdating=!1,this.nodes.forEach(n3),this.nodes.forEach(nG),this.nodes.forEach(nX),this.clearAllSnapshots();let e=performance.now();tO.delta=D(0,1e3/60,e-tO.timestamp),tO.timestamp=e,tO.isProcessing=!0,tB.update.process(tO),tB.preRender.process(tO),tB.render.process(tO),tO.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(n0),this.sharedNodes.forEach(n9)}scheduleUpdateProjection(){tR.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){tR.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let t=0;t<this.path.length;t++){let e=this.path[t];e.updateScroll()}let t=this.layout;this.layout=this.measure(!1),this.layoutCorrected=r4(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:e}=this.options;e&&e.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}updateScroll(t="measure"){let e=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(e=!1),e&&(this.scroll={animationId:this.root.animationId,phase:t,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!i)return;let t=this.isLayoutDirty||this.shouldResetTransform,e=this.projectionDelta&&!nD(this.projectionDelta),r=this.getTransformTemplate(),n=r?r(this.latestValues,""):void 0,o=n!==this.prevTransformTemplateValue;t&&(e||ne(this.latestValues)||o)&&(i(this.instance,n),this.shouldResetTransform=!1,this.scheduleRender())}measure(t=!0){var e;let r=this.measurePageBox(),n=this.removeElementScroll(r);return t&&(n=this.removeTransform(n)),is((e=n).x),is(e.y),{animationId:this.root.animationId,measuredBox:r,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:t}=this.options;if(!t)return r4();let e=t.measureViewportBox(),{scroll:r}=this.root;return r&&(na(e.x,r.offset.x),na(e.y,r.offset.y)),e}removeElementScroll(t){let e=r4();nM(e,t);for(let r=0;r<this.path.length;r++){let n=this.path[r],{scroll:i,options:o}=n;if(n!==this.root&&i&&o.layoutScroll){if(i.isRoot){nM(e,t);let{scroll:r}=this.root;r&&(na(e.x,-r.offset.x),na(e.y,-r.offset.y))}na(e.x,i.offset.x),na(e.y,i.offset.y)}}return e}applyTransform(t,e=!1){let r=r4();nM(r,t);for(let t=0;t<this.path.length;t++){let n=this.path[t];!e&&n.options.layoutScroll&&n.scroll&&n!==n.root&&nc(r,{x:-n.scroll.offset.x,y:-n.scroll.offset.y}),ne(n.latestValues)&&nc(r,n.latestValues)}return ne(this.latestValues)&&nc(r,this.latestValues),r}removeTransform(t){let e=r4();nM(e,t);for(let t=0;t<this.path.length;t++){let r=this.path[t];if(!r.instance||!ne(r.latestValues))continue;nt(r.latestValues)&&r.updateSnapshot();let n=r4(),i=r.measurePageBox();nM(n,i),nj(e,r.latestValues,r.snapshot?r.snapshot.layoutBox:void 0,n)}return ne(this.latestValues)&&nj(e,this.latestValues),e}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(t){this.options={...this.options,...t,crossfade:void 0===t.crossfade||t.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tO.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(t=!1){var e,r,n,i;let o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);let s=Boolean(this.resumingFrom)||this!==o,a=!(t||s&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget);if(a)return;let{layout:l,layoutId:u}=this.options;if(this.layout&&(l||u)){if(this.resolvedRelativeTargetAt=tO.timestamp,!this.targetDelta&&!this.relativeTarget){let t=this.getClosestProjectingParent();t&&t.layout&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=r4(),this.relativeTargetOrigin=r4(),rZ(this.relativeTargetOrigin,this.layout.layoutBox,t.layout.layoutBox),nM(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if((this.target||(this.target=r4(),this.targetWithTransforms=r4()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target)?(this.forceRelativeParentToResolveTarget(),r=this.target,n=this.relativeTarget,i=this.relativeParent.target,rG(r.x,n.x,i.x),rG(r.y,n.y,i.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):nM(this.target,this.layout.layoutBox),no(this.target,this.targetDelta)):nM(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let t=this.getClosestProjectingParent();t&&Boolean(t.resumingFrom)===Boolean(this.resumingFrom)&&!t.options.layoutScroll&&t.target&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=r4(),this.relativeTargetOrigin=r4(),rZ(this.relativeTargetOrigin,this.target,t.target),nM(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}nQ.resolvedTargetDeltas++}}}getClosestProjectingParent(){return!this.parent||nt(this.parent.latestValues)||nr(this.parent.latestValues)?void 0:this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var t;let e=this.getLead(),r=Boolean(this.resumingFrom)||this!==e,n=!0;if((this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty))&&(n=!1),r&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===tO.timestamp&&(n=!1),n)return;let{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(i||o))return;nM(this.layoutCorrected,this.layout.layoutBox);let s=this.treeScale.x,a=this.treeScale.y;!function(t,e,r,n=!1){let i,o;let s=r.length;if(s){e.x=e.y=1;for(let a=0;a<s;a++){o=(i=r[a]).projectionDelta;let s=i.instance;(!s||!s.style||"contents"!==s.style.display)&&(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&nc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,no(t,o)),n&&ne(i.latestValues)&&nc(t,i.latestValues))}e.x=ns(e.x),e.y=ns(e.y)}}(this.layoutCorrected,this.treeScale,this.path,r),e.layout&&!e.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(e.target=e.layout.layoutBox);let{target:l}=e;if(!l){this.projectionTransform&&(this.projectionDelta=r5(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=r5(),this.projectionDeltaWithTransform=r5());let u=this.projectionTransform;rY(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=nK(this.projectionDelta,this.treeScale),(this.projectionTransform!==u||this.treeScale.x!==s||this.treeScale.y!==a)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),nQ.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(t=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),t){let t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(t,e=!1){let r;let n=this.snapshot,i=n?n.latestValues:{},o={...this.latestValues},s=r5();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!e;let a=r4(),l=n?n.source:void 0,u=this.layout?this.layout.source:void 0,h=l!==u,c=this.getStack(),p=!c||c.members.length<=1,f=Boolean(h&&!p&&!0===this.options.crossfade&&!this.path.some(ie));this.animationProgress=0,this.mixTargetDelta=e=>{let n=e/1e3;if(n7(s.x,t.x,n),n7(s.y,t.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var l,u,c,d;rZ(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),c=this.relativeTarget,d=this.relativeTargetOrigin,it(c.x,d.x,a.x,n),it(c.y,d.y,a.y,n),r&&(l=this.relativeTarget,u=r,l.x.min===u.x.min&&l.x.max===u.x.max&&l.y.min===u.y.min&&l.y.max===u.y.max)&&(this.isProjectionDirty=!1),r||(r=r4()),nM(r,this.relativeTarget)}h&&(this.animationValues=o,function(t,e,r,n,i,o){i?(t.opacity=eT(0,void 0!==r.opacity?r.opacity:1,nT(n)),t.opacityExit=eT(void 0!==e.opacity?e.opacity:1,0,nC(n))):o&&(t.opacity=eT(void 0!==e.opacity?e.opacity:1,void 0!==r.opacity?r.opacity:1,n));for(let i=0;i<nx;i++){let o=`border${nE[i]}Radius`,s=nP(e,o),a=nP(r,o);if(void 0===s&&void 0===a)continue;s||(s=0),a||(a=0);let l=0===s||0===a||nA(s)===nA(a);l?(t[o]=Math.max(eT(nk(s),nk(a),n),0),(G.test(a)||G.test(s))&&(t[o]+="%")):t[o]=a}(e.rotate||r.rotate)&&(t.rotate=eT(e.rotate||0,r.rotate||0,n))}(o,i,this.latestValues,n,f,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(t){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(tM(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tR.update(()=>{ny.hasAnimatedSinceResize=!0,this.currentAnimation=function(t,e,r){let n=M(t)?t:rP(t);return n.start(rv("",n,1e3,r)),n.animation}(0,0,{...t,onUpdate:e=>{this.mixTargetDelta(e),t.onUpdate&&t.onUpdate(e)},onComplete:()=>{t.onComplete&&t.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let t=this.getStack();t&&t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let t=this.getLead(),{targetWithTransforms:e,target:r,layout:n,latestValues:i}=t;if(e&&r&&n){if(this!==t&&this.layout&&n&&ia(this.options.animationType,this.layout.layoutBox,n.layoutBox)){r=this.target||r4();let e=r$(this.layout.layoutBox.x);r.x.min=t.target.x.min,r.x.max=r.x.min+e;let n=r$(this.layout.layoutBox.y);r.y.min=t.target.y.min,r.y.max=r.y.min+n}nM(e,r),nc(e,i),rY(this.projectionDeltaWithTransform,this.layoutCorrected,e,i)}}registerSharedNode(t,e){this.sharedNodes.has(t)||this.sharedNodes.set(t,new nq);let r=this.sharedNodes.get(t);r.add(e);let n=e.options.initialPromotionConfig;e.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(e):void 0})}isLead(){let t=this.getStack();return!t||t.lead===this}getLead(){var t;let{layoutId:e}=this.options;return e&&(null===(t=this.getStack())||void 0===t?void 0:t.lead)||this}getPrevLead(){var t;let{layoutId:e}=this.options;return e?null===(t=this.getStack())||void 0===t?void 0:t.prevLead:void 0}getStack(){let{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote({needsReset:t,transition:e,preserveFollowOpacity:r}={}){let n=this.getStack();n&&n.promote(this,r),t&&(this.projectionDelta=void 0,this.needsReset=!0),e&&this.setOptions({transition:e})}relegate(){let t=this.getStack();return!!t&&t.relegate(this)}resetRotation(){let{visualElement:t}=this.options;if(!t)return;let e=!1,{latestValues:r}=t;if((r.rotate||r.rotateX||r.rotateY||r.rotateZ)&&(e=!0),!e)return;let n={};for(let e=0;e<n$.length;e++){let i="rotate"+n$[e];r[i]&&(n[i]=r[i],t.setStaticValue(i,0))}for(let e in t.render(),n)t.setStaticValue(e,n[e]);t.scheduleRender()}getProjectionStyles(t={}){var e,r;let n={};if(!this.instance||this.isSVG)return n;if(!this.isVisible)return{visibility:"hidden"};n.visibility="";let i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,n.opacity="",n.pointerEvents=tP(t.pointerEvents)||"",n.transform=i?i(this.latestValues,""):"none",n;let o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){let e={};return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=tP(t.pointerEvents)||""),this.hasProjected&&!ne(this.latestValues)&&(e.transform=i?i({},""):"none",this.hasProjected=!1),e}let s=o.animationValues||o.latestValues;this.applyTransformsToTarget(),n.transform=nK(this.projectionDeltaWithTransform,this.treeScale,s),i&&(n.transform=i(s,n.transform));let{x:a,y:l}=this.projectionDelta;for(let t in n.transformOrigin=`${100*a.origin}% ${100*l.origin}% 0`,o.animationValues?n.opacity=o===this?null!==(r=null!==(e=s.opacity)&&void 0!==e?e:this.latestValues.opacity)&&void 0!==r?r:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:n.opacity=o===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0,T){if(void 0===s[t])continue;let{correct:e,applyTo:r}=T[t],i="none"===n.transform?s[t]:e(s[t],o);if(r){let t=r.length;for(let e=0;e<t;e++)n[r[e]]=i}else n[t]=i}return this.options.layoutId&&(n.pointerEvents=o===this?tP(t.pointerEvents)||"":"none"),n}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(t=>{var e;return null===(e=t.currentAnimation)||void 0===e?void 0:e.stop()}),this.root.nodes.forEach(n1),this.root.sharedNodes.clear()}}}function nG(t){t.updateLayout()}function nX(t){var e;let r=(null===(e=t.resumeFrom)||void 0===e?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){let{layoutBox:e,measuredBox:n}=t.layout,{animationType:i}=t.options,o=r.source!==t.layout.source;"size"===i?r8(t=>{let n=o?r.measuredBox[t]:r.layoutBox[t],i=r$(n);n.min=e[t].min,n.max=n.min+i}):ia(i,r.layoutBox,e)&&r8(n=>{let i=o?r.measuredBox[n]:r.layoutBox[n],s=r$(e[n]);i.max=i.min+s,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[n].max=t.relativeTarget[n].min+s)});let s=r5();rY(s,e,r.layoutBox);let a=r5();o?rY(a,t.applyTransform(n,!0),r.measuredBox):rY(a,e,r.layoutBox);let l=!nD(s),u=!1;if(!t.resumeFrom){let n=t.getClosestProjectingParent();if(n&&!n.resumeFrom){let{snapshot:i,layout:o}=n;if(i&&o){let s=r4();rZ(s,r.layoutBox,i.layoutBox);let a=r4();rZ(a,e,o.layoutBox),nV(s,a)||(u=!0),n.options.layoutRoot&&(t.relativeTarget=a,t.relativeTargetOrigin=s,t.relativeParent=n)}}}t.notifyListeners("didUpdate",{layout:e,snapshot:r,delta:a,layoutDelta:s,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(t.isLead()){let{onExitComplete:e}=t.options;e&&e()}t.options.transition=void 0}function nZ(t){nQ.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=Boolean(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function nJ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function n0(t){t.clearSnapshot()}function n1(t){t.clearMeasurements()}function n2(t){t.isLayoutDirty=!1}function n3(t){let{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function n5(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function n6(t){t.resolveTargetDelta()}function n4(t){t.calcProjection()}function n8(t){t.resetRotation()}function n9(t){t.removeLeadSnapshot()}function n7(t,e,r){t.translate=eT(e.translate,0,r),t.scale=eT(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function it(t,e,r,n){t.min=eT(e.min,r.min,n),t.max=eT(e.max,r.max,n)}function ie(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}let ir={duration:.45,ease:[.4,0,.1,1]},ii=t=>"undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().includes(t),io=ii("applewebkit/")&&!ii("chrome/")?Math.round:tC;function is(t){t.min=io(t.min),t.max=io(t.max)}function ia(t,e,r){return"position"===t||"preserve-aspect"===t&&!rz(nF(e),nF(r),.2)}let il=nY({attachResizeListener:(t,e)=>tj(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),iu={current:void 0},ih=nY({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!iu.current){let t=new il({});t.mount(window),t.setOptions({layoutScroll:!0}),iu.current=t}return iu.current},resetTransform:(t,e)=>{t.style.transform=void 0!==e?e:"none"},checkIsScrollRoot:t=>Boolean("fixed"===window.getComputedStyle(t).position)}),ic=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function ip(t,e,r=1){tC(r<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`);let[n,i]=function(t){let e=ic.exec(t);if(!e)return[,];let[,r,n]=e;return[r,n]}(t);if(!n)return;let o=window.getComputedStyle(e).getPropertyValue(n);if(o){let t=o.trim();return rw(t)?parseFloat(t):t}return j(i)?ip(i,e,r+1):i}let id=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),im=t=>id.has(t),ig=t=>Object.keys(t).some(im),iy=t=>t===V||t===X,iv=(t,e)=>parseFloat(t.split(", ")[e]),ib=(t,e)=>(r,{transform:n})=>{if("none"===n||!n)return 0;let i=n.match(/^matrix3d\((.+)\)$/);if(i)return iv(i[1],e);{let e=n.match(/^matrix\((.+)\)$/);return e?iv(e[1],t):0}},iw=new Set(["x","y","z"]),i_=C.filter(t=>!iw.has(t)),iS={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:ib(4,13),y:ib(5,14)};iS.translateX=iS.x,iS.translateY=iS.y;let iE=(t,e,r)=>{let n=e.measureViewportBox(),i=e.current,o=getComputedStyle(i),{display:s}=o,a={};"none"===s&&e.setStaticValue("display",t.display||"block"),r.forEach(t=>{a[t]=iS[t](n,o)}),e.render();let l=e.measureViewportBox();return r.forEach(r=>{let n=e.getValue(r);n&&n.jump(a[r]),t[r]=iS[r](l,o)}),t},ix=(t,e,r={},n={})=>{e={...e},n={...n};let i=Object.keys(e).filter(im),o=[],s=!1,a=[];if(i.forEach(i=>{let l;let u=t.getValue(i);if(!t.hasValue(i))return;let h=r[i],c=rI(h),p=e[i];if(tx(p)){let t=p.length,e=null===p[0]?1:0;c=rI(h=p[e]);for(let r=e;r<t&&null!==p[r];r++)l?tC(rI(p[r])===l,"All keyframes must be of the same type"):tC((l=rI(p[r]))===c||iy(c)&&iy(l),"Keyframes must be of the same dimension as the current value")}else l=rI(p);if(c!==l){if(iy(c)&&iy(l)){let t=u.get();"string"==typeof t&&u.set(parseFloat(t)),"string"==typeof p?e[i]=parseFloat(p):Array.isArray(p)&&l===X&&(e[i]=p.map(parseFloat))}else(null==c?void 0:c.transform)&&(null==l?void 0:l.transform)&&(0===h||0===p)?0===h?u.set(l.transform(h)):e[i]=c.transform(p):(s||(o=function(t){let e=[];return i_.forEach(r=>{let n=t.getValue(r);void 0!==n&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e.length&&t.render(),e}(t),s=!0),a.push(i),n[i]=void 0!==n[i]?n[i]:e[i],u.jump(p))}}),!a.length)return{target:e,transitionEnd:n};{let r=a.indexOf("height")>=0?window.pageYOffset:null,i=iE(e,t,a);return o.length&&o.forEach(([e,r])=>{t.getValue(e).set(r)}),t.render(),h&&null!==r&&window.scrollTo({top:r}),{target:i,transitionEnd:n}}},ik=(t,e,r,n)=>{var i,o;let s=function(t,{...e},r){let n=t.current;if(!(n instanceof Element))return{target:e,transitionEnd:r};for(let i in r&&(r={...r}),t.values.forEach(t=>{let e=t.get();if(!j(e))return;let r=ip(e,n);r&&t.set(r)}),e){let t=e[i];if(!j(t))continue;let o=ip(t,n);o&&(e[i]=o,r||(r={}),void 0===r[i]&&(r[i]=t))}return{target:e,transitionEnd:r}}(t,e,n);return e=s.target,n=s.transitionEnd,i=e,o=n,ig(i)?ix(t,i,r,o):{target:i,transitionEnd:o}},iA={current:null},iP={current:!1},iT=new WeakMap,iC=Object.keys(S),iI=iC.length,iR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],iM=y.length;class iO{constructor({parent:t,props:e,presenceContext:r,reducedMotionConfig:n,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>tR.render(this.render,!1,!0);let{latestValues:s,renderState:a}=i;this.latestValues=s,this.baseTarget={...s},this.initialValues=e.initial?{...s}:{},this.renderState=a,this.parent=t,this.props=e,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=o,this.isControllingVariants=v(e),this.isVariantNode=b(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);let{willChange:l,...u}=this.scrapeMotionValuesFromProps(e,{});for(let t in u){let e=u[t];void 0!==s[t]&&M(e)&&(e.set(s[t],!1),rb(l)&&l.add(t))}}scrapeMotionValuesFromProps(t,e){return{}}mount(t){this.current=t,iT.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,e)=>this.bindToMotionValue(e,t)),iP.current||function(){if(iP.current=!0,h){if(window.matchMedia){let t=window.matchMedia("(prefers-reduced-motion)"),e=()=>iA.current=t.matches;t.addListener(e),e()}else iA.current=!1}}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||iA.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let t in iT.delete(this.current),this.projection&&this.projection.unmount(),tM(this.notifyUpdate),tM(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[t].clear();for(let t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,e){let r=I.has(t),n=e.on("change",e=>{this.latestValues[t]=e,this.props.onUpdate&&tR.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=e.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{n(),i()})}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}loadFeatures({children:t,...e},r,n,i){let o,s;for(let t=0;t<iI;t++){let r=iC[t],{isEnabled:n,Feature:i,ProjectionNode:a,MeasureLayout:l}=S[r];a&&(o=a),n(e)&&(!this.features[r]&&i&&(this.features[r]=new i(this)),l&&(s=l))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);let{layoutId:t,layout:r,drag:n,dragConstraints:s,layoutScroll:a,layoutRoot:l}=e;this.projection.setOptions({layoutId:t,layout:r,alwaysMeasureLayout:Boolean(n)||s&&f(s),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"==typeof r?r:"both",initialPromotionConfig:i,layoutScroll:a,layoutRoot:l})}return s}updateFeatures(){for(let t in this.features){let e=this.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):r4()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}makeTargetAnimatable(t,e=!0){return this.makeTargetAnimatableFromInstance(t,this.props,e)}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let e=0;e<iR.length;e++){let r=iR[e];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);let n=t["on"+r];n&&(this.propEventSubscriptions[r]=this.on(r,n))}this.prevMotionValues=function(t,e,r){let{willChange:n}=e;for(let i in e){let o=e[i],s=r[i];if(M(o))t.addValue(i,o),rb(n)&&n.add(i);else if(M(s))t.addValue(i,rP(o,{owner:t})),rb(n)&&n.remove(i);else if(s!==o){if(t.hasValue(i)){let e=t.getValue(i);e.hasAnimated||e.set(o)}else{let e=t.getStaticValue(i);t.addValue(i,rP(void 0!==e?e:o,{owner:t}))}}}for(let n in r)void 0===e[n]&&t.removeValue(n);return e}(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){let t=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(t.initial=this.props.initial),t}let e={};for(let t=0;t<iM;t++){let r=y[t],n=this.props[r];(d(n)||!1===n)&&(e[r]=n)}return e}addVariantChild(t){let e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){e!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,e)),this.values.set(t,e),this.latestValues[t]=e.get()}removeValue(t){this.values.delete(t);let e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return void 0===r&&void 0!==e&&(r=rP(e,{owner:this}),this.addValue(t,r)),r}readValue(t){var e;return void 0===this.latestValues[t]&&this.current?null!==(e=this.getBaseTargetFromProps(this.props,t))&&void 0!==e?e:this.readValueFromInstance(this.current,t,this.options):this.latestValues[t]}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;let{initial:r}=this.props,n="string"==typeof r||"object"==typeof r?null===(e=tE(this.props,r))||void 0===e?void 0:e[t]:void 0;if(r&&void 0!==n)return n;let i=this.getBaseTargetFromProps(this.props,t);return void 0===i||M(i)?void 0!==this.initialValues[t]&&void 0===n?void 0:this.baseTarget[t]:i}on(t,e){return this.events[t]||(this.events[t]=new rE),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class iB extends iO{sortInstanceNodePosition(t,e){return 2&t.compareDocumentPosition(e)?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:r}){delete e[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:e,...r},{transformValues:n},i){let o=function(t,e,r){let n={};for(let i in t){let t=function(t,e){if(!e)return;let r=e[t]||e.default||e;return r.from}(i,e);if(void 0!==t)n[i]=t;else{let t=r.getValue(i);t&&(n[i]=t.get())}}return n}(r,t||{},this);if(n&&(e&&(e=n(e)),r&&(r=n(r)),o&&(o=n(o))),i){!function(t,e,r){var n,i;let o=Object.keys(e).filter(e=>!t.hasValue(e)),s=o.length;if(s)for(let a=0;a<s;a++){let s=o[a],l=e[s],u=null;Array.isArray(l)&&(u=l[0]),null===u&&(u=null!==(i=null!==(n=r[s])&&void 0!==n?n:t.readValue(s))&&void 0!==i?i:e[s]),null!=u&&("string"==typeof u&&(rw(u)||rg(u))?u=parseFloat(u):!rM(u)&&eK.test(l)&&(u=rm(s,l)),t.addValue(s,rP(u,{owner:t})),void 0===r[s]&&(r[s]=u),null!==u&&t.setBaseTarget(s,u))}}(this,r,o);let t=ik(this,r,o,e);e=t.transitionEnd,r=t.target}return{transition:t,transitionEnd:e,...r}}}class iL extends iB{readValueFromInstance(t,e){if(I.has(e)){let t=rd(e);return t&&t.default||0}{let r=window.getComputedStyle(t),n=(N(e)?r.getPropertyValue(e):r[e])||0;return"string"==typeof n?n.trim():n}}measureInstanceViewportBox(t,{transformPagePoint:e}){return np(t,e)}build(t,e,r,n){tn(t,e,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,e){return t_(t,e)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:t}=this.props;M(t)&&(this.childSubscription=t.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(t,e,r,n){tv(t,e,r,n)}}class iN extends iB{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(I.has(e)){let t=rd(e);return t&&t.default||0}return e=tb.has(e)?e:ty(e),t.getAttribute(e)}measureInstanceViewportBox(){return r4()}scrapeMotionValuesFromProps(t,e){return tS(t,e)}build(t,e,r,n){tf(t,e,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,e,r,n){tw(t,e,r,n)}mount(t){this.isSVGTag=tm(t.tagName),super.mount(t)}}let ij=(t,e)=>P(t)?new iN(e,{enableHardwareAcceleration:!1}):new iL(e,{enableHardwareAcceleration:!0}),iU={animation:{Feature:class extends tY{constructor(t){super(t),t.animationState||(t.animationState=function(t){let e=e=>Promise.all(e.map(({animation:e,options:r})=>(function(t,e,r={}){let n;if(t.notify("AnimationStart",e),Array.isArray(e)){let i=e.map(e=>rB(t,e,r));n=Promise.all(i)}else if("string"==typeof e)n=rB(t,e,r);else{let i="function"==typeof e?t6(t,e,r.custom):e;n=Promise.all(rO(t,i,r))}return n.then(()=>t.notify("AnimationComplete",e))})(t,e,r))),r={animate:rU(!0),whileInView:rU(),whileHover:rU(),whileTap:rU(),whileDrag:rU(),whileFocus:rU(),exit:rU()},n=!0,i=(e,r)=>{let n=t6(t,r);if(n){let{transition:t,transitionEnd:r,...i}=n;e={...e,...i,...r}}return e};function o(o,s){let a=t.getProps(),l=t.getVariantContext(!0)||{},u=[],h=new Set,c={},p=1/0;for(let e=0;e<rj;e++){var f;let g=rN[e],y=r[g],v=void 0!==a[g]?a[g]:l[g],b=d(v),w=g===s?y.isActive:null;!1===w&&(p=e);let _=v===l[g]&&v!==a[g]&&b;if(_&&n&&t.manuallyAnimateOnMount&&(_=!1),y.protectedKeys={...c},!y.isActive&&null===w||!v&&!y.prevProp||m(v)||"boolean"==typeof v)continue;let S=(f=y.prevProp,"string"==typeof v?v!==f:!!Array.isArray(v)&&!t5(v,f)),E=S||g===s&&y.isActive&&!_&&b||e>p&&b,x=Array.isArray(v)?v:[v],k=x.reduce(i,{});!1===w&&(k={});let{prevResolvedValues:A={}}=y,P={...A,...k},T=t=>{E=!0,h.delete(t),y.needsAnimating[t]=!0};for(let t in P){let e=k[t],r=A[t];c.hasOwnProperty(t)||(e!==r?tx(e)&&tx(r)?!t5(e,r)||S?T(t):y.protectedKeys[t]=!0:void 0!==e?T(t):h.add(t):void 0!==e&&h.has(t)?T(t):y.protectedKeys[t]=!0)}y.prevProp=v,y.prevResolvedValues=k,y.isActive&&(c={...c,...k}),n&&t.blockInitialAnimation&&(E=!1),E&&!_&&u.push(...x.map(t=>({animation:t,options:{type:g,...o}})))}if(h.size){let e={};h.forEach(r=>{let n=t.getBaseTarget(r);void 0!==n&&(e[r]=n)}),u.push({animation:e})}let g=Boolean(u.length);return n&&!1===a.initial&&!t.manuallyAnimateOnMount&&(g=!1),n=!1,g?e(u):Promise.resolve()}return{animateChanges:o,setActive:function(e,n,i){var s;if(r[e].isActive===n)return Promise.resolve();null===(s=t.variantChildren)||void 0===s||s.forEach(t=>{var r;return null===(r=t.animationState)||void 0===r?void 0:r.setActive(e,n)}),r[e].isActive=n;let a=o(i,e);for(let t in r)r[t].protectedKeys={};return a},setAnimateFunction:function(r){e=r(t)},getState:()=>r}}(t))}updateAnimationControlsSubscription(){let{animate:t}=this.node.getProps();this.unmount(),m(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends tY{constructor(){super(...arguments),this.id=rD++}update(){if(!this.node.presenceContext)return;let{isPresent:t,onExitComplete:e,custom:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;let i=this.node.animationState.setActive("exit",!t,{custom:null!=r?r:this.node.getProps().custom});e&&!t&&i.then(()=>e(this.id))}mount(){let{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}},inView:{Feature:class extends tY{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:t={}}=this.node.getProps(),{root:e,margin:r,amount:n="some",once:i}=t,o={root:e?e.current:void 0,rootMargin:r,threshold:"number"==typeof n?n:t3[n]},s=t=>{let{isIntersecting:e}=t;if(this.isInView===e||(this.isInView=e,i&&!e&&this.hasEnteredView))return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",e);let{onViewportEnter:r,onViewportLeave:n}=this.node.getProps(),o=e?r:n;o&&o(t)};return function(t,e,r){let n=function({root:t,...e}){let r=t||document;t0.has(r)||t0.set(r,{});let n=t0.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(t2,{root:t,...e})),n[i]}(e);return tJ.set(t,r),n.observe(t),()=>{tJ.delete(t),n.unobserve(t)}}(this.node.current,o,s)}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:t,prevProps:e}=this.node,r=["amount","margin","root"].some(function({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}(t,e));r&&this.startObserver()}unmount(){}}},tap:{Feature:class extends tY{constructor(){super(...arguments),this.removeStartListeners=tC,this.removeEndListeners=tC,this.removeAccessibleListeners=tC,this.startPointerPress=(t,e)=>{if(this.removeEndListeners(),this.isPressing)return;let r=this.node.getProps(),n=(t,e)=>{if(!this.checkPressEnd())return;let{onTap:r,onTapCancel:n}=this.node.getProps();tR.update(()=>{tX(this.node.current,t.target)?r&&r(t,e):n&&n(t,e)})},i=tF(window,"pointerup",n,{passive:!(r.onTap||r.onPointerUp)}),o=tF(window,"pointercancel",(t,e)=>this.cancelPress(t,e),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=tK(i,o),this.startPress(t,e)},this.startAccessiblePress=()=>{let t=t=>{if("Enter"!==t.key||this.isPressing)return;let e=t=>{"Enter"===t.key&&this.checkPressEnd()&&tZ("up",(t,e)=>{let{onTap:r}=this.node.getProps();r&&tR.update(()=>r(t,e))})};this.removeEndListeners(),this.removeEndListeners=tj(this.node.current,"keyup",e),tZ("down",(t,e)=>{this.startPress(t,e)})},e=tj(this.node.current,"keydown",t),r=()=>{this.isPressing&&tZ("cancel",(t,e)=>this.cancelPress(t,e))},n=tj(this.node.current,"blur",r);this.removeAccessibleListeners=tK(e,n)}}startPress(t,e){this.isPressing=!0;let{onTapStart:r,whileTap:n}=this.node.getProps();n&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&tR.update(()=>r(t,e))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;let t=this.node.getProps();return t.whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!tQ()}cancelPress(t,e){if(!this.checkPressEnd())return;let{onTapCancel:r}=this.node.getProps();r&&tR.update(()=>r(t,e))}mount(){let t=this.node.getProps(),e=tF(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=tj(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=tK(e,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends tY{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(e){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tK(tj(this.node.current,"focus",()=>this.onFocus()),tj(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends tY{mount(){this.unmount=tK(tG(this.node,!0),tG(this.node,!1))}unmount(){}}},pan:{Feature:class extends tY{constructor(){super(...arguments),this.removePointerDownListener=tC}onPointerDown(t){this.session=new rF(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){let{onPanSessionStart:t,onPanStart:e,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:ng(t),onStart:ng(e),onMove:r,onEnd:(t,e)=>{delete this.session,n&&tR.update(()=>n(t,e))}}}mount(){this.removePointerDownListener=tF(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends tY{constructor(t){super(t),this.removeGroupControls=tC,this.removeListeners=tC,this.controls=new nd(t)}mount(){let{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||tC}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:ih,MeasureLayout:n_},layout:{ProjectionNode:ih,MeasureLayout:n_}},iD=function(t){function e(e,r={}){return function({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:i}){t&&function(t){for(let e in t)S[e]={...S[e],...t[e]}}(t);let o=(0,s.forwardRef)(function(o,m){var g,y;let b;let _={...(0,s.useContext)(a),...o,layoutId:function({layoutId:t}){let e=(0,s.useContext)(E).id;return e&&void 0!==t?e+"-"+t:t}(o)},{isStatic:S}=_,k=function(t){let{initial:e,animate:r}=function(t,e){if(v(t)){let{initial:e,animate:r}=t;return{initial:!1===e||d(e)?e:void 0,animate:d(r)?r:void 0}}return!1!==t.inherit?e:{}}(t,(0,s.useContext)(l));return(0,s.useMemo)(()=>({initial:e,animate:r}),[w(e),w(r)])}(o),A=n(o,S);if(!S&&h){k.visualElement=function(t,e,r,n){let{visualElement:i}=(0,s.useContext)(l),o=(0,s.useContext)(p),h=(0,s.useContext)(u),f=(0,s.useContext)(a).reducedMotion,d=(0,s.useRef)();n=n||o.renderer,!d.current&&n&&(d.current=n(t,{visualState:e,parent:i,props:r,presenceContext:h,blockInitialAnimation:!!h&&!1===h.initial,reducedMotionConfig:f}));let m=d.current;(0,s.useInsertionEffect)(()=>{m&&m.update(r,h)});let g=(0,s.useRef)(Boolean(window.HandoffAppearAnimations));return c(()=>{m&&(m.render(),g.current&&m.animationState&&m.animationState.animateChanges())}),(0,s.useEffect)(()=>{m&&(m.updateFeatures(),!g.current&&m.animationState&&m.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,g.current=!1)}),m}(i,A,_,e);let r=(0,s.useContext)(x),n=(0,s.useContext)(p).strict;k.visualElement&&(b=k.visualElement.loadFeatures(_,n,t,r))}return s.createElement(l.Provider,{value:k},b&&k.visualElement?s.createElement(b,{visualElement:k.visualElement,..._}):null,r(i,o,(g=k.visualElement,y=m,(0,s.useCallback)(t=>{t&&A.mount&&A.mount(t),g&&(t?g.mount(t):g.unmount()),y&&("function"==typeof y?y(t):f(y)&&(y.current=t))},[g])),A,S,k.visualElement))});return o[k]=i,o}(t(e,r))}if("undefined"==typeof Proxy)return e;let r=new Map;return new Proxy(e,{get:(t,n)=>(r.has(n)||r.set(n,e(n)),r.get(n))})}((t,e)=>(function(t,{forwardMotionProps:e=!1},r,n){let i=P(t)?tL:tN;return{...i,preloadedFeatures:r,useRender:function(t=!1){let e=(e,r,n,{latestValues:i},o)=>{let a=P(e)?tg:ts,l=a(r,i,o,e),u=function(t,e,r){let n={};for(let i in t)("values"!==i||"object"!=typeof t.values)&&(tu(i)||!0===r&&tl(i)||!e&&!tl(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}(r,"string"==typeof e,t),h={...u,...l,ref:n},{children:c}=r,p=(0,s.useMemo)(()=>M(c)?c.get():c,[c]);return(0,s.createElement)(e,{...h,children:p})};return e}(e),createVisualElement:n,Component:t}})(t,e,iU,ij))}}]);